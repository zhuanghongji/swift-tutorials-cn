<!doctype html>
<html lang="zh-hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-swift/guide/advanced-operators/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">高级运算符 | Swift 悍刀行</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zhuanghongji.github.io/swift-tutorials-cn/docs/swift/guide/advanced-operators"><meta data-rh="true" name="docusaurus_locale" content="zh-hans"><meta data-rh="true" name="docsearch:language" content="zh-hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="高级运算符 | Swift 悍刀行"><meta data-rh="true" name="description" content="&lt;OriginalLink"><meta data-rh="true" property="og:description" content="&lt;OriginalLink"><link data-rh="true" rel="icon" href="/swift-tutorials-cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhuanghongji.github.io/swift-tutorials-cn/docs/swift/guide/advanced-operators"><link data-rh="true" rel="alternate" href="https://zhuanghongji.github.io/swift-tutorials-cn/docs/swift/guide/advanced-operators" hreflang="zh-hans"><link data-rh="true" rel="alternate" href="https://zhuanghongji.github.io/swift-tutorials-cn/docs/swift/guide/advanced-operators" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/swift-tutorials-cn/blog/rss.xml" title="Swift 悍刀行 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/swift-tutorials-cn/blog/atom.xml" title="Swift 悍刀行 Atom Feed"><link rel="stylesheet" href="/swift-tutorials-cn/assets/css/styles.a7cf13f8.css">
<link rel="preload" href="/swift-tutorials-cn/assets/js/runtime~main.b4417766.js" as="script">
<link rel="preload" href="/swift-tutorials-cn/assets/js/main.0cbf57d5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/swift-tutorials-cn/"><div class="navbar__logo"><img src="/swift-tutorials-cn/img/logo.svg" alt="Swift 悍刀行" class="themedImage_ToTc themedImage--light_HNdA"><img src="/swift-tutorials-cn/img/logo.svg" alt="Swift 悍刀行" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Swift 悍刀行</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/swift-tutorials-cn/docs/swift/welcome/about">Swift</a><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swiftui/essentials/about">SwiftUI</a><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swiftcharts/essentials/about">SwiftCharts</a><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swiftdata/essentials/about">SwiftData</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Frameworks</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/core-graphics/overview">Core Graphics</a></li><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/metal/overview">Metal</a></li><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/metalkit/overview">MetalKit</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Books</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/metal-programming-guide/introdution">Metal Programming Guide</a></li><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/metal-shading-language-specification/preface">Metal Shading Language Specification 3.1</a></li></ul></div><a href="https://github.com/zhuanghongji/swift-tutorials-cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Swift</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/swift/welcome/about">欢迎</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/welcome/about">关于 Swift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/welcome/a-swift-tour">快速浏览 Swift</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/the-basics">语言指南</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/the-basics">基础知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/basic-operators">基本运算符</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/strings-and-characters">字符串和字符</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/collection-types">集合类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/control-flow">控制流</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/functions">函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/closures">闭包</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/enumerations">枚举</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/structures-and-classes">结构体和类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/properties">属性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/methods">方法</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/subscripts">下标</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/inheritance">继承</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/initialization">初始化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/deinitialization">反初始化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/optional-chaining">可选链</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/error-handling">错误处理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/concurrency">并发</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/type-casting">类型转换</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/nested-types">嵌套类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/extensions">扩展</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/protocols">协议</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/generics">泛型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/opaque-types">不透明类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/automatic-reference-counting">自动引用计数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/memory-safety">内存安全</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/access-control">访问控制</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/swift-tutorials-cn/docs/swift/guide/advanced-operators">高级运算符</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/about">语言参考</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/about">关于语言参考</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/lexical-structure">词法结构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/types">类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/expressions">表达式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/statements">语句</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/declarations">声明</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/attributes">特性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/patterns">模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/generic-parameters-and-arguments">泛型形参和实参</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/reference/summary-of-the-grammar">语法总结</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/swift/standard-library/int">标准库</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/standard-library/int">Int</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/standard-library/double">Double</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/standard-library/string">String</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/swift/rest/numbers">其它</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/swift/rest/numbers">Numbers</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/swift-tutorials-cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Swift</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">语言指南</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">高级运算符</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>高级运算符</h1><div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>该文档刚完成 Google 翻译，需进一步校对和补充。</p></div></div></div><div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>定义自定义运算符、执行按位运算并使用构建器语法</div><div class="admonitionContent_S0QG"><p>原文：<a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/advancedoperators">https://docs.swift.org/swift-book/documentation/the-swift-programming-language/advancedoperators</a></p></div></div><br></div><p>除了 <a href="/swift-tutorials-cn/docs/swift/guide/basic-operators">基本运算符</a> 中描述的运算符之外，Swift 还提供了几个高级运算符来执行更复杂的值操作。这些包括您从 C 和 Objective-C 中熟悉的所有按位和位移运算符。</p><p>与 C 中的算术运算符不同，Swift 中的算术运算符默认情况下不会溢出。溢出行为被捕获并报告为错误。要选择溢出行为，请使用 Swift 的第二组默认溢出的算术运算符，例如溢出加法运算符 ( &amp;+)。所有这些溢出运算符都以与号 ( &amp;) 开头。</p><p>当您定义自己的结构、类和枚举时，为这些自定义类型提供您自己的标准 Swift 运算符的实现会很有用。Swift 可以轻松地为这些运算符提供量身定制的实现，并为您创建的每种类型准确确定它们的行为。</p><p>您不限于预定义的运算符。Swift 使您可以自由定义自己的自定义中缀、前缀、后缀和赋值运算符，以及自定义优先级和关联性值。这些运算符可以像任何预定义运算符一样在您的代码中使用和采用，您甚至可以扩展现有类型以支持您定义的自定义运算符。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="位运算符">位运算符<a href="#位运算符" class="hash-link" aria-label="位运算符的直接链接" title="位运算符的直接链接">​</a></h2><p>按位运算符使您能够操作数据结构中的各个原始数据位。它们通常用于低级编程，例如图形编程和设备驱动程序创建。当您处理来自外部源的原始数据时，按位运算符也很有用，例如通过自定义协议对数据进行编码和解码以进行通信。</p><p>Swift 支持 C 中的所有按位运算符，如下所述。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="按位非运算符">按位非运算符<a href="#按位非运算符" class="hash-link" aria-label="按位非运算符的直接链接" title="按位非运算符的直接链接">​</a></h2><p>按位非运算符( ~) 反转数字中的所有位：</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/bitwise-not-98122b364c23df5d949057eaeab0c883.png" width="660" height="194" class="img_ev3q"></p><p>按位 NOT 运算符是一个前缀运算符，紧接在它所运算的值之前出现，没有任何空格：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> initialBits</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">UInt8</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0b00001111</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> invertedBits </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">~</span><span class="token plain">initialBits  </span><span class="token comment" style="color:rgb(98, 114, 164)">// equals 11110000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>UInt8 整数有八位，可以存储 0 和之间的任何值 255。此示例 UInt8 使用二进制值初始化一个整数 00001111，其前四位设置为 0，后四位设置为 1。这相当于 的十进制值 15。</p><p>然后使用按位 NOT 运算符创建一个名为 的新常量，它等于，但所有位都取反了。零变成一，一变成零。的值为，等于 的无符号十进制值。invertedBitsinitialBitsinvertedBits11110000240</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="按位与运算符">按位与运算符<a href="#按位与运算符" class="hash-link" aria-label="按位与运算符的直接链接" title="按位与运算符的直接链接">​</a></h2><p>按位与运算符( )&amp;组合两个数字的位。它返回一个新数字，其位仅在两个输入数字中 1 的位相等时才设置为：1</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/bitwise-and-ec31ef44b213eb4b7f8ce4eee0619aa3.png" width="660" height="326" class="img_ev3q"></p><p>在下面的示例中，和的值都有四个中间位等于。按位 AND 运算符将它们组合起来生成数字，它等于无符号十进制值：firstSixBitslastSixBits10011110060</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> firstSixBits</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">UInt8</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0b11111100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> lastSixBits</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">UInt8</span><span class="token plain">  </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0b00111111</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> middleFourBits </span><span class="token operator">=</span><span class="token plain"> firstSixBits </span><span class="token operator">&amp;</span><span class="token plain"> lastSixBits  </span><span class="token comment" style="color:rgb(98, 114, 164)">// equals 00111100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="按位或运算符">按位或运算符<a href="#按位或运算符" class="hash-link" aria-label="按位或运算符的直接链接" title="按位或运算符的直接链接">​</a></h2><p>按位或运算符( |) 比较两个数字的位。1 如果任 1 一输入数字中的位等于，则运算符返回一个新数字，其位设置为：</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/bitwise-or-c4680c5c9c904113797496666055c7fc.png" width="660" height="326" class="img_ev3q"></p><p>在下面的示例中，和的值将不同的位设置为。按位 OR 运算符将它们组合成数字，它等于 的无符号小数：someBitsmoreBits111111110254</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> someBits</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">UInt8</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0b10110010</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> moreBits</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">UInt8</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0b01011110</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> combinedbits </span><span class="token operator">=</span><span class="token plain"> someBits </span><span class="token operator">|</span><span class="token plain"> moreBits  </span><span class="token comment" style="color:rgb(98, 114, 164)">// equals 11111110</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="按位异或运算符">按位异或运算符<a href="#按位异或运算符" class="hash-link" aria-label="按位异或运算符的直接链接" title="按位异或运算符的直接链接">​</a></h2><p>按位 XOR 运算符或“异或运算符”( ^) 比较两个数字的位。运算符返回一个新数字，其位设置为 1 输入位不同的位置和 0 输入位相同的位置：</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/bitwise-xor-0ac73d8a84cac8e2b0c6b40e5a77eeb0.png" width="660" height="326" class="img_ev3q"></p><p>在下面的示例中，和每个的值都在一个位置设置了一个位，而另一个没有。按位 XOR 运算符将这两个位设置为其输出值。和中的所有其他位匹配并在输出值中设置为：firstBitsotherBits11firstBitsotherBits0</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> firstBits</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">UInt8</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0b00010100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> otherBits</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">UInt8</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0b00000101</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> outputBits </span><span class="token operator">=</span><span class="token plain"> firstBits </span><span class="token operator">^</span><span class="token plain"> otherBits  </span><span class="token comment" style="color:rgb(98, 114, 164)">// equals 00010001</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="按位左移和右移运算符">按位左移和右移运算符<a href="#按位左移和右移运算符" class="hash-link" aria-label="按位左移和右移运算符的直接链接" title="按位左移和右移运算符的直接链接">​</a></h2><p>按位左移运算符( )&lt;&lt;和按位右移运算符( &gt;&gt;) 根据下面定义的规则将数字中的所有位向左或向右移动一定数量的位置。</p><p>按位左移和右移具有将整数乘以或除以两倍的效果。将整数的位向左移动一位使其值加倍，而将其向右移动一位使其值减半。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="无符号整数的移位行为">无符号整数的移位行为<a href="#无符号整数的移位行为" class="hash-link" aria-label="无符号整数的移位行为的直接链接" title="无符号整数的移位行为的直接链接">​</a></h2><p>无符号整数的位移行为如下：</p><ul><li>现有位向左或向右移动请求的位数。</li><li>任何超出整数存储范围的位都将被丢弃。</li><li>将原始位向左或向右移动后，在留下的空格中插入零。</li></ul><p>这种方法称为逻辑移位。</p><p>11111111 &lt;&lt; 1 下图显示了（按位置 11111111 向左移动 1）和 11111111 &gt;&gt; 1（按位置 11111111 向右移动 1）的结果。蓝色数字被移动，灰色数字被丢弃，橙色零被插入：</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/bitshift-unsigned-00281bfd19fea8521068b3de4046d329.png" width="1082" height="194" class="img_ev3q"></p><p>下面是位移在 Swift 代码中的样子：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> shiftBits</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">UInt8</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">// 00000100 in binary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">shiftBits </span><span class="token operator">&lt;&lt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain">             </span><span class="token comment" style="color:rgb(98, 114, 164)">// 00001000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">shiftBits </span><span class="token operator">&lt;&lt;</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain">             </span><span class="token comment" style="color:rgb(98, 114, 164)">// 00010000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">shiftBits </span><span class="token operator">&lt;&lt;</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain">             </span><span class="token comment" style="color:rgb(98, 114, 164)">// 10000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">shiftBits </span><span class="token operator">&lt;&lt;</span><span class="token plain"> </span><span class="token number">6</span><span class="token plain">             </span><span class="token comment" style="color:rgb(98, 114, 164)">// 00000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">shiftBits </span><span class="token operator">&gt;&gt;</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain">             </span><span class="token comment" style="color:rgb(98, 114, 164)">// 00000001</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>您可以使用位移来编码和解码其他数据类型中的值：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> pink</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">UInt32</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0xCC6699</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> redComponent </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pink </span><span class="token operator">&amp;</span><span class="token plain"> </span><span class="token number">0xFF0000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> </span><span class="token number">16</span><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// redComponent is 0xCC, or 204</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> greenComponent </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pink </span><span class="token operator">&amp;</span><span class="token plain"> </span><span class="token number">0x00FF00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&gt;&gt;</span><span class="token plain"> </span><span class="token number">8</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">// greenComponent is 0x66, or 102</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> blueComponent </span><span class="token operator">=</span><span class="token plain"> pink </span><span class="token operator">&amp;</span><span class="token plain"> </span><span class="token number">0x0000FF</span><span class="token plain">           </span><span class="token comment" style="color:rgb(98, 114, 164)">// blueComponent is 0x99, or 153</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此示例使用 UInt32 名为的常量 pink 来存储粉红色的级联样式表颜色值。CSS 颜色值按照 Swift 的十六进制数字表示#CC6699 形式编写。然后，此颜色通过按位与运算符 ( ) 和按位右移运算符 ( )分解为其红色 ( )、绿色( ) 和蓝色 ( ) 分量。0xCC6699CC6699&amp;&gt;&gt;</p><p>红色分量是通过在数字和之间执行按位与获得的。中的零有效地“屏蔽”了 的第二个和第三个字节，导致被忽略并作为结果离开。0xCC66990xFF00000xFF00000xCC669966990xCC0000</p><p>然后将该数字向右移动 16 位 ( &gt;&gt; 16)。十六进制数中的每对字符使用 8 位，因此向右移动 16 位将转换为. 这与 相同，它的十进制值为。0xCC00000x0000CC0xCC204</p><p>类似地，绿色分量是通过在数字和之间执行按位与获得的，其输出值为。然后将此输出值向右移动八位，得到值，其十进制值为.0xCC66990x00FF000x0066000x66102</p><p>最后，通过在数字和之间执行按位与运算得到蓝色分量，输出值为。因为已经等于，其十进制值为，所以使用该值时无需将其右移，0xCC66990x0000FF0x0000990x0000990x99153</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="有符号整数的移位行为">有符号整数的移位行为<a href="#有符号整数的移位行为" class="hash-link" aria-label="有符号整数的移位行为的直接链接" title="有符号整数的移位行为的直接链接">​</a></h2><p>由于有符号整数以二进制表示的方式，有符号整数的移位行为比无符号整数更复杂。（为简单起见，以下示例基于 8 位有符号整数，但相同的原则适用于任何大小的有符号整数。）</p><p>有符号整数使用它们的第一位（称为符号位）来指示整数是正数还是负数。符号位为 0 正，符号位为 1 负。</p><p>其余位（称为值位）存储实际值。正数的存储方式与无符号整数完全相同，从 向上计数 0。以下是 an 中的位如何 Int8 查找数字 4：</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/bitshift-signed-four-38277035834a97a1d5902d37d53354c8.png" width="550" height="150" class="img_ev3q"></p><p>符号位是 0（意思是“正数”），七个值位就是数字 4，用二进制表示。</p><p>但是，负数的存储方式不同。2 它们的存储方式是从 的次方减去它们的绝对值 n，其中 n 是值位数。一个八位数字有七个值位，所以这意味着, 或 的 2 幂。7128</p><p>以下是 an 中的位如何 Int8 查找数字-4：</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/bitshift-signed-minus-four-84b53ab88b52f70541ff9eaab1bf9840.png" width="560" height="150" class="img_ev3q"></p><p>这次，符号位是 1（意思是“负数”），七个值位的二进制值为 124（即 128 - 4）：</p><p><img loading="lazy" src="data:image/png;base64,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" width="504" height="94" class="img_ev3q"></p><p>这种对负数的编码称为二进制补码表示。这似乎是一种表示负数的不寻常方式，但它有几个优点。</p><p>首先，您可以添加-1 到-4，只需对所有八位（包括符号位）执行标准二进制加法，并在完成后丢弃任何不适合这八位的内容：</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/bitshift-signed-addition-0ce1427ada72af0d54433d2f4721c181.png" width="668" height="314" class="img_ev3q"></p><p>其次，二进制补码表示还允许您像正数一样将负数的位向左和向右移动，并且仍然会在每次向左移动时将它们加倍，或者在每次向右移动时将它们减半. 为了实现这一点，当有符号整数向右移动时使用了一个额外的规则：当你向右移动有符号整数时，应用与无符号整数相同的规则，但是用符号位填充左边的任何空位，而不是比零。</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/bitshift-signed-2fcc063eaa19771e23569dd631590ff2.png" width="1082" height="194" class="img_ev3q"></p><p>此操作确保有符号整数在右移后具有相同的符号，称为算术移位。</p><p>由于正数和负数的特殊存储方式，将它们中的任何一个向右移动会使它们更接近于零。在此移位期间保持符号位相同意味着负整数在其值接近零时保持负值。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="溢出运算符">溢出运算符<a href="#溢出运算符" class="hash-link" aria-label="溢出运算符的直接链接" title="溢出运算符的直接链接">​</a></h2><p>如果你试图将一个数字插入到一个不能保存该值的整数常量或变量中，默认情况下 Swift 会报告一个错误，而不是允许创建一个无效的值。当您处理太大或太小的数字时，此行为会提供额外的安全性。</p><p>例如，Int16 整数类型可以包含-32768 和之间的任何有符号整数 32767。尝试将 Int16 常量或变量设置为超出此范围的数字会导致错误：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> potentialOverflow </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Int16</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">max</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// potentialOverflow equals 32767, which is the maximum value an Int16 can hold</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">potentialOverflow </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// this causes an error</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在值变得太大或太小时提供错误处理可以让您在为边界值条件编码时更加灵活。</p><p>但是，当您特别希望溢出条件截断可用位数时，您可以选择加入此行为而不是触发错误。Swift 提供了三个算术溢出运算符，它们选择加入整数计算的溢出行为。这些运算符都以与号 ( &amp;) 开头：</p><ul><li>溢出加法 ( &amp;+)</li><li>溢出减法 ( &amp;-)</li><li>溢出乘法 ( &amp;<!-- -->*<!-- -->)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="值溢出">值溢出<a href="#值溢出" class="hash-link" aria-label="值溢出的直接链接" title="值溢出的直接链接">​</a></h2><p>数字可以在正方向和负方向上溢出。</p><p>下面是使用溢出加法运算符 ( ) 允许无符号整数沿正方向溢出时发生的情况的示例&amp;+：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> unsignedOverflow </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">UInt8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">max</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// unsignedOverflow equals 255, which is the maximum value a UInt8 can hold</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unsignedOverflow </span><span class="token operator">=</span><span class="token plain"> unsignedOverflow </span><span class="token operator">&amp;+</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// unsignedOverflow is now equal to 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>该变量用 a 可以容纳的最大值（ ，或二进制）初始化。然后使用溢出加法运算符 ( )对其进行递增。这将其二进制表示推到刚好超过 a 可以容纳的大小，导致它溢出超出其范围，如下图所示。溢出加法后保留在 边界内的值为, 或零。unsignedOverflowUInt8255111111111&amp;+UInt8UInt800000000</p><p><img loading="lazy" src="data:image/png;base64,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EgmQAAmQAAmEQYBOOQzqLJMESIAESIAE8hCgU84DhUkkQAIkQAIkEAaBuDvlbo9shQF5AGW61OuyrAEgYFYSIAESSBqBNx8vjrtT3mfs1LrU67IsY6eBckmABEjAKYFcf5x2WqzjwvB4l/8daMclD644l3pdljU4GtyLBEiABBJCIP2mr4q7U9avXLUbOa3tcJSq10nIlmWFjRMmLIQESIAE3BNIoR8uyvX9sXbKtbW1u+B8qtxDHniJqlP1DnzPwe1hic3gasi9SIAESMAEgSpZuy7X98faKevpmDlz5hpET0b81DyZ1elUphE2TpmwMBIgARJwRiAF33RuWn1ULsTeKVdXVzeXl5cvxZWofmwjasO1OmR9j+pTnbmz4mgh4mwcUWAxJEACJOCagA5ZwyfNKloq16zv1Pd3e/e1a2kuyss6vNUVFRVVeAl6JWwJyj0HVuai/C5l6KNI++CMt8M26zDyjh07umRxtxoxNu4qzpJIgARIwCkB77GnfeJN6sI95MCQtVMZLIwESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESCAaBFLRkOFIxaYN80TaKqU9swQlniOSKXNUcqCYVBNW9kk6tV2kaLOsXbcrsDG0xVcvK52XyWQqM6nUEsRgIyGw6b36b3+qRV65tKT3TBHbSs2FPyFkXHjGWoI1zhHU25RKpfalMpntiDfP/nVz3r6/2M3pDLmUn60vldfa75T21pVwxOlw1Xg/BObih8FcaLlZNq6rknPTa+Sa9c1h6MqsmFdad7DuznbJrMyIpCWD/xlIgARIgASGm0AZLnjmooedm0Lf/4fLSqrmTJ6zJlW9q1PfH7KDGu465zmeOuT6tho4wFXhO+Su+vQHAnSpPtXpOGQdcg388CpY/NuCY74sjgRIgATyEdD+VvtdXBDVaD8czBP/jlivkDOyOFjpyC2rPtXpOOgVMhpGtNk4ZsLiSIAESMAVAe1/tR8Olhdvp+zdQxYMWZsIK6VDrxOxeg8ZBVlh44QJCyEBEiCBEAiszPbHXtHxdso6qSv0e8j9PcU6lK163QRvUheHrN3AZikkQAIk0AOBjqHsTK7vj7dT7phl3QOKCCY71KuzrCNIgJJIgARIIHEEgv1xvJ2y99iTqfOrjyI5CdnHnpyUxUJIgARIgAR6JhDsj2PulMN4Drln8H1vcao3cs8h982HOUiABEgglgRy/XHMnXIsTx4rRQIkQAIkEFMCdMoxPbGsFgmQAAmQgD0CdMr2zhkVkwAJkAAJxJQAnXJMTyyrRQIkQAIkYI8AnbK9c2ZCcXr0WDlj/iIpGjsp0nqt6AxCtKbZml6ftUXd1jRb0utKazI+SOH/lQ0xLkmn5fZFi+WG+Rd6R1q45T7Ze+zoEI8ar91HznuHTP3Mt2XErPmSAi9M9ZfmP74kjfd/SU48sy0ylbWiMwjMmmZren3WFnVb02xJr2utvFL2/xL7iGeNnyBPX1spX3zXJTJldJlnRXA6DG8SGLXgffLWbz4uI2dfIC37d8vRmi1wyLtkxMx5cvbXfi5j3vsPb2YOccmKziAia5qt6fVZW9RtTbMlvWFo5ZWy/9fYS3zd+fPl7iVXyJgRI+SRupdl+blvEzrkzsDSo8fJ2RuqJT1ylBz64UY5+L31uQzjr7xRpt5yl5x16xY59dKzcNh7cttcL1jRGeRiTbM1vT5ri7qtabakNyytvNTz/yJ7iCsxVP3g8qulGFfFN9Zslat+8RA+hcxvDnfFNe7y6yR9xmg5seNXnRyy5jvyy/vk6OM/8Iazx1/5qa67Ol23ojMIxZpma3p91hZ1W9NsSW9YWumU/b/IHuJJZ4ySnQ0HZMH375X7X9jh5crgW5Aa9H4pQweB8Vd1fHDq6LYteZEc/ffveenjPvBPkiodmTePi0QrOoMsrGm2ptdnbVG3Nc2W9IaldUhOGU5pGqx8AHam/wdgJd5WXycXb7lfXjrUaEWyc51F4yZL6dnnSqa1RZp++1je8k/+72+k9fABKSobL6Uzzsubp9CJVnQGOVjTbE2vz9qibmuaLekNU+uQnDIa9L/B6gdg3/D/CKzELzY2yKm21k5yU5Ly1lOpjrjTxgSuFJ853au1Ot3MqTd6JNDyl457ySVTOvL3mLFAG6zoDFbfmmZren3WFnVb02xJb5hahzrR6xU06oEc44/+HwHj+BAoPvNsrzJtrzf0Wil12hr8/L1mLsBGv9yo6wxW3Zpma3p91hZ1W9NsSW+YWgfiUP32m4txpfjJ3AoXEkugeMJUr+5txw73yqDteMf2omz+XjMXYKMVncGqW9NsTa/P2qJua5ot6Q1T61CHr/02zTjBBNqOHvRqn8b94t5CUdkEb3PbkXDuz1vRGWRoTbM1vT5ri7qtabakN0ytdMr+XyXjQRNoafyTt2/xhCm9HqNoYscVdWvjn3vNV6iNVnQG629NszW9PmuLuq1ptqQ3TK1DGr7GrOsH0Kj/1m/Y/Yi3Ysj7a/3IxyyGCLRmnXLRxLdIqqRUMi3NedWXvGWGl97S8H95txc60YrOIAdrmq3p9Vlb1G1NsyW9YWod6pXyPDTqigFYuf9HwDg+BHTilDradOkIGb3w8rwVGzHnQinBLO32k03SvO8PefMUOtGKziAHa5qt6fVZW9RtTbMlvWFqHapT/gga9ewB2Fr/j4BxvAjoW7s0jL382rwVG3f5P3rpR5/4ER6bOpE3j4tEKzqDLKxptqbXZ21RtzXNlvSGpXVIThlD0X+CvTYA6/2ZGf+vg7E5AvrGrvbm0zLm3VfK+A+v6qR/zKUfkfEf6ni95pGHv9Npm+sVKzqDXKxptqbXZ21RtzXNlvSGpXVI95T9xsyYBHS24oFN13sfnZiy6lsy5pIPy8mdT8vI8ypk1AWXeoD+etdnMXStj7aHF6zoDBKyptmaXp+1Rd3WNFvSG5ZWOmX/L5LxkAkc/3W1d8946prvyKj5izzTg7biEajGe9fKsSd+OOQyhuMAVnQG62pNszW9PmuLuq1ptqQ3DK3xfk/kxtvsfTHi1q86OSevXFpSUDYl02bJyDkXyOk9u6R578t+nzek+O1PtQh0D+kYXXcuhM5gGdQsYpGxnsNC6i5Eu7Co2RLjQmrVc4c24fX9vFJWGgzDTqDlL/WiFvVgRWeQozXN1vT6rC3qtqbZkl5XWoc00ctvvIxJgARIgARIgASGToBOeegMeQQSIAESIAESGBYCdMrDgpEHIQESIAESIIGhE6BTHjpDHoEESIAESIAEhoVAzJ1yqmlYKDk7iFO9xtg4OwksiARIgARcE8j1xzF3yrLPNdkhludML97C5qysITLh7iRAAiQQawLB/jjeTjmd2m7qTDrUm8pkbLExdSIplgRIgAT6TyDYH8fbKUvRZpFUe//RhJlTdapeNwG/zDanUmKEjRsmLIUESIAEXBPQflj7Y7/ceDvltet2oaJVfmUjHldJh14nMmf/utkSGydMWAgJkAAJhECgKtsfe0XH2ylrFc9Nr5GUPBkC6P4XqfpUp+MwZ/KcNfiVFm02jpmwOBIgARJwRUD7X+2Hg+XF3ylfs75ZZhUtxTD2PdEbytYha+hSfarTcUhV72pGg1iKhnGPDqE4Lp7FkQAJkEAiCWh/q/2u1/+iHw5CSMa7rzsc3mrZtAFD2W2V0p5ZAgjniGTKgjDcLHuPPe0Tb1IX7iE7HLLOVz91zEhf/eplpVUZyVRmUqklmUwGbCQENvkUMo0ESIAEYkGgSWdZ66SulKQ2dwxZ613EzuH/AeisIWr0k6zbAAAAAElFTkSuQmCC" width="485" height="207" class="img_ev3q"></p><p>当允许无符号整数沿负方向溢出时，会发生类似的情况。下面是一个使用溢出减法运算符 ( &amp;-) 的示例：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> unsignedOverflow </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">UInt8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">min</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// unsignedOverflow equals 0, which is the minimum value a UInt8 can hold</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unsignedOverflow </span><span class="token operator">=</span><span class="token plain"> unsignedOverflow </span><span class="token operator">&amp;-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// unsignedOverflow is now equal to 255</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>a 可以容纳的最小值 UInt8 是零，或者 00000000 是二进制。如果您使用溢出减法运算符 ( ) 进行减法 1，00000000 则&amp;-该数字将溢出并环绕到 11111111, 或 255 十进制。</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/overflow-unsigned-subtraction-463b44a6bd69bd98bebd0c7bb6eaf1ce.png" width="614" height="314" class="img_ev3q"></p><p>有符号整数也会发生溢出。有符号整数的所有加法和减法都以按位方式执行，符号位作为被加或减的数字的一部分，如按位左移和右移运算符中所述。</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> signedOverflow </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Int8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">min</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// signedOverflow equals -128, which is the minimum value an Int8 can hold</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">signedOverflow </span><span class="token operator">=</span><span class="token plain"> signedOverflow </span><span class="token operator">&amp;-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// signedOverflow is now equal to 127</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Int8an 可以容纳的最小值是-128, 或 10000000 二进制。用溢出运算符从这个二进制数中减去 1 得到二进制值 01111111，它切换符号位并给出正数，即 an 可以容纳的 127 最大正值。Int8</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/overflow-signed-subtraction-f8c0de9bae3cc8e2f69136d625ea7ad7.png" width="622" height="314" class="img_ev3q"></p><p>对于有符号和无符号整数，正方向溢出从最大有效整数值回绕到最小值，而负方向溢出从最小值回绕到最大值。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="优先级和结合性">优先级和结合性<a href="#优先级和结合性" class="hash-link" aria-label="优先级和结合性的直接链接" title="优先级和结合性的直接链接">​</a></h2><p>运算符优先级赋予某些运算符比其他运算符更高的优先级；首先应用这些运算符。</p><p>运算符结合性定义了相同优先级的运算符如何组合在一起——从左边分组，或者从右边分组。可以将其理解为“他们与左侧的表达相关联”或“他们与右侧的表达相关联”。</p><p>在计算复合表达式的计算顺序时，考虑每个运算符的优先级和结合性很重要。例如，运算符优先级解释了为什么以下表达式等于 17。</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token number">2</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token operator">%</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// this equals 17</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果严格从左到右阅读，您可能希望表达式计算如下：</p><ul><li>2 加 3 等于 5</li><li>5 余数 4 等于 1</li><li>1 次 5 等于 5</li></ul><p>然而，实际的答案是 17，不是 5。优先级较高的运算符在优先级较低的运算符之前进行评估。在 Swift 中，与在 C 中一样，取余运算符 ( %) 和乘法运算符 ( <!-- -->*<!-- -->) 的优先级高于加法运算符 ( +)。因此，在考虑添加之前，它们都会被评估。</p><p>但是，余数和乘法彼此具有相同的优先级。要计算出要使用的确切评估顺序，您还需要考虑它们的关联性。余数和乘法都与它们左边的表达式相关联。将其视为在表达式的这些部分周围添加隐式括号，从它们的左侧开始：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token number">2</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3</span><span class="token plain"> </span><span class="token operator">%</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>(3 % 4)</code> 是 <code>3</code>，所以这等同于：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token number">2</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>(3 * 5)</code> 是 <code>15</code>，所以这等同于：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token number">2</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">15</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此计算得出最终答案 <code>17</code>。</p><p>有关 Swift 标准库提供的运算符的信息，包括运算符优先级组和关联性设置的完整列表，请参阅 <a href="https://developer.apple.com/documentation/swift/operator-declarations" target="_blank" rel="noopener noreferrer">运算符声明</a>。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>Swift 的运算符优先级和结合性规则比 C 和 Objective-C 中的更简单、更可预测。然而，这意味着它们与基于 C 的语言并不完全相同。在将现有代码移植到 Swift 时，请小心确保运算符交互仍按照您预期的方式运行。</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="运算符方法">运算符方法<a href="#运算符方法" class="hash-link" aria-label="运算符方法的直接链接" title="运算符方法的直接链接">​</a></h2><p>类和结构可以提供它们自己的现有运算符的实现。这称为重载现有运算符。</p><p>下面的示例显示了如何+为自定义结构实现算术加法运算符 ( )。算术加法运算符是一个二元运算符，因为它在两个目标上运行，它是一个中缀运算符，因为它出现在这两个目标之间。</p><p>该示例定义了 Vector2D 一个二维位置向量的结构，然后是一个运算符方法(x, y)的定义，用于将结构的实例加在一起：Vector2D</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> x </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extension</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">x </span><span class="token operator">+</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">y </span><span class="token operator">+</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>运算符方法被定义为 on 的类型方法 Vector2D，其方法名称与要重载的运算符 ( +) 相匹配。因为加法不是向量基本行为的一部分，所以类型方法是在 的扩展中而 Vector2D 不是在 的主结构声明中定义的 Vector2D。因为算术加法运算符是二元运算符，所以此运算符方法采用两个类型的输入参数 Vector2D 并返回一个输出值，也是类型 Vector2D。</p><p>在此实现中，输入参数被命名为 leftandright 以表示 Vector2D 将位于运算符左侧和右侧的实例+。该方法返回一个新 Vector2D 实例，其 x 和属性使用两个实例的和属性相加的 y 总和进行初始化。xyVector2D</p><p>type 方法可以用作现有 Vector2D 实例之间的中缀运算符：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> vector </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">3.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> anotherVector </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">2.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">4.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> combinedVector </span><span class="token operator">=</span><span class="token plain"> vector </span><span class="token operator">+</span><span class="token plain"> anotherVector</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// combinedVector is a Vector2D instance with values of (5.0, 5.0)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此示例将向量和加在一起以生成向量，如下图所示。(3.0, 1.0)(2.0, 4.0)(5.0, 5.0)</p><p><img loading="lazy" src="/swift-tutorials-cn/assets/images/vector-addition-c6114077256aeacdcf8cca6137346b2b.png" width="954" height="1000" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="前缀和后缀运算符">前缀和后缀运算符<a href="#前缀和后缀运算符" class="hash-link" aria-label="前缀和后缀运算符的直接链接" title="前缀和后缀运算符的直接链接">​</a></h2><p>上面显示的示例演示了二进制中缀运算符的自定义实现。类和结构也可以提供标准一元运算符的实现。一元运算符对单个目标进行操作。如果它们位于目标之前（例如），则它们是前缀；如果它们位于目标之后（例如） ，则它们是后缀运算符。-ab!</p><p>在声明运算符方法时，通过在关键字前写入 prefixor 修饰符来实现前缀或后缀一元运算符：postfixfunc</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extension</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">prefix</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">vector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">vector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">vector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面的示例-a 为实例实现了一元减号运算符 ( ) Vector2D。一元减号运算符是前缀运算符，因此必须使用修饰符限定此方法 prefix。</p><p>对于简单的数值，一元减运算符将正数转换为负数，反之亦然。实例的相应实现 Vector2D 对 x 和 y 属性执行此操作：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> positive </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">3.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">4.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> negative </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">positive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// negative is a Vector2D instance with values of (-3.0, -4.0)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> alsoPositive </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain">negative</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// alsoPositive is a Vector2D instance with values of (3.0, 4.0)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="复合赋值运算符">复合赋值运算符<a href="#复合赋值运算符" class="hash-link" aria-label="复合赋值运算符的直接链接" title="复合赋值运算符的直接链接">​</a></h2><p>复合赋值运算符将赋值 ( =) 与另一个运算组合在一起。例如，加法赋值运算符 ( +=) 将加法和赋值结合到一个运算中。您将复合赋值运算符的左输入参数类型标记为 inout，因为参数的值将直接从运算符方法中修改。</p><p>下面的示例为 Vector2D 实例实现了加法赋值运算符方法：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extension</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">inout</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>因为前面已经定义了一个加法运算符，所以这里不需要重新实现加法过程。相反，加法赋值运算符方法利用了现有的加法运算符方法，并使用它将左值设置为左值加上右值：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> original </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">2.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> vectorToAdd </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">3.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">4.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">original </span><span class="token operator">+=</span><span class="token plain"> vectorToAdd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// original now has values of (4.0, 6.0)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>无法重载默认赋值运算符 ( <code>=</code> )。只能重载复合赋值运算符。同样，三元条件运算符 ( <code>a ? b : c</code> ) 也不能重载。</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="等价运算符">等价运算符<a href="#等价运算符" class="hash-link" aria-label="等价运算符的直接链接" title="等价运算符的直接链接">​</a></h2><p>默认情况下，自定义类和结构没有等价运算符的实现，称为等于运算符 ( ==) 和不等于运算符 ( !=)。您通常会实现==运算符，并使用标准库的默认!=运算符实现来否定运算符的结果==。有两种实现==运算符的方法：您可以自己实现它，或者对于许多类型，您可以让 Swift 为您合成一个实现。在这两种情况下，您都添加了对标准库 Equatable 协议的一致性。</p><p>==您以与实现其他中缀运算符相同的方式提供运算符的实现：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extension</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Equatable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Bool</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">x </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">y </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面的示例实现了一个 <code>==</code> 运算符来检查两个 Vector2D 实例是否具有相等的值。在 的上下文中 Vector2D，将“相等”视为“两个实例具有相同的 x 值和 y 值”是有意义的，因此这是运算符实现使用的逻辑。</p><p>您现在可以使用此运算符来检查两个 <code>Vector2D</code> 实例是否等效：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> twoThree </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">2.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">3.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> anotherTwoThree </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">2.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">3.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> twoThree </span><span class="token operator">==</span><span class="token plain"> anotherTwoThree </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;These two vectors are equivalent.&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Prints &quot;These two vectors are equivalent.&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在许多简单的情况下，您可以要求 Swift 为您提供等价运算符的合成实现，如采用合成实现的协议中所述。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="自定义运算符">自定义运算符<a href="#自定义运算符" class="hash-link" aria-label="自定义运算符的直接链接" title="自定义运算符的直接链接">​</a></h2><p>除了 Swift 提供的标准运算符之外，您还可以声明和实现自己的自定义运算符。有关可用于定义自定义运算符的字符列表，请参阅运算符。</p><p>新运算符使用关键字在全局级别声明 operator，并标有 prefix,infix 或 postfix 修饰符：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">prefix</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">operator</span><span class="token plain"> </span><span class="token operator">+++</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面的例子定义了一个新的前缀运算符+++. 这个运算符在 Swift 中没有现成的含义，因此在下面处理 Vector2D 实例的特定上下文中，它被赋予了自己的自定义含义。出于本示例的目的，+++被视为新的“前缀加倍”运算符。它通过使用前面定义的加法赋值运算符将向量与自身相加，将实例的 x 和值加倍。要实现该运算符，您需要添加一个类型方法调用，如下所示：yVector2D++++++Vector2D</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extension</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">prefix</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token operator">+++</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">vector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">inout</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        vector </span><span class="token operator">+=</span><span class="token plain"> vector</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> vector</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> toBeDoubled </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">4.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> afterDoubling </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">+++</span><span class="token plain">toBeDoubled</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// toBeDoubled now has values of (2.0, 8.0)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// afterDoubling also has values of (2.0, 8.0)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="自定义中缀运算符的优先级">自定义中缀运算符的优先级<a href="#自定义中缀运算符的优先级" class="hash-link" aria-label="自定义中缀运算符的优先级的直接链接" title="自定义中缀运算符的优先级的直接链接">​</a></h2><p>每个自定义中缀运算符都属于一个优先级组。优先级组指定运算符相对于其他中缀运算符的优先级，以及运算符的结合性。有关这些特征如何影响中缀运算符与其他中缀运算符的交互的解释，请参阅优先级和关联性。</p><p>未明确放置在优先级组中的自定义中缀运算符被赋予默认优先级组，其优先级直接高于三元条件运算符的优先级。</p><p>以下示例定义了一个名为 的新自定义中缀运算符+-，它属于优先级组：AdditionPrecedence</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">infix</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">operator</span><span class="token plain"> </span><span class="token operator">+-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">AdditionPrecedence</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extension</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token operator">+-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">x </span><span class="token operator">+</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">left</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">y </span><span class="token operator">-</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">right</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> firstVector </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">2.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> secondVector </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vector2D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">3.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">4.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> plusMinusVector </span><span class="token operator">=</span><span class="token plain"> firstVector </span><span class="token operator">+-</span><span class="token plain"> secondVector</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// plusMinusVector is a Vector2D instance with values of (4.0, -2.0)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此运算符将两个向量的值相加 x，并 y 从第一个向量中减去第二个向量的值。因为它本质上是一个“加法”运算符，所以它被赋予与加法中缀运算符相同的优先级组，例如+and -。有关 Swift 标准库提供的运算符的信息，包括运算符优先级组和关联性设置的完整列表，请参阅运算符声明。有关优先级组的更多信息以及查看用于定义您自己的运算符和优先级组的语法，请参阅运算符声明。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>定义前缀或后缀运算符时不指定优先级。但是，如果将前缀运算符和后缀运算符应用于同一操作数，则首先应用后缀运算符。</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="结果生成器">结果生成器<a href="#结果生成器" class="hash-link" aria-label="结果生成器的直接链接" title="结果生成器的直接链接">​</a></h2><p>结果构建器是您定义的一种类型，它以自然的声明方式添加用于创建嵌套数据（如列表或树）的语法。使用结果生成器的代码可以包含普通的 Swift 语法，例如 if and for，以处理有条件或重复的数据片段。</p><p>下面的代码定义了几种使用星号和文本在单行上绘制的类型。</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">protocol</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">Line</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> elements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token class-name">Drawable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> elements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">map </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token short-argument">$0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">joined</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">separator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">init</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token omit keyword" style="color:rgb(189, 147, 249);font-style:italic">_</span><span class="token plain"> content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">content </span><span class="token operator">=</span><span class="token plain"> content </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> content </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">Space</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot; &quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">Stars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">repeating</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;*&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">AllCaps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">uppercased</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>该 Drawable 协议定义了对可以绘制的东西的要求，例如线条或形状：该类型必须实现一种 draw()方法。该 Line 结构表示单线绘图，它为大多数绘图提供顶级容器。要绘制 Line，该结构会调用 draw()该行的每个组件，然后将生成的字符串连接成一个字符串。该 Text 结构包裹了一个字符串，使其成为绘图的一部分。该结构包装并修改了另一幅图，将图中的任何文本转换为大写。AllCaps</p><p>可以通过调用它们的初始化器来使用这些类型进行绘图：</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator">?</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;Ravi Patel&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> manualDrawing </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Line</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token class-name">Stars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token class-name">Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;Hello&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token class-name">Space</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token class-name">AllCaps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">name </span><span class="token operator">??</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;World&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;!&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token class-name">Stars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">manualDrawing</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Prints &quot;***Hello RAVI PATEL!**&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这段代码有效，但有点笨拙。后面嵌套很深的括号很难阅读。当必须使用运算符内联完成时使用“World”的回退逻辑，这对于任何更复杂的事情来说都是困难的。如果您需要包含开关或循环来构建绘图的一部分，则无法做到这一点。结果构建器让您可以像这样重写代码，使其看起来像普通的 Swift 代码。AllCapsnamenil??for</p><p>要定义结果生成器，您可以在类型声明中编写属性。例如，此代码定义了一个名为 的结果构建器，它允许您使用声明性语法来描述绘图：@resultBuilderDrawingBuilder</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token attribute atrule">@resultBuilder</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">DrawingBuilder</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">buildBlock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token omit keyword" style="color:rgb(189, 147, 249);font-style:italic">_</span><span class="token plain"> components</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token operator">...</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">Line</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> components</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">buildEither</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> first</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">buildEither</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> second</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>该结构定义了三个方法来实现部分结果生成器语法。该方法增加了对在代码块中编写一系列行的支持。它将那个块中的组件组合成一个. 和方法添加了对-的支持。DrawingBuilderbuildBlock(<!-- -->_<!-- -->:)LinebuildEither(first:)buildEither(second:)ifelse</p><p>您可以将该属性应用于函数的参数，这会将传递给函数的闭包转换为结果构建器从该闭包创建的值。例如：@DrawingBuilder</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token attribute atrule">@DrawingBuilder</span><span class="token plain"> content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">caps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token attribute atrule">@DrawingBuilder</span><span class="token plain"> content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">AllCaps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">makeGreeting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token operator">?</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token nil constant" style="color:rgb(189, 147, 249)">nil</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> greeting </span><span class="token operator">=</span><span class="token plain"> draw </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name">Stars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name">Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;Hello&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name">Space</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        caps </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> name </span><span class="token operator">=</span><span class="token plain"> name </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token class-name">Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">name </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;!&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token class-name">Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;World!&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name">Stars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> greeting</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> genericGreeting </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">makeGreeting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">genericGreeting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Prints &quot;***Hello WORLD!**&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> personalGreeting </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">makeGreeting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;Ravi Patel&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">personalGreeting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">draw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Prints &quot;***Hello RAVI PATEL!**&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>该函数接受一个参数并使用它来绘制个性化的问候语。和函数都将一个闭包作为它们的参数，该闭包用属性标记。当您调用这些函数时，您使用定义的特殊语法。Swift 将绘图的声明性描述转换为对方法的一系列调用，以构建作为函数参数传递的值。例如，Swift 将该示例中的调用转换为如下代码：makeGreeting(for:)namedraw(<em>:)caps(</em>:)@DrawingBuilderDrawingBuilderDrawingBuildercaps(<!-- -->_<!-- -->:)</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> capsDrawing </span><span class="token operator">=</span><span class="token plain"> caps </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> partialDrawing</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> name </span><span class="token operator">=</span><span class="token plain"> name </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> text </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">name </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;!&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        partialDrawing </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">DrawingBuilder</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">buildEither</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> text </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;World!&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        partialDrawing </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">DrawingBuilder</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">buildEither</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">second</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> partialDrawing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Swift 将 if-else 块转换为对和方法的调用。虽然您不会在自己的代码中调用这些方法，但显示转换结果可以让您更轻松地了解 Swift 在您使用语法时如何转换您的代码。buildEither(first:)buildEither(second:)DrawingBuilder</p><p>要 for 在特殊绘图语法中添加对编写循环的支持，请添加一个方法。buildArray(<!-- -->_<!-- -->:)</p><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extension</span><span class="token plain"> </span><span class="token class-name">DrawingBuilder</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">buildArray</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token omit keyword" style="color:rgb(189, 147, 249);font-style:italic">_</span><span class="token plain"> components</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token class-name">Drawable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">Drawable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">Line</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">elements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> components</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> manyStars </span><span class="token operator">=</span><span class="token plain"> draw </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal string" style="color:rgb(255, 121, 198)">&quot;Stars:&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> length </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token number">1</span><span class="token operator">...</span><span class="token number">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name">Space</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name">Stars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在上面的代码中，for 循环创建了一个绘图数组，该方法将该数组转换为一个.buildArray(<!-- -->_<!-- -->:)Line</p><p>有关 Swift 如何将构建器语法转换为对构建器类型方法的调用的完整列表，请参阅<a href="/swift-tutorials-cn/docs/swift/reference/attributes">resultBuilder</a>。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/zhuanghongji/swift-tutorials-cn/docs/swift/guide/advanced-operators/index.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2023-08-29T05:01:04.000Z">2023年8月29日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/swift-tutorials-cn/docs/swift/guide/access-control"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">访问控制</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/swift-tutorials-cn/docs/swift/reference/about"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">关于语言参考</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#位运算符" class="table-of-contents__link toc-highlight">位运算符</a></li><li><a href="#按位非运算符" class="table-of-contents__link toc-highlight">按位非运算符</a></li><li><a href="#按位与运算符" class="table-of-contents__link toc-highlight">按位与运算符</a></li><li><a href="#按位或运算符" class="table-of-contents__link toc-highlight">按位或运算符</a></li><li><a href="#按位异或运算符" class="table-of-contents__link toc-highlight">按位异或运算符</a></li><li><a href="#按位左移和右移运算符" class="table-of-contents__link toc-highlight">按位左移和右移运算符</a></li><li><a href="#无符号整数的移位行为" class="table-of-contents__link toc-highlight">无符号整数的移位行为</a></li><li><a href="#有符号整数的移位行为" class="table-of-contents__link toc-highlight">有符号整数的移位行为</a></li><li><a href="#溢出运算符" class="table-of-contents__link toc-highlight">溢出运算符</a></li><li><a href="#值溢出" class="table-of-contents__link toc-highlight">值溢出</a></li><li><a href="#优先级和结合性" class="table-of-contents__link toc-highlight">优先级和结合性</a></li><li><a href="#运算符方法" class="table-of-contents__link toc-highlight">运算符方法</a></li><li><a href="#前缀和后缀运算符" class="table-of-contents__link toc-highlight">前缀和后缀运算符</a></li><li><a href="#复合赋值运算符" class="table-of-contents__link toc-highlight">复合赋值运算符</a></li><li><a href="#等价运算符" class="table-of-contents__link toc-highlight">等价运算符</a></li><li><a href="#自定义运算符" class="table-of-contents__link toc-highlight">自定义运算符</a></li><li><a href="#自定义中缀运算符的优先级" class="table-of-contents__link toc-highlight">自定义中缀运算符的优先级</a></li><li><a href="#结果生成器" class="table-of-contents__link toc-highlight">结果生成器</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.apple.com/xcode/swiftui/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SwiftUI Overview</a></li><li class="footer__item"><a href="https://developer.apple.com/documentation/swiftui/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SwiftUI Documentation</a></li><li class="footer__item"><a href="https://developer.apple.com/videos/swiftui-ui-frameworks" target="_blank" rel="noopener noreferrer" class="footer__link-item">SwiftUI &amp; UI Frameworks Videos</a></li><li class="footer__item"><a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Swift Programming Language</a></li></ul></div><div class="col footer__col"><div class="footer__title">参考</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.fatbobman.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Fatbob Man</a></li><li class="footer__item"><a href="https://designcode.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Design Code</a></li><li class="footer__item"><a href="https://www.swiftanytime.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Swift Anytime</a></li><li class="footer__item"><a href="https://www.hackingwithswift.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hacking With Swift</a></li></ul></div><div class="col footer__col"><div class="footer__title">探索</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/@Kavsoft" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kavsoft</a></li><li class="footer__item"><a href="https://www.youtube.com/@ChaoCode" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chao Code</a></li><li class="footer__item"><a href="https://www.youtube.com/@iOSAcademy" target="_blank" rel="noopener noreferrer" class="footer__link-item">iOS Academy</a></li><li class="footer__item"><a href="https://www.youtube.com/@XCA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Xcoding with Alfian</a></li></ul></div><div class="col footer__col"><div class="footer__title">发现</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/swift-tutorials-cn/sponsor-me">Sponsor Me</a></li><li class="footer__item"><a class="footer__link-item" href="/swift-tutorials-cn/sponsor-list">Sponsor List</a></li><li class="footer__item"><a href="https://twitter.com/ajizhhans" target="_blank" rel="noopener noreferrer" class="footer__link-item">Follow Twitter</a></li><li class="footer__item"><a href="https://github.com/zhuanghongji" target="_blank" rel="noopener noreferrer" class="footer__link-item">Follow GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 ZHUANGHONGJI<br><a style="font-size: 12px;color: white;" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International (CC BY 4.0) License</a></div></div></div></footer></div>
<script src="/swift-tutorials-cn/assets/js/runtime~main.b4417766.js"></script>
<script src="/swift-tutorials-cn/assets/js/main.0cbf57d5.js"></script>
</body>
</html>