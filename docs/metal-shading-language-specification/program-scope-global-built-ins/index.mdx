# 程序范围全局内置函数

<ToBePolishedAfterTranslation />

<OrigninalPDF title="5.9 Program Scope Global Built-ins" />

从 Metal 3.1 开始，开发人员可以使用表 5.8 中定义的属性来定义全局变量，并在内核（包括图块）、网格或对象上下文中使用它们。全局变量不能在动态库或单独编译的二进制函数中使用。

例子：

```cpp
uint2 gid [[thread_position_in_grid]];

float4 get_color(texture2d<float> texInput, sampler s) {
    return texInput.sample(s, float2(gid));
}

[[kernel]] void my_kernel(texture2d<float> texInput, sampler s, ...) {
    auto color = get_color(texInput, s);
    // ...
}
```
