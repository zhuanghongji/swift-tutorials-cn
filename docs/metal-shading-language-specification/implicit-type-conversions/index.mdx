# 隐式类型转换

<ToBePolishedAfterTranslation />

<OrigninalPDF title="2.21 Implicit Type Conversions" />

支持标量内置类型（void 除外）之间的隐式转换。完成隐式转换后，它不仅仅是重新解释表达式的值，而是将该值转换为新类型中的等效值。例如，整数值 `5` 转换为浮点值 `5.0`。Bfloat 是一种扩展浮点类型，仅允许隐式转换为更高浮点等级的类型。虽然 bfloat 可以隐式转换为 float，但不能隐式转换为 half，并且 float 和 half 都不能隐式转换为 bfloat。

所有向量类型都被认为具有比标量类型更高的转换等级。不允许从向量类型到另一个向量或标量类型的隐式转换，并且会导致编译错误。例如，以下尝试从 4 分量整数向量转换为 4 分量浮点向量失败。

```c
int4 i;
float4 f = i; // compile error.
```

支持从标量到向量类型的隐式转换。标量值在向量的每个元素中复制。标量还可以经过通常的算术转换为向量使用的元素类型。

例如：

```c
float4 f = 2.0f; // f = (2.0f, 2.0f, 2.0f, 2.0f)
```

不支持从标量到矩阵类型和向量到矩阵类型的隐式转换，并且会导致编译错误。不允许从矩阵类型到另一个矩阵、向量或标量类型的隐式转换，并且会导致编译错误。

指针类型的隐式转换遵循 C++14 规范中描述的规则。
