<!doctype html>
<html lang="zh-hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-metal-shading-language-specification/vector-data-types/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">向量数据类型 | Swift 悍刀行</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zhuanghongji.github.io/swift-tutorials-cn/docs/metal-shading-language-specification/vector-data-types"><meta data-rh="true" name="docusaurus_locale" content="zh-hans"><meta data-rh="true" name="docsearch:language" content="zh-hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="向量数据类型 | Swift 悍刀行"><meta data-rh="true" name="description" content="Metal 支持系统矢量数学库实现的矢量数据类型的子集。Metal 支持这些向量类型名称，其中 n 是 2 、 3 或 4 ，分别表示 2 - 、 3 - 或 4 - 分量向量类型："><meta data-rh="true" property="og:description" content="Metal 支持系统矢量数学库实现的矢量数据类型的子集。Metal 支持这些向量类型名称，其中 n 是 2 、 3 或 4 ，分别表示 2 - 、 3 - 或 4 - 分量向量类型："><link data-rh="true" rel="icon" href="/swift-tutorials-cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhuanghongji.github.io/swift-tutorials-cn/docs/metal-shading-language-specification/vector-data-types"><link data-rh="true" rel="alternate" href="https://zhuanghongji.github.io/swift-tutorials-cn/docs/metal-shading-language-specification/vector-data-types" hreflang="zh-hans"><link data-rh="true" rel="alternate" href="https://zhuanghongji.github.io/swift-tutorials-cn/docs/metal-shading-language-specification/vector-data-types" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/swift-tutorials-cn/blog/rss.xml" title="Swift 悍刀行 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/swift-tutorials-cn/blog/atom.xml" title="Swift 悍刀行 Atom Feed"><link rel="stylesheet" href="/swift-tutorials-cn/assets/css/styles.a7cf13f8.css">
<link rel="preload" href="/swift-tutorials-cn/assets/js/runtime~main.b2921d86.js" as="script">
<link rel="preload" href="/swift-tutorials-cn/assets/js/main.d320bbb9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/swift-tutorials-cn/"><div class="navbar__logo"><img src="/swift-tutorials-cn/img/logo.svg" alt="Swift 悍刀行" class="themedImage_ToTc themedImage--light_HNdA"><img src="/swift-tutorials-cn/img/logo.svg" alt="Swift 悍刀行" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Swift 悍刀行</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swift/welcome/about">Swift</a><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swiftui/essentials/about">SwiftUI</a><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swiftcharts/essentials/about">SwiftCharts</a><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swiftdata/essentials/about">SwiftData</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Frameworks</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/core-graphics/overview">Core Graphics</a></li><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/metal/overview">Metal</a></li><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/metalkit/overview">MetalKit</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Books</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/metal-programming-guide/introdution">Metal Programming Guide</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/swift-tutorials-cn/docs/metal-shading-language-specification/preface">Metal Shading Language Specification 3.1</a></li></ul></div><a href="https://github.com/zhuanghongji/swift-tutorials-cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Metal Shading Language 规范</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/preface">前言</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/preface">前言</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/purpose-of-this-document">介绍</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/purpose-of-this-document">本文档的目的</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/organization-of-this-specification">本规范的组织</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/references">参考文献</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/metal-and-cpp14">Metal 和 C++14</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/compiler-and-preprocessor">编译器和预处理器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/metal-coordinate-systems">Metal 坐标系</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/scalar-data-types">数据类型</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/scalar-data-types">标量数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/vector-data-types">向量数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/matrix-data-types">矩阵数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/simd-group-matrix-data-types">SIMD 组矩阵数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/alignment-of-data-types">数据类型的对齐</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/atomic-data-types">原子数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/pixel-data-types">像素数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/buffers">缓冲区</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/textures">纹理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/samplers">采样器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/imageblocks">图像块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/aggregate-types">聚合类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/argument-buffers">参数缓冲区</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/uniform-type">统一类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/visible-function-table">可见函数表</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/function-group-attribute">功能组属性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/ray-tracing-types">光线追踪类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/interpolant-type">插值类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/mesh-shader-types">网格着色器类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/type-conversions-and-re-interpreting-data">类型转换和重新解释数据</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/implicit-type-conversions">隐式类型转换</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/scalar-and-vector-operators">运算符</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/scalar-and-vector-operators">标量和向量运算符</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/matrix-operators">矩阵运算符</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/device-address-space">地址空间</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/device-address-space">设备地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/constant-address-space">常量地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/thread-address-space">线程地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/threadgroup-address-space">线程组地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/threadgroup-imageblock-address-space">threadgroup_imageblock 地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/ray-data-address-space">ray_data 地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/object-data-address-space">object_data 地址空间</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/functions">函数与变量声明</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/functions">函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/function-arguments-and-variables">函数参数和变量</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/storage-class-specifiers">存储类说明符</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/sampling-and-interpolation-attributes">采样和插值属性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/per-fragment-function-versus-per-sample-function">每片段函数与每样本函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/imageblock-attributes">图像块属性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/graphics-function-signature-matching">图形功能 - 签名匹配</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/program-scope-function-constants">程序作用域函数常量</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/program-scope-global-built-ins">程序范围全局内置函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/per-primitive-viewport-and-scissor-rectangle-index-selection">每个图元视口和剪刀矩形索引选择</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/additional-restrictions">附加限制</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/namespace-and-header-files">Metal 标准库</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/namespace-and-header-files">命名空间和头文件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/common-functions">常用函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/integer-functions">整数函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/relational-functions">关系函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/math-functions">数学函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/matrix-functions">矩阵函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/simd-group-matrix-functions">SIMD 组矩阵函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/geometric-functions">几何函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/synchronization-and-simd-group-functions">同步和 SIMD 组功能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/graphics-functions">图形函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/pull-model-interpolation">拉模型插值</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/texture-functions">纹理函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/imageblock-functions">图像块函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/pack-and-unpack-functions">打包和解包函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/atomic-functions">原子函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/encoding-commands-for-indirect-command-buffers">间接命令缓冲区的编码命令</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/variable-rasterization-rate">可变光栅化率</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/ray-tracing-functions">光线追踪函数</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/inf-nan-and-denormalized-numbers">数值符合性</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/inf-nan-and-denormalized-numbers">INF、NaN 和非规范化数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/rounding-mode">舍入模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/floating-point-exceptions">浮点异常</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/relative-error-as-ulps">作为 ULP 的相对误差</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/edge-case-behavior-in-flush-to-zero-mode">清零模式下的边缘情况行为</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/conversion-rules-for-floating-point-and-integer-types">浮点型和整数型的转换规则</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/texture-addressing-and-conversion-rules">纹理寻址和转换规则</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/swift-tutorials-cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Metal Shading Language 规范</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">数据类型</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">向量数据类型</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>向量数据类型</h1><div style="padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;border-radius:0.5rem;background-color:#333333">原文：2.2 Vector Data Types</div><br><p>Metal 支持系统矢量数学库实现的矢量数据类型的子集。Metal 支持这些向量类型名称，其中 n 是 2 、 3 或 4 ，分别表示 2 - 、 3 - 或 4 - 分量向量类型：</p><ul><li>booln - charn - Shortn - intn - longn - ucharn - ushortn - uintn - ulongn - halfn - bfloatn （自 Metal 3. 1 起支持） - floatn</li></ul><p>Metal 还支持 vec，其中 T 是有效的标量类型，n 是 2 、 3 或 4 ，表示 2 - 、 3 - 或 4 - 分量向量类型。</p><p>表 2. 3 列出了矢量数据类型的大小和对齐方式。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="表-23矢量数据类型的大小和对齐方式">表 2.3。矢量数据类型的大小和对齐方式<a href="#表-23矢量数据类型的大小和对齐方式" class="hash-link" aria-label="表 2.3。矢量数据类型的大小和对齐方式的直接链接" title="表 2.3。矢量数据类型的大小和对齐方式的直接链接">​</a></h2><p><code>类型大小（以字节为单位）</code></p><p><code> 对齐方式（以字节为单位）</code></p><p><code>布尔2 2 2</code></p><p><code>布尔3 4 4</code></p><p><code>布尔4 4 4</code></p><p><code>char2 uchar2</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-2">2 2<a href="#2-2" class="hash-link" aria-label="2 2的直接链接" title="2 2的直接链接">​</a></h3><p><code>char3 uchar3</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-4">4 4<a href="#4-4" class="hash-link" aria-label="4 4的直接链接" title="4 4的直接链接">​</a></h3><p><code>char4 uchar4</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-4-1">4 4<a href="#4-4-1" class="hash-link" aria-label="4 4的直接链接" title="4 4的直接链接">​</a></h3><p><code>short2 ushort2</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-4-2">4 4<a href="#4-4-2" class="hash-link" aria-label="4 4的直接链接" title="4 4的直接链接">​</a></h3><p><code>short3 ushort3</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-8">8 8<a href="#8-8" class="hash-link" aria-label="8 8的直接链接" title="8 8的直接链接">​</a></h3><p><code>short4 ushort4</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-8-1">8 8<a href="#8-8-1" class="hash-link" aria-label="8 8的直接链接" title="8 8的直接链接">​</a></h3><p><code>int2 uint2</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-8-2">8 8<a href="#8-8-2" class="hash-link" aria-label="8 8的直接链接" title="8 8的直接链接">​</a></h3><p><code>int3 uint3</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="16-16">16 16<a href="#16-16" class="hash-link" aria-label="16 16的直接链接" title="16 16的直接链接">​</a></h3><p><code>int4 uint4</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="16-16-1">16 16<a href="#16-16-1" class="hash-link" aria-label="16 16的直接链接" title="16 16的直接链接">​</a></h3><p><code>long2 ulong2</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="16-16-2">16 16<a href="#16-16-2" class="hash-link" aria-label="16 16的直接链接" title="16 16的直接链接">​</a></h3><p><code>long3 ulong3</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-32">32 32<a href="#32-32" class="hash-link" aria-label="32 32的直接链接" title="32 32的直接链接">​</a></h3><p><code>long4 ulong4</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-32-1">32 32<a href="#32-32-1" class="hash-link" aria-label="32 32的直接链接" title="32 32的直接链接">​</a></h3><p><code>一半 2 4 4</code></p><p><code>类型大小（以字节为单位）</code></p><p><code> 对齐方式（以字节为单位）</code></p><p><code>half3 8 8</code></p><p><code>半 4 8 8</code></p><p><code>bfloat 2 4 4</code></p><p>``bfloat3 8 8````</p><p><code>bfloat 4 8 8</code></p><p>``float2 8 8````</p><p>``float3 16 16````</p><p>``float4 16 16````</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="221-访问向量分量">2.2.1 访问向量分量<a href="#221-访问向量分量" class="hash-link" aria-label="2.2.1 访问向量分量的直接链接" title="2.2.1 访问向量分量的直接链接">​</a></h2><p>你可以使用数组索引来访问向量分量。数组索引 0 指向量的第一个分量，索引 1 指第二个分量，依此类推。以下示例展示了访问数组组件的各种方法：</p><p>pos = float4(1.0f, 2.0f, 3.0f, 4.0f);</p><p>浮点数 x = pos<!-- -->[0]<!-- -->; // x = 1.0</p><p>浮点数 z = pos<!-- -->[2]<!-- -->; // z = 3.0</p><p>float4 vA = float4(1.0f, 2.0f, 3.0f, 4.0f);</p><p>浮点 4 vB；</p><p>for (int i=0; i&lt;4; i++)</p><p>``` vB<!-- -->[i]<!-- --> = vA<!-- -->[i]<!-- --> <!-- -->*<!-- --> 2.0f // vB = (2.0, 4.0, 6.0, 8.0); ````</p><p>Metal 支持使用句点 (.) 作为选择运算符来访问向量分量，使用可能指示坐标或颜色数据的字母：</p><p>&lt;矢量数据类型&gt;.xyzw</p><p>&lt;矢量数据类型&gt;.rgba</p><p>以下代码初始化向量测试，然后使用 .xyzw 或 .rgba 选择语法来访问各个组件：</p><p>int4 测试 = int4(0, 1, 2, 3);</p><p>int a = 测试.x; // a = 0</p><p>int b = 测试.y; // b = 1</p><p>int c = 测试.z; // c = 2</p><p>int d = 测试.w; // d = 3</p><p>int e = 测试.r; // e = 0</p><p>int f = 测试.g; // f = 1</p><p>int g = 测试.b; // g = 2</p><p>int h = 测试.a; // h = 3</p><p>组件选择语法允许选择多个组件：</p><p>浮动 4c;</p><p>c.xyzw = float4(1.0f, 2.0f, 3.0f, 4.0f);</p><p>c.z = 1.0f；</p><p>c.xy = float2(3.0f, 4.0f);</p><p>c.xyz = float3(3.0f, 4.0f, 5.0f);</p><p>组件选择语法还允许组件的排列或复制：</p><p>float4 pos = float4(1.0f, 2.0f, 3.0f, 4.0f);</p><p>float4 swiz = pos.upx; // swiz = (4.0f, 3.0f, 2.0f, 1.0f)</p><p>float4 dup = pos.xxyy; // dup = (1.0f, 1.0f, 2.0f, 2.0f)</p><p>组件组表示法可以出现在表达式的左侧（左值）。要形成左值，你可以应用 swizzling。生成的左值可以是标量或向量类型，具体取决于指定的分量数量。每个组件必须是受支持的标量或向量类型。向量类型的结果左值不得包含重复的组件。</p><p>float4 pos = float4(1.0f, 2.0f, 3.0f, 4.0f);</p><p>// 位置 = (5.0, 2.0, 3.0, 6.0)</p><p>pos.xw = float2(5.0f, 6.0f);</p><p>// 位置 = (8.0, 2.0, 3.0, 7.0)</p><p>pos.wx = float2(7.0f, 8.0f);</p><p>// 位置 = (3.0, 5.0, 9.0, 7.0)</p><p>pos.xyz = float3(3.0f, 5.0f, 9.0f);</p><p>将混合值分配给变量时，GPU 可能需要读取现有值，修改它，然后将结果写回。上例中对 pos.xw 的赋值导致 GPU 加载 float4 值，将值 5.0f 和 6.0f 混洗到其中，并将结果写回 pos。如果两个线程同时写入向量的不同组件，则结果是不确定的。</p><p>不允许使用以下向量分量访问方法，并且会导致编译时错误：</p><ul><li>访问超出为向量类型声明的组件是错误的。2 - 分量向量数据类型只能访问 .xy 或 .rg 元素。3 - 分量向量数据类型只能访问 .xyz 或 .rgb 元素。浮动 2 位置； // 这是一个 2 分量向量。pos.x = 1.0f； // x 是合法的，y 也是合法的。位置 z = 1.0f； // z 是非法的，w 也是非法的。z 是第三个分量。浮动 3 位置； // 这是一个 3 分量向量。位置 z = 1.0f； // z 对于 3 分量向量是合法的。位置 w = 1.0f； // 这是非法的。w 是第四个分量。- 在左侧访问同一组件两次是不明确的并且是一个错误：</li></ul><p>``` // 这是非法的，因为 &#x27;x&#x27; 使用了两次。pos.xx = float2(3.0f, 4.0f); ````</p><ul><li>访问不同数量的组件会出错：</li></ul><p>``` // 由于 float2 和 float4 不匹配，这是非法的。pos.xy = float4(1.0f, 2.0f, 3.0f, 4.0f); ````</p><ul><li>在一次访问中混合使用 .rgba 和 .xyzw 语法是错误的：</li></ul><p><code>float4 pos = float4(1.0f, 2.0f, 3.0f, 4.0f); pos.x = 1.0f; // 好的 pos.g = 2.0f; // 好的</code></p><p>``` // 由于混合了 rgba 和 xyzw 属性，这些是非法的。pos.xg = float2(3.0f, 4.0f); float3 坐标 = pos.ryz; ````</p><ul><li>对带有 swizzles 的向量的指针或引用是错误的：</li></ul><p>``` float4 pos = float4(1.0f, 2.0f, 3.0f, 4.0f); my_func(&amp;pos.xy); // 这是一个指向 swizzle 的非法指针。````</p><p>向量类型上的 sizeof 运算符返回向量的大小，以分量数 <!-- -->*<!-- --> 每个分量的大小给出。例如，sizeof(float4) 返回 16，sizeof(half4) 返回 8。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="222-向量构造函数">2.2.2 向量构造函数<a href="#222-向量构造函数" class="hash-link" aria-label="2.2.2 向量构造函数的直接链接" title="2.2.2 向量构造函数的直接链接">​</a></h2><p>你可以使用构造函数从一组标量或向量创建向量。参数签名决定如何构造和初始化向量。例如，如果仅使用单个标量参数初始化向量，则构造向量的所有分量都将设置为该标量值。</p><p>如果从多个标量、一个或多个向量或者标量和向量的混合构造一个向量，则该向量的分量将按照参数分量的顺序构造。参数是从左到右消耗的。在消耗下一个参数的任何组件之前，每个参数都会按顺序消耗其所有组件。</p><p>这是 float4 的构造函数列表：</p><p>float4(浮点 x);</p><p>float4(浮点 x, 浮点 y, 浮点 z, 浮点 w);</p><p>float4(float2 a, float2 b);</p><p>float4(float2 a,float b,float c);</p><p>float4（浮点 a，浮点 b，浮点 2 c）；</p><p>float4（浮点 a，浮点 2 b，浮点 c）；</p><p>float4(float3 a, float b);</p><p>float4(float a, float3 b);</p><p>浮点 4(浮点 4x);</p><p>这是 float3 的构造函数列表：</p><p>浮点 3（浮点 x）；</p><p>float3(浮点数 x, 浮点数 y, 浮点数 z);</p><p>float3(float a, float2 b);</p><p>float3(float2 a,float b);</p><p>float3(float3 x);</p><p>这是 float2 的构造函数列表：</p><p>浮点 2（浮点 x）；</p><p>float2(浮点数 x, 浮点数 y);</p><p>浮点 2(浮点 2x);</p><p>以下示例说明了上述构造函数的用法：</p><p>浮点数 x = 1.0f，y = 2.0f，z = 3.0f，w = 4.0f；</p><p>float4 a = float4(0.0f);</p><p>float4 b = float4(x, y, z, w);</p><p>float2 c = float2(5.0f, 6.0f);</p><p>float2 a = float2(x, y);</p><p>float2 b = float2(z, w);</p><p>float4 x = float4(a.xy, b.xy);</p><p>向量构造函数初始化不足会导致编译时错误。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="223-压缩向量类型">2.2.3 压缩向量类型<a href="#223-压缩向量类型" class="hash-link" aria-label="2.2.3 压缩向量类型的直接链接" title="2.2.3 压缩向量类型的直接链接">​</a></h2><p>你必须将第 2.2 节中描述的向量数据类型与向量的大小对齐。你还可以要求它们的矢量数据紧密包装；例如，顶点结构可能包含紧密封装的位置、法线、切线向量和纹理坐标，并作为缓冲区传递给顶点函数。</p><p>支持的打包向量类型名称为：</p><p>-packed_charn -packed_shortn -packed_intn -packed_ucharn -packed_ushortn -packed_uintn -packed_halfn -packed bfloatn（从 Metal 3 .1 开始支持） -packed_floatn -packed_longn（从 Metal 2.3 开始支持）</p><p>其中 n 为 2、3 或 4，分别表示 2 - 、 3 - 或 4 - 分量向量类型。（packed_booln 向量类型名称被保留。）</p><p>Metal 还支持 Packed_vec，其中 T 是有效的标量类型，n 是 2 、 3 或 4 ，表示 2 - 、 3 - 或 4 - 分量打包向量类型。</p><p>表 2. 4 列出了打包矢量数据类型的大小和对齐方式。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="表-24打包矢量数据类型的大小和对齐方式">表 2.4。打包矢量数据类型的大小和对齐方式<a href="#表-24打包矢量数据类型的大小和对齐方式" class="hash-link" aria-label="表 2.4。打包矢量数据类型的大小和对齐方式的直接链接" title="表 2.4。打包矢量数据类型的大小和对齐方式的直接链接">​</a></h2><p><strong>类型大小（以字节为单位）对齐方式（以字节为单位）</strong></p><p>打包<!-- -->_<!-- -->char2、打包<!-- -->_<!-- -->uchar2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-1">2 1<a href="#2-1" class="hash-link" aria-label="2 1的直接链接" title="2 1的直接链接">​</a></h3><p>打包<!-- -->_<!-- -->char3、打包<!-- -->_<!-- -->uchar3</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-1">3 1<a href="#3-1" class="hash-link" aria-label="3 1的直接链接" title="3 1的直接链接">​</a></h3><p>打包<!-- -->_<!-- -->char4、打包<!-- -->_<!-- -->uchar4</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-1">4 1<a href="#4-1" class="hash-link" aria-label="4 1的直接链接" title="4 1的直接链接">​</a></h3><p>Packed_short2、packed_ushort2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-2">4 2<a href="#4-2" class="hash-link" aria-label="4 2的直接链接" title="4 2的直接链接">​</a></h3><p>Packed_short3、packed_ushort3</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-2">6 2<a href="#6-2" class="hash-link" aria-label="6 2的直接链接" title="6 2的直接链接">​</a></h3><p>Packed_short4、packed_ushort4</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-2">8 2<a href="#8-2" class="hash-link" aria-label="8 2的直接链接" title="8 2的直接链接">​</a></h3><p>打包 int2、打包 uint2</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-4">8 4<a href="#8-4" class="hash-link" aria-label="8 4的直接链接" title="8 4的直接链接">​</a></h3><p>Packed_int3、packed_uint3</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-4">12 4<a href="#12-4" class="hash-link" aria-label="12 4的直接链接" title="12 4的直接链接">​</a></h3><p>打包 int4、打包 uint4</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="16-4">16 4<a href="#16-4" class="hash-link" aria-label="16 4的直接链接" title="16 4的直接链接">​</a></h3><p>打包<!-- -->_<!-- -->half2 4 2</p><p>打包<!-- -->_<!-- -->half3 6 2</p><p>打包<!-- -->_<!-- -->half4 8 2</p><p>packed_bfloat2 4 2</p><p>packed_bfloat3 6 2</p><p>packed_bfloat4 8 2</p><p>打包浮点 2 8 4</p><p>packed_float3 12 4</p><p>packed_float4 16 4</p><p>打包长 2 16 8</p><p>打包长 3 24 8</p><p>packed_long4 32 8</p><p>打包矢量数据类型通常用作数据存储格式。Metal 支持打包向量数据类型的赋值、算术、逻辑、关系和复制构造函数运算符。Metal 还支持从打包向量数据类型到对齐向量数据类型的加载和存储，反之亦然。</p><p>例子：</p><p>设备 float4 <!-- -->*<!-- -->缓冲区；</p><p>设备 Packed_float4 <!-- -->*<!-- -->packed_buffer;</p><p>整数我；</p><p>Packed_float4 f ( 缓冲区 <!-- -->[i]<!-- --> );</p><p>pack_buffer<!-- -->[i]<!-- --> = 缓冲区<!-- -->[i]<!-- -->;</p><p>// 用于从 packed_float4 转换为 float4 的运算符。</p><p>buffer<!-- -->[i]<!-- --> = float4(packed_buffer<!-- -->[i]<!-- -->);</p><p>你可以使用数组索引来访问打包向量数据类型的组件。从 Metal 2.1 开始，你可以使用 .xyzw 或 .rgba 选择语法来访问打包矢量数据类型的组件。打包向量数据类型混合时的语义和限制与向量类型相同。</p><p>例子：</p><p>Packed_float4 f；</p><p>f<!-- -->[0]<!-- --> = 1.0f； // 好的</p><p>f.x = 1.0f； // 从 Metal 2.1 开始就可以了</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/zhuanghongji/swift-tutorials-cn/docs/metal-shading-language-specification/vector-data-types/index.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2023-08-27T07:50:07.000Z">2023年8月27日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/swift-tutorials-cn/docs/metal-shading-language-specification/scalar-data-types"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">标量数据类型</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/swift-tutorials-cn/docs/metal-shading-language-specification/matrix-data-types"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">矩阵数据类型</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#表-23矢量数据类型的大小和对齐方式" class="table-of-contents__link toc-highlight">表 2.3。矢量数据类型的大小和对齐方式</a><ul><li><a href="#2-2" class="table-of-contents__link toc-highlight">2 2</a></li><li><a href="#4-4" class="table-of-contents__link toc-highlight">4 4</a></li><li><a href="#4-4-1" class="table-of-contents__link toc-highlight">4 4</a></li><li><a href="#4-4-2" class="table-of-contents__link toc-highlight">4 4</a></li><li><a href="#8-8" class="table-of-contents__link toc-highlight">8 8</a></li><li><a href="#8-8-1" class="table-of-contents__link toc-highlight">8 8</a></li><li><a href="#8-8-2" class="table-of-contents__link toc-highlight">8 8</a></li><li><a href="#16-16" class="table-of-contents__link toc-highlight">16 16</a></li><li><a href="#16-16-1" class="table-of-contents__link toc-highlight">16 16</a></li><li><a href="#16-16-2" class="table-of-contents__link toc-highlight">16 16</a></li><li><a href="#32-32" class="table-of-contents__link toc-highlight">32 32</a></li><li><a href="#32-32-1" class="table-of-contents__link toc-highlight">32 32</a></li></ul></li><li><a href="#221-访问向量分量" class="table-of-contents__link toc-highlight">2.2.1 访问向量分量</a></li><li><a href="#222-向量构造函数" class="table-of-contents__link toc-highlight">2.2.2 向量构造函数</a></li><li><a href="#223-压缩向量类型" class="table-of-contents__link toc-highlight">2.2.3 压缩向量类型</a></li><li><a href="#表-24打包矢量数据类型的大小和对齐方式" class="table-of-contents__link toc-highlight">表 2.4。打包矢量数据类型的大小和对齐方式</a><ul><li><a href="#2-1" class="table-of-contents__link toc-highlight">2 1</a></li><li><a href="#3-1" class="table-of-contents__link toc-highlight">3 1</a></li><li><a href="#4-1" class="table-of-contents__link toc-highlight">4 1</a></li><li><a href="#4-2" class="table-of-contents__link toc-highlight">4 2</a></li><li><a href="#6-2" class="table-of-contents__link toc-highlight">6 2</a></li><li><a href="#8-2" class="table-of-contents__link toc-highlight">8 2</a></li><li><a href="#8-4" class="table-of-contents__link toc-highlight">8 4</a></li><li><a href="#12-4" class="table-of-contents__link toc-highlight">12 4</a></li><li><a href="#16-4" class="table-of-contents__link toc-highlight">16 4</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.apple.com/xcode/swiftui/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SwiftUI Overview</a></li><li class="footer__item"><a href="https://developer.apple.com/documentation/swiftui/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SwiftUI Documentation</a></li><li class="footer__item"><a href="https://developer.apple.com/videos/swiftui-ui-frameworks" target="_blank" rel="noopener noreferrer" class="footer__link-item">SwiftUI &amp; UI Frameworks Videos</a></li><li class="footer__item"><a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Swift Programming Language</a></li></ul></div><div class="col footer__col"><div class="footer__title">参考</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.fatbobman.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Fatbob Man</a></li><li class="footer__item"><a href="https://designcode.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Design Code</a></li><li class="footer__item"><a href="https://www.swiftanytime.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Swift Anytime</a></li><li class="footer__item"><a href="https://www.hackingwithswift.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hacking With Swift</a></li></ul></div><div class="col footer__col"><div class="footer__title">探索</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/@Kavsoft" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kavsoft</a></li><li class="footer__item"><a href="https://www.youtube.com/@ChaoCode" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chao Code</a></li><li class="footer__item"><a href="https://www.youtube.com/@iOSAcademy" target="_blank" rel="noopener noreferrer" class="footer__link-item">iOS Academy</a></li><li class="footer__item"><a href="https://www.youtube.com/@XCA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Xcoding with Alfian</a></li></ul></div><div class="col footer__col"><div class="footer__title">发现</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/swift-tutorials-cn/sponsor-me">Sponsor Me</a></li><li class="footer__item"><a class="footer__link-item" href="/swift-tutorials-cn/sponsor-list">Sponsor List</a></li><li class="footer__item"><a href="https://twitter.com/ajizhhans" target="_blank" rel="noopener noreferrer" class="footer__link-item">Follow Twitter</a></li><li class="footer__item"><a href="https://github.com/zhuanghongji" target="_blank" rel="noopener noreferrer" class="footer__link-item">Follow GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 ZHUANGHONGJI<br><a style="font-size: 12px;color: white;" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International (CC BY 4.0) License</a></div></div></div></footer></div>
<script src="/swift-tutorials-cn/assets/js/runtime~main.b2921d86.js"></script>
<script src="/swift-tutorials-cn/assets/js/main.d320bbb9.js"></script>
</body>
</html>