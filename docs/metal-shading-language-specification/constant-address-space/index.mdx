# 常量地址空间

<ToBePolishedAfterTranslation />

<OrigninalPDF title="4.2 constant Address Space" />

常量地址空间名称是指从设备内存池分配的只读缓冲存储器对象。你必须在常量地址空间中声明程序范围内的变量，并在声明语句期间初始化它们。初始化表达式必须是核心常量表达式。（请参阅 C++14 规范的第 5. 20 节。）编译器可以在编译时计算核心常量表达式。程序作用域中的变量与程序具有相同的生命周期，并且它们的值在对程序中任何计算或图形函数的调用之间保持不变。

```cpp
constant float samples[] = { 1.0f, 2.0f, 3.0f, 4.0f };
```

允许对 `constant` 地址空间的指针或引用作为函数的参数。

写入 `constant` 地址空间中声明的变量是一个编译时错误。在没有初始化的情况下声明这样的变量也是一个编译时错误。

传递给内核、顶点和片段函数的 `constant` 地址空间中的缓冲区具有基于 GPU 的最低对齐要求。有关详细信息，请参阅 Metal 功能集表中的 "Metal Feature Set Tables for more information"。
