<!doctype html>
<html lang="zh-hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-metal-shading-language-specification/texture-addressing-and-conversion-rules/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">纹理寻址和转换规则 | Swift 悍刀行</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zhuanghongji.github.io/swift-tutorials-cn/docs/metal-shading-language-specification/texture-addressing-and-conversion-rules"><meta data-rh="true" name="docusaurus_locale" content="zh-hans"><meta data-rh="true" name="docsearch:language" content="zh-hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="纹理寻址和转换规则 | Swift 悍刀行"><meta data-rh="true" name="description" content="指定给 sample、samplecompare、gather、gathercompare、read 和 write 函数的纹理坐标不能是 INF 或 NaN。另外，对于纹理读取和写入函数，纹理坐标必须引用纹理内部的区域。如果纹理坐标超出纹理边界，则读写函数行为未定义。"><meta data-rh="true" property="og:description" content="指定给 sample、samplecompare、gather、gathercompare、read 和 write 函数的纹理坐标不能是 INF 或 NaN。另外，对于纹理读取和写入函数，纹理坐标必须引用纹理内部的区域。如果纹理坐标超出纹理边界，则读写函数行为未定义。"><link data-rh="true" rel="icon" href="/swift-tutorials-cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhuanghongji.github.io/swift-tutorials-cn/docs/metal-shading-language-specification/texture-addressing-and-conversion-rules"><link data-rh="true" rel="alternate" href="https://zhuanghongji.github.io/swift-tutorials-cn/docs/metal-shading-language-specification/texture-addressing-and-conversion-rules" hreflang="zh-hans"><link data-rh="true" rel="alternate" href="https://zhuanghongji.github.io/swift-tutorials-cn/docs/metal-shading-language-specification/texture-addressing-and-conversion-rules" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/swift-tutorials-cn/blog/rss.xml" title="Swift 悍刀行 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/swift-tutorials-cn/blog/atom.xml" title="Swift 悍刀行 Atom Feed"><link rel="stylesheet" href="/swift-tutorials-cn/assets/css/styles.a7cf13f8.css">
<link rel="preload" href="/swift-tutorials-cn/assets/js/runtime~main.b2921d86.js" as="script">
<link rel="preload" href="/swift-tutorials-cn/assets/js/main.d320bbb9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/swift-tutorials-cn/"><div class="navbar__logo"><img src="/swift-tutorials-cn/img/logo.svg" alt="Swift 悍刀行" class="themedImage_ToTc themedImage--light_HNdA"><img src="/swift-tutorials-cn/img/logo.svg" alt="Swift 悍刀行" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Swift 悍刀行</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swift/welcome/about">Swift</a><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swiftui/essentials/about">SwiftUI</a><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swiftcharts/essentials/about">SwiftCharts</a><a class="navbar__item navbar__link" href="/swift-tutorials-cn/docs/swiftdata/essentials/about">SwiftData</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Frameworks</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/core-graphics/overview">Core Graphics</a></li><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/metal/overview">Metal</a></li><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/metalkit/overview">MetalKit</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Books</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/swift-tutorials-cn/docs/metal-programming-guide/introdution">Metal Programming Guide</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/swift-tutorials-cn/docs/metal-shading-language-specification/preface">Metal Shading Language Specification 3.1</a></li></ul></div><a href="https://github.com/zhuanghongji/swift-tutorials-cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Metal Shading Language 规范</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/preface">前言</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/preface">前言</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/purpose-of-this-document">介绍</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/purpose-of-this-document">本文档的目的</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/organization-of-this-specification">本规范的组织</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/references">参考文献</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/metal-and-cpp14">Metal 和 C++14</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/compiler-and-preprocessor">编译器和预处理器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/metal-coordinate-systems">Metal 坐标系</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/scalar-data-types">数据类型</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/scalar-data-types">标量数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/vector-data-types">向量数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/matrix-data-types">矩阵数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/simd-group-matrix-data-types">SIMD 组矩阵数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/alignment-of-data-types">数据类型的对齐</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/atomic-data-types">原子数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/pixel-data-types">像素数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/buffers">缓冲区</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/textures">纹理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/samplers">采样器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/imageblocks">图像块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/aggregate-types">聚合类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/argument-buffers">参数缓冲区</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/uniform-type">统一类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/visible-function-table">可见函数表</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/function-group-attribute">功能组属性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/ray-tracing-types">光线追踪类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/interpolant-type">插值类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/mesh-shader-types">网格着色器类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/type-conversions-and-re-interpreting-data">类型转换和重新解释数据</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/implicit-type-conversions">隐式类型转换</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/scalar-and-vector-operators">运算符</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/scalar-and-vector-operators">标量和向量运算符</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/matrix-operators">矩阵运算符</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/device-address-space">地址空间</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/device-address-space">设备地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/constant-address-space">常量地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/thread-address-space">线程地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/threadgroup-address-space">线程组地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/threadgroup-imageblock-address-space">threadgroup_imageblock 地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/ray-data-address-space">ray_data 地址空间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/object-data-address-space">object_data 地址空间</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/functions">函数与变量声明</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/functions">函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/function-arguments-and-variables">函数参数和变量</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/storage-class-specifiers">存储类说明符</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/sampling-and-interpolation-attributes">采样和插值属性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/per-fragment-function-versus-per-sample-function">每片段函数与每样本函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/imageblock-attributes">图像块属性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/graphics-function-signature-matching">图形功能 - 签名匹配</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/program-scope-function-constants">程序作用域函数常量</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/program-scope-global-built-ins">程序范围全局内置函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/per-primitive-viewport-and-scissor-rectangle-index-selection">每个图元视口和剪刀矩形索引选择</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/additional-restrictions">附加限制</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/namespace-and-header-files">Metal 标准库</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/namespace-and-header-files">命名空间和头文件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/common-functions">常用函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/integer-functions">整数函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/relational-functions">关系函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/math-functions">数学函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/matrix-functions">矩阵函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/simd-group-matrix-functions">SIMD 组矩阵函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/geometric-functions">几何函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/synchronization-and-simd-group-functions">同步和 SIMD 组功能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/graphics-functions">图形函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/pull-model-interpolation">拉模型插值</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/texture-functions">纹理函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/imageblock-functions">图像块函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/pack-and-unpack-functions">打包和解包函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/atomic-functions">原子函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/encoding-commands-for-indirect-command-buffers">间接命令缓冲区的编码命令</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/variable-rasterization-rate">可变光栅化率</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/ray-tracing-functions">光线追踪函数</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/inf-nan-and-denormalized-numbers">数值符合性</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/inf-nan-and-denormalized-numbers">INF、NaN 和非规范化数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/rounding-mode">舍入模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/floating-point-exceptions">浮点异常</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/relative-error-as-ulps">作为 ULP 的相对误差</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/edge-case-behavior-in-flush-to-zero-mode">清零模式下的边缘情况行为</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/conversion-rules-for-floating-point-and-integer-types">浮点型和整数型的转换规则</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/swift-tutorials-cn/docs/metal-shading-language-specification/texture-addressing-and-conversion-rules">纹理寻址和转换规则</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/swift-tutorials-cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Metal Shading Language 规范</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">数值符合性</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">纹理寻址和转换规则</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>纹理寻址和转换规则</h1><div style="padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;border-radius:0.5rem;background-color:#333333">原文：7.7 Texture Addressing and Conversion Rules</div><br><p>指定给 sample、sample_compare、gather、gather_compare、read 和 write 函数的纹理坐标不能是 INF 或 NaN。另外，对于纹理读取和写入函数，纹理坐标必须引用纹理内部的区域。如果纹理坐标超出纹理边界，则读写函数行为未定义。</p><p>以下各节讨论在图形或内核函数中读取和写入纹理时转换规则的应用。执行多重采样解析操作时，这些转换规则不适用。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="771-归一化整数像素数据类型的转换规则">7.7.1 归一化整数像素数据类型的转换规则<a href="#771-归一化整数像素数据类型的转换规则" class="hash-link" aria-label="7.7.1 归一化整数像素数据类型的转换规则的直接链接" title="7.7.1 归一化整数像素数据类型的转换规则的直接链接">​</a></h2><p>本节讨论将标准化整数像素数据类型转换为浮点值，反之亦然。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="7711-将标准化整数像素数据类型转换为浮点值">7.7.1.1 将标准化整数像素数据类型转换为浮点值<a href="#7711-将标准化整数像素数据类型转换为浮点值" class="hash-link" aria-label="7.7.1.1 将标准化整数像素数据类型转换为浮点值的直接链接" title="7.7.1.1 将标准化整数像素数据类型转换为浮点值的直接链接">​</a></h2><p>对于具有 8、10 或 16 位归一化无符号整数像素值的纹理，纹理采样和读取函数将像素值从 8 或 16 位无符号整数转换为归一化单精度或半精度浮点数- <!-- -->[0.0 ... 1.0]<!-- --> 范围内的点值。</p><p>对于具有 8 位或 16 位标准化有符号整数像素值的纹理，纹理采样和读取函数将像素值从 8 位或 16 位有符号整数转换为标准化单精度或半精度浮点值范围 <!-- -->[-1.0 ... 1.0]<!-- -->。</p><p>这些转换按照表 7 第二列中列出的方式执行。6. 转换规则的精度保证 <code>&lt;= 1.5 ulp</code>，“极端情况”列中描述的情况除外。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="表-76转换为标准化浮点值">表 7.6。转换为标准化浮点值<a href="#表-76转换为标准化浮点值" class="hash-link" aria-label="表 7.6。转换为标准化浮点值的直接链接" title="表 7.6。转换为标准化浮点值的直接链接">​</a></h2><p><code>从转换规则转换为标准化浮点数</code></p><p><code>极端情况</code></p><p><code>1 位标准化无符号整数</code></p><p><code>float(c) 0 必须转换为 0.0 1 必须转换为 1.0</code></p><p><code>2 位标准化无符号整数</code></p><p><code>float(c) / 3.0 0 必须转换为 0.0 3 必须转换为 1.0</code></p><p><code>4 位标准化无符号整数</code></p><p><code>float(c) / 15.0 0 必须转换为 0.0 15 必须转换为 1.0</code></p><p><code>5 位标准化无符号整数</code></p><p><code>float(c) / 31.0 0 必须转换为 0.0 31 必须转换为 1.0</code></p><p><code>6 位标准化无符号整数</code></p><p><code>float(c) / 63.0 0 必须转换为 0.0 63 必须转换为 1.0</code></p><p><code>8 位标准化无符号整数</code></p><p><code>float(c) / 255.0 0 必须转换为 0.0 255 必须转换为 1.0</code></p><p><code>10 位标准化无符号整数</code></p><p><code>float(c) / 1023.0 0 必须转换为 0.0 1023 必须转换为 1.0</code></p><p><code>16 位标准化无符号整数</code></p><p><code>float(c) / 65535.0 0 必须转换为 0.0 65535 必须转换为 1.0</code></p><p><code>8 位标准化有符号整数</code></p><p>`` 最大（-1.0，浮点（c）/127.0）````</p><ul><li>128 和 - 127 必须转换为 - 1.0 0 必须转换为 0.0 127 必须转换为 1.0</li></ul><p><code>16 位标准化有符号整数</code></p><p><code> 最大（-1.0，浮点数（c）/32767.0）</code></p><ul><li>32768 和 - 32767 必须转换为 - 1.0 0 必须转换为 0.0 32767 必须转换为 1.0</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="7712-将浮点值转换为标准化整数像素数据类型">7.7.1.2 将浮点值转换为标准化整数像素数据类型<a href="#7712-将浮点值转换为标准化整数像素数据类型" class="hash-link" aria-label="7.7.1.2 将浮点值转换为标准化整数像素数据类型的直接链接" title="7.7.1.2 将浮点值转换为标准化整数像素数据类型的直接链接">​</a></h2><p>对于具有 8、10 或 16 位归一化无符号整数像素值的纹理，纹理写入函数会将单精度或半精度浮点像素值转换为 8 或 16 位无符号整数。</p><p>对于具有 8 或 16 位标准化有符号整数像素值的纹理，纹理写入函数会将单精度或半精度浮点像素值转换为 8 或 16 位有符号整数。</p><p>NaN 值转换为零。</p><p>从浮点值到标准化整数值的转换按照表 7. 7. 中列出的方式执行。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="表-77从浮点到标准化整数值的转换">表 7.7。从浮点到标准化整数值的转换<a href="#表-77从浮点到标准化整数值的转换" class="hash-link" aria-label="表 7.7。从浮点到标准化整数值的转换的直接链接" title="表 7.7。从浮点到标准化整数值的转换的直接链接">​</a></h2><p><code>转换为标准化整数的转换规则</code></p><p><code>1 位标准化无符号整数</code></p><p><code>x = min(max(f, 0.0), 1.0) i0:0 = intRTNE(x)</code></p><p><code>2 位标准化无符号整数</code></p><p><code>x = min(max(f * 3.0, 0.0), 3.0) i1:0 = intRTNE(x)</code></p><p><code>4 位标准化无符号整数</code></p><p><code>x = min(max(f * 15.0, 0.0), 15.0) i3:0 = intRTNE(x)</code></p><p><code>5 位标准化无符号整数</code></p><p><code>x = min(max(f * 31.0, 0.0), 31.0) i4:0 = intRTNE(x)</code></p><p><code>6 位标准化无符号整数</code></p><p><code>x = min(max(f * 63.0, 0.0), 63.0) i5:0 = intRTNE(x)</code></p><p><code>8 位标准化无符号整数</code></p><p><code>x = min(max(f * 255.0, 0.0), 255.0) i7:0 = intRTNE(x)</code></p><p><code>10 位标准化无符号整数</code></p><p><code>x = min(max(f * 1023.0, 0.0), 1023.0) i9:0 = intRTNE(x)</code></p><p><code>16 位标准化无符号整数</code></p><p><code>结果 = min(max(f * 65535.0, 0.0), 65535.0) i15:0 = intRTNE(x)</code></p><p><code>8 位标准化有符号整数</code></p><p><code>结果 = min(max(f * 127.0, - 127.0), 127.0) i7:0 = intRTNE(x)</code></p><p><code>16 位标准化有符号整数</code></p><p><code>结果 = min(max(f * 32767.0, - 32767.0),32767.0) i15:0 = intRTNE(x)</code></p><p>在 Metal 2 中，所有与非规范数据类型之间的转换都应正确舍入。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="772-半精度浮点像素数据类型的转换规则">7.7.2 半精度浮点像素数据类型的转换规则<a href="#772-半精度浮点像素数据类型的转换规则" class="hash-link" aria-label="7.7.2 半精度浮点像素数据类型的转换规则的直接链接" title="7.7.2 半精度浮点像素数据类型的转换规则的直接链接">​</a></h2><p>对于具有半精度浮点像素颜色值的纹理，从半精度到浮点的转换是无损的。使用舍入方式将尾数从浮点转换为半舍入到偶数舍入模式。将浮点数转换为 half 时可能生成的 half 数据类型的非规范化数字可能不会刷新为零。浮点 NaN 可以转换为适当的 NaN 或在 half 类型中刷新为零。必须将浮点 INF 转换为 half 类型中的适当 INF。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="773-单精度浮点像素数据类型的转换规则">7.7.3 单精度浮点像素数据类型的转换规则<a href="#773-单精度浮点像素数据类型的转换规则" class="hash-link" aria-label="7.7.3 单精度浮点像素数据类型的转换规则的直接链接" title="7.7.3 单精度浮点像素数据类型的转换规则的直接链接">​</a></h2><p>以下规则适用于读取和写入具有单精度浮点像素颜色值的纹理：</p><ul><li>NaN 可以转换为 NaN 值或刷新为零。- 必须保留 INF。- 非规范化的数字可能会被刷新为零。- 必须保留所有其他值。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="774-10-位和-11-位浮点像素数据类型的转换规则">7.7.4 10 位和 11 位浮点像素数据类型的转换规则<a href="#774-10-位和-11-位浮点像素数据类型的转换规则" class="hash-link" aria-label="7.7.4 10 位和 11 位浮点像素数据类型的转换规则的直接链接" title="7.7.4 10 位和 11 位浮点像素数据类型的转换规则的直接链接">​</a></h2><p>浮点格式使用 5 位指数，对于 10 位浮点类型使用 5 位尾数，对于 11 位浮点类型使用 6 位尾数，并为这两种类型提供附加隐藏位。没有符号位。10 位和 11 位浮点类型保留非正规数。</p><p>这些浮点格式使用以下规则：</p><ul><li>如果指数和尾数均为 0，则浮点值为 0.0。- 如果指数为 31 并且尾数为“= 0，则生成的浮点值为 NaN。- 如果指数为 31 并且尾数为 0，则生成的浮点值为正无穷大。- 如果 0 &lt; = 指数 &lt;= 31，浮点值为 2 ^(指数 - 15) <!-- -->*<!-- --> (1 + 尾数/N). - 如果指数为 0，尾数为“= 0，则浮点值为 a 非规格化数为 2 ^ (指数 - 14) <!-- -->*<!-- --> (尾数 / N)。如果尾数为 5 位，则 N 为 32；如果尾数为 6 位，则 N 为 64。</li></ul><p>将 10 位或 11 位浮点像素数据类型转换为半精度或单精度浮点值是无损的。半精度或单精度浮点值到 10 位或 11 位浮点值的转换必须 &lt;= 0.5 ULP。对于这些浮点类型，任何导致值小于零的操作都会被钳位为零。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="775-具有-5-位指数的-9-位浮点像素数据类型的转换规则">7.7.5 具有 5 位指数的 9 位浮点像素数据类型的转换规则<a href="#775-具有-5-位指数的-9-位浮点像素数据类型的转换规则" class="hash-link" aria-label="7.7.5 具有 5 位指数的 9 位浮点像素数据类型的转换规则的直接链接" title="7.7.5 具有 5 位指数的 9 位浮点像素数据类型的转换规则的直接链接">​</a></h2><p>RGB9E5_SharedExponent 共享指数浮点格式使用 5 位作为指数，9 位作为尾数。没有符号位。</p><p>从这种格式到半精度或单精度浮点值的转换是无损的，并且对于每个颜色通道计算为 2 ^ (共享指数 - 15) <!-- -->*<!-- --> (尾数/512)。</p><p>从半精度或单精度浮点 RGB 颜色值到此格式的转换按如下方式执行，其中 N 是每个分量的尾数位数 (9)，B 是指数偏差 (15)，Emax 是允许的最大偏差指数值 (31)。</p><ul><li>限制 r、g 和 b 分量（在此过程中，将 NaN 映射为零），如下所示：</li></ul><p>rc = max(0, min(sharedexpmax, r) gc = max(0, min(sharedexpmax, g) bc = max(0, min(sharedexpmax, b)</p><p>其中 sharedexpmax = ((2N - 1)/2N) <!-- -->*<!-- --> 2(Emax - B)。</p><ul><li>确定最大夹紧分量 maxc：</li></ul><p>maxc = max(rc, gc, bc)</p><ul><li>计算初步共享指数 expp</li></ul><p>expp = max(-B - 1, 下限(log2(maxc)) + 1 + B</p><ul><li>计算精确的共享指数 exps</li></ul><p>maxs = Floor((maxc / 2expp-B-N) + 0.5f) exps = expp，如果 0 &lt;= maxs &lt; 2N，并且 exps = expp + 1，如果 maxs = 2N。</p><ul><li>最后，计算 0 到 2N - 1 范围内的三个整数值：</li></ul><p>rs = 下限(rc / 2expp-B-N) + 0.5f) gs = 下限(gc / 2expp-B-N) + 0.5f) bs = 下限(bc / 2expp-B-N) + 0.5f)</p><p>将半精度或单精度浮点颜色值转换为 MTLPixelFormatRGB9E5Float 共享指数浮点值 &lt;= 0.5 ULP。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="776-有符号和无符号整数像素数据类型的转换规则">7.7.6 有符号和无符号整数像素数据类型的转换规则<a href="#776-有符号和无符号整数像素数据类型的转换规则" class="hash-link" aria-label="7.7.6 有符号和无符号整数像素数据类型的转换规则的直接链接" title="7.7.6 有符号和无符号整数像素数据类型的转换规则的直接链接">​</a></h2><p>对于具有 8 或 16 位有符号或无符号整数像素值的纹理，纹理采样和读取函数返回有符号或无符号 32 位整数像素值。本节中描述的转换必须正确饱和。</p><p>对这些整数纹理的写入执行表 7. 8 中列出的转换之一。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="表-78整数像素数据类型之间的转换">表 7.8。整数像素数据类型之间的转换<a href="#表-78整数像素数据类型之间的转换" class="hash-link" aria-label="表 7.8。整数像素数据类型之间的转换的直接链接" title="表 7.8。整数像素数据类型之间的转换的直接链接">​</a></h2><p><code>转换自 到 转换规则</code></p><p><code>32 位有符号整数 8 位有符号整数结果 = Convert_char_saturate(val)</code></p><p><code>32 位有符号整数 16 位有符号整数 结果 = Convert_short_saturate(val)</code></p><p><code>32 位无符号整数</code></p><p><code>8 位无符号整数</code></p><p><code>结果 = Convert_uchar_saturate(val)</code></p><p><code>32 位无符号整数</code></p><p><code>16 位无符号整数</code></p><p><code>结果 = Convert_ushort_saturate(val)</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="777-srgba-和-sbgra-纹理的转换规则">7.7.7 sRGBA 和 sBGRA 纹理的转换规则<a href="#777-srgba-和-sbgra-纹理的转换规则" class="hash-link" aria-label="7.7.7 sRGBA 和 sBGRA 纹理的转换规则的直接链接" title="7.7.7 sRGBA 和 sBGRA 纹理的转换规则的直接链接">​</a></h2><p>Conversion from sRGB space to linear space is automatically done when sampling from an sRGB texture. The conversion from sRGB to linear RGB is performed before the filter specified in the sampler specified when sampling the texture is applied. If the texture has an alpha channel, the alpha data is stored in linear color space.</p><p>写入 sRGB 纹理时，会自动完成从线性空间到 sRGB 空间的转换。如果纹理具有 Alpha 通道，则 Alpha 数据存储在线性颜色空间中。</p><p>以下是将标准化的 8 位无符号整数从 sRGB 颜色值转换为浮点线性 RGB 颜色值（称为 c）的转换规则：</p><p>如果（c &lt;= 0.04045）</p><p>结果=c/12.92；</p><p>别的</p><p>结果 = 功率((c + 0.055) / 1.055, 2.4);</p><p>上述转换的精度必须确保将结果转换回非标准化 sRGB 值但不舍入为 8 位无符号整数值（称为 r）时所得无限精确浮点值与原始 sRGB 8 之间的差值位无符号整数颜色值（称为 rorig）&lt;= 0.5；例如：</p><p>fabs(r - rorig) &lt;= 0.5</p><p>使用以下规则将线性 RGB 浮点颜色值（称为 c）转换为标准化 8 位无符号整数 sRGB 值：</p><p>如果 (isnan(c)) c = 0.0;如果 (c &gt; 1.0) c = 1.0；否则如果 (c &lt; 0.0) c = 0.0;否则如果 (c &lt; 0.0031308) c = 12.92 <em> c;否则 c = 1.055 </em> power(c, 1.0/2.4) - 0.055;</p><p>// 转换为整数小数位数: c = c <!-- -->*<!-- --> 255.0 // 转换为整数: c = c + 0.5 // 去掉小数部分。// 剩余的浮点（整数）值直接转换为整数。</p><p>上述转换的精度为：</p><p>fabs（参考结果 - 整数结果）&lt; 1.0。</p><p> Apple Inc. 版权所有 © 2018 - 2023 Apple Inc. 保留所有权利。</p><p>No part of this publication may be reproduced, stored in a retrieval system, or transmitted, in any form or by any means, mechanical, electronic, photocopying, recording, or otherwise, without prior written permission of Apple Inc., with the following exceptions: Any person is hereby authorized to store documentation on a single computer or device for personal use only and to print copies of documentation for personal use provided that the documentation contains Apple’s copyright notice.</p><p>对于本文档中描述的任何技术，均未授予任何明示或暗示的许可。Apple 保留与本文档中描述的技术相关的所有知识产权。本文档旨在帮助应用程序开发人员仅为 Apple 品牌产品开发应用程序。</p><p>Apple Inc. One Apple Park Way Cupertino, CA 95014 408 - 996 - 1010</p><p>Apple is a trademark of Apple Inc., registered in the U.S. and other countries.</p><p><strong>Apple 不对本文档、其质量、准确性、适销性或特定用途的适用性做出任何明示或暗示的保证或陈述。因此，本文档按“原样”提供，你（读者）承担其质量和准确性的全部风险。</strong></p><p><strong>在任何情况下，Apple 均不对因本文档中的任何缺陷、错误或不准确而导致的直接、间接、特殊、偶然或后果性损害承担责任，即使已被告知发生此类损害的可能性。</strong></p><p><strong>某些司法管辖区不允许排除默示保证或责任，因此上述排除可能不适用于你。</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/zhuanghongji/swift-tutorials-cn/docs/metal-shading-language-specification/texture-addressing-and-conversion-rules/index.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2023-08-27T07:50:07.000Z">2023年8月27日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/swift-tutorials-cn/docs/metal-shading-language-specification/conversion-rules-for-floating-point-and-integer-types"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">浮点型和整数型的转换规则</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#771-归一化整数像素数据类型的转换规则" class="table-of-contents__link toc-highlight">7.7.1 归一化整数像素数据类型的转换规则</a></li><li><a href="#7711-将标准化整数像素数据类型转换为浮点值" class="table-of-contents__link toc-highlight">7.7.1.1 将标准化整数像素数据类型转换为浮点值</a></li><li><a href="#表-76转换为标准化浮点值" class="table-of-contents__link toc-highlight">表 7.6。转换为标准化浮点值</a></li><li><a href="#7712-将浮点值转换为标准化整数像素数据类型" class="table-of-contents__link toc-highlight">7.7.1.2 将浮点值转换为标准化整数像素数据类型</a></li><li><a href="#表-77从浮点到标准化整数值的转换" class="table-of-contents__link toc-highlight">表 7.7。从浮点到标准化整数值的转换</a></li><li><a href="#772-半精度浮点像素数据类型的转换规则" class="table-of-contents__link toc-highlight">7.7.2 半精度浮点像素数据类型的转换规则</a></li><li><a href="#773-单精度浮点像素数据类型的转换规则" class="table-of-contents__link toc-highlight">7.7.3 单精度浮点像素数据类型的转换规则</a></li><li><a href="#774-10-位和-11-位浮点像素数据类型的转换规则" class="table-of-contents__link toc-highlight">7.7.4 10 位和 11 位浮点像素数据类型的转换规则</a></li><li><a href="#775-具有-5-位指数的-9-位浮点像素数据类型的转换规则" class="table-of-contents__link toc-highlight">7.7.5 具有 5 位指数的 9 位浮点像素数据类型的转换规则</a></li><li><a href="#776-有符号和无符号整数像素数据类型的转换规则" class="table-of-contents__link toc-highlight">7.7.6 有符号和无符号整数像素数据类型的转换规则</a></li><li><a href="#表-78整数像素数据类型之间的转换" class="table-of-contents__link toc-highlight">表 7.8。整数像素数据类型之间的转换</a></li><li><a href="#777-srgba-和-sbgra-纹理的转换规则" class="table-of-contents__link toc-highlight">7.7.7 sRGBA 和 sBGRA 纹理的转换规则</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.apple.com/xcode/swiftui/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SwiftUI Overview</a></li><li class="footer__item"><a href="https://developer.apple.com/documentation/swiftui/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SwiftUI Documentation</a></li><li class="footer__item"><a href="https://developer.apple.com/videos/swiftui-ui-frameworks" target="_blank" rel="noopener noreferrer" class="footer__link-item">SwiftUI &amp; UI Frameworks Videos</a></li><li class="footer__item"><a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Swift Programming Language</a></li></ul></div><div class="col footer__col"><div class="footer__title">参考</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.fatbobman.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Fatbob Man</a></li><li class="footer__item"><a href="https://designcode.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Design Code</a></li><li class="footer__item"><a href="https://www.swiftanytime.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Swift Anytime</a></li><li class="footer__item"><a href="https://www.hackingwithswift.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hacking With Swift</a></li></ul></div><div class="col footer__col"><div class="footer__title">探索</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/@Kavsoft" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kavsoft</a></li><li class="footer__item"><a href="https://www.youtube.com/@ChaoCode" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chao Code</a></li><li class="footer__item"><a href="https://www.youtube.com/@iOSAcademy" target="_blank" rel="noopener noreferrer" class="footer__link-item">iOS Academy</a></li><li class="footer__item"><a href="https://www.youtube.com/@XCA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Xcoding with Alfian</a></li></ul></div><div class="col footer__col"><div class="footer__title">发现</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/swift-tutorials-cn/sponsor-me">Sponsor Me</a></li><li class="footer__item"><a class="footer__link-item" href="/swift-tutorials-cn/sponsor-list">Sponsor List</a></li><li class="footer__item"><a href="https://twitter.com/ajizhhans" target="_blank" rel="noopener noreferrer" class="footer__link-item">Follow Twitter</a></li><li class="footer__item"><a href="https://github.com/zhuanghongji" target="_blank" rel="noopener noreferrer" class="footer__link-item">Follow GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 ZHUANGHONGJI<br><a style="font-size: 12px;color: white;" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International (CC BY 4.0) License</a></div></div></div></footer></div>
<script src="/swift-tutorials-cn/assets/js/runtime~main.b2921d86.js"></script>
<script src="/swift-tutorials-cn/assets/js/main.d320bbb9.js"></script>
</body>
</html>