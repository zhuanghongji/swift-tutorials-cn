import HStack1Image from "./hstack_1.png";
import HStack2Image from "./hstack_2.png";
import HStack3Image from "./hstack_3.png";
import HStack4Image from "./hstack_4.png";
import HStack5Image from "./hstack_5.png";
import LazyHStack1Image from "./lazy_hstack_1.png";
import LazyHStack2Image from "./lazy_hstack_2.png";
import LazyHStack3Image from "./lazy_hstack_3.png";
import LazyHStack4Image from "./lazy_hstack_4.png";
import LazyHStack5Image from "./lazy_hstack_5.png";

# HStack

<OriginalSource
  title="HStack"
  url="https://developer.apple.com/documentation/swiftui/hstack"
  summary="ä¸€ä¸ªå°†å…¶å­è§†å›¾æ’åˆ—åœ¨æ°´å¹³çº¿ä¸Šçš„è§†å›¾"
/>

```swift
/// A view that arranges its subviews in a horizontal line.
@frozen public struct HStack<Content> : View where Content : View {

    /// Creates a horizontal stack with the given spacing and vertical alignment.
    @inlinable public init(alignment: VerticalAlignment = .center,
                           spacing: CGFloat? = nil,
                           @ViewBuilder content: () -> Content)

    /// The type of view representing the body of this view.
    public typealias Body = Never
}
```

## æ¦‚è¿°

`HStack` ä¼šå°†å…¶æ‰€æœ‰çš„å­è§†å›¾æ²¿ç€æ°´å¹³çº¿æ–¹å‘è¿›è¡Œæ¸²æŸ“ï¼Œæ¯”å¦‚ï¼š

<ScreenshotBlock src={HStack1Image}>

```swift
HStack {
    Text("Item 1")
        .background(.orange)

    Text("Item 2")
        .background(.orange)

    Text("Item 3")
        .background(.orange)
}
```

</ScreenshotBlock>

### spacing

å’¦ ... å’‹å­è§†å›¾ä¹‹é—´éƒ½æœ‰ä¸ªè·ç¦»çš„ï¼Ÿ

è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨åˆå§‹åŒ–å™¨ `HStack` æ—¶å¹¶æ²¡æœ‰æ˜¾å¼æŒ‡å®š `spacing` å‚æ•°ï¼ŒSwiftUI ä¼šé»˜è®¤ç»™ä¸€ä¸ªé»˜è®¤çš„é—´è·å€¼ã€‚æ¯”å¦‚ï¼š

<ScreenshotBlock src={HStack2Image}>

```swift
let subviews: some View = Group {
    Text("Item 1")
        .background(.orange)
    Text("Item 2")
        .background(.orange)
    Text("Item 3")
        .background(.orange)
}

var body: some View {
    VStack {
        HStack {
            subviews
        }
        HStack(spacing: nil) {
            subviews
        }
        HStack(spacing: 8) {
            subviews
        }
        HStack(spacing: 16) {
            subviews
        }
        HStack(spacing: 0) {
            subviews
        }
    }
}
```

</ScreenshotBlock>

### alignment

å¦ä¸€ä¸ªå‚æ•° `alignment` æ˜¯ç”¨æ¥æŒ‡å®šå‚ç›´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ï¼š

```swift
/// An alignment position along the vertical axis.
@frozen public struct VerticalAlignment : Equatable {
    // ...
}

extension VerticalAlignment {

    /// A guide that marks the top edge of the view.
    public static let top: VerticalAlignment

    /// A guide that marks the vertical center of the view.
    public static let center: VerticalAlignment

    /// A guide that marks the bottom edge of the view.
    public static let bottom: VerticalAlignment

    /// A guide that marks the top-most text baseline in a view.
    public static let firstTextBaseline: VerticalAlignment

    /// A guide that marks the bottom-most text baseline in a view.
    public static let lastTextBaseline: VerticalAlignment
}
```

å…¶ä¸­ "å±…ä¸Š"ã€"å‚ç›´å±…ä¸­"ã€"å±…ä¸‹" çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š

<ScreenshotBlock src={HStack3Image}>

```swift
let subviews: some View = Group {
    Text("Item 1")
    Text("Item 2")
        .frame(height: 60)
    Text("Item 3")
        .frame(height: 120)
}
.font(.title)
.padding()
.background(.orange)

var body: some View {
    VStack(spacing: 30) {
        Group {
            // highlight-next-line
            HStack(alignment: .top) {
                subviews
            }
            // highlight-next-line
            HStack(alignment: .center) {
                subviews
            }
            // highlight-next-line
            HStack(alignment: .bottom) {
                subviews
            }
        }
        .border(.gray.opacity(0.5), width: 2)
    }
}
```

</ScreenshotBlock>

å…¶ä¸­ "å±…æœ€ä¸Šé¢æ–‡å­—åŸºçº¿"ã€"å±…æœ€ä¸‹é¢æ–‡å­—åŸºçº¿" çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š

<ScreenshotBlock src={HStack4Image}>

```swift
VStack(spacing: 30) {
    Group {
        // highlight-next-line
        HStack(alignment: .firstTextBaseline) {
            Color.red.frame(height: 1)
            Text("First Text Baseline")
                .font(.title)
                .border(.gray)
            Color.red.frame(height: 1)
        }
        // highlight-next-line
        HStack(alignment: .firstTextBaseline) {
            Color.red.frame(height: 1)
            Text("First Text Baseline Padding")
                .font(.title)
                // highlight-next-line
                .padding()
                .border(.gray)
            Color.red.frame(height: 1)
        }

        // highlight-next-line
        HStack(alignment: .lastTextBaseline) {
            Color.green.frame(height: 1)
            Text("Last Text Baseline")
                .font(.title)
                .border(.gray)
            Color.green.frame(height: 1)
        }
        // highlight-next-line
        HStack(alignment: .lastTextBaseline) {
            Color.green.frame(height: 1)
            Text("Last Text Baseline Padding")
                .font(.title)
                // highlight-next-line
                .padding(30)
                .border(.gray)
            Color.green.frame(height: 1)
        }
    }
    .border(.gray.opacity(0.2), width: 1)
}
```

</ScreenshotBlock>

:::note

æ³¨æ„çœ‹ `Text` åŠ  `padding` ä¹‹å‰ä¸ä¹‹åå¯¹é½ä½ç½®çš„å˜åŒ–å™¢ã€‚ ğŸ˜œ

:::

## LazyHStack

å‰é¢æåˆ°ï¼Œ`HStack` ä¼šå°†å…¶æ‰€æœ‰çš„å­è§†å›¾æ²¿ç€æ°´å¹³çº¿æ–¹å‘è¿›è¡Œæ¸²æŸ“ï¼Œæ— è®ºå…¶æ˜¯å¦åœ¨ "å¯è§å±å¹•" å†…ã€‚ä¸¾ä¸ªä¾‹å­ï¼š

<ScreenshotBlock src={HStack5Image}>

```swift
ScrollView(.horizontal) {
    HStack {
        ForEach(1...100, id: \.self) { num in
            Text("Item \(num)")
                .padding()
                .background(.orange)
                .onAppear(perform: {
                    print("onAppear \(num)")
                })
        }
    }
}

// è¿è¡Œä»£ç åä½ ä¼šå‘ç°ï¼ŒonAppear 1 åˆ° 100 ä¼šå…¨éƒ¨æ‰“å°å‡ºæ¥
//
// onAppear 100
// onAppear 99
// onAppear 98
// ...
// onAppear 2
// onAppear 1
```

</ScreenshotBlock>

å¦‚æœé¿å…ä¸åœ¨å±å¹•ä¸Šçš„è§†å›¾ä¹Ÿè¢«æ¸²æŸ“çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ [LazyHStack](https://developer.apple.com/documentation/swiftui/lazyhstack) :

```swift
/// A view that arranges its children in a line that grows horizontally,
/// creating items only as needed.
public struct LazyHStack<Content> : View where Content : View {

    /// Creates a lazy horizontal stack view with the given spacing,
    /// vertical alignment, pinning behavior, and content.
    public init(alignment: VerticalAlignment = .center,
                spacing: CGFloat? = nil,
                pinnedViews: PinnedScrollableViews = .init(),
                @ViewBuilder content: () -> Content)

    /// The type of view representing the body of this view.
    public typealias Body = Never
}
```

æ¯”å¦‚ï¼Œå°†ä¸Šé¢ç¤ºä¾‹ä¸­çš„ `HStack` ç›´æ¥æ›¿æ¢æˆ `LazyHStack`ï¼š

<ScreenshotBlock src={LazyHStack1Image} srcRight={LazyHStack2Image}>

```swift
ScrollView(.horizontal) {
    // highlight-next-line
    LazyHStack {
        ForEach(1...100, id: \.self) { num in
            Text("Item \(num)")
                .padding()
                .background(.orange)
                .onAppear(perform: {
                    print("onAppear \(num)")
                })
        }
    }
}

// è¿è¡Œåå¦‚å³ä¸Šå›¾ï¼Œåªä¼šæ‰“å° 5 æ¡æ—¥å¿—ï¼š
//ï¼ˆé¡ºåºä¸ä¸€å®šä¸€æ ·ï¼‰
// onAppear 2
// onAppear 5
// onAppear 4
// onAppear 3
// onAppear 1
```

</ScreenshotBlock>

ç„¶åæ»‘åŠ¨è‡³ä¸Šå³å›¾çŠ¶æ€æ—¶ï¼Œæ‰“å°æ—¥å¿—ï¼š

```swift
// onAppear 6
// onAppear 7
// onAppear 8
```

ç‰¹åˆ«åœ°ï¼Œæ»‘å›æœ€å·¦è¾¹çš„ item æ—¶ï¼Œæ‰“å°æ—¥å¿—ï¼š

```swift
// onAppear 2
// onAppear 1
```

### pinnedViews

ç›¸æ¯” `HStack` çš„åˆå§‹åŒ–å™¨ï¼Œ`LazyHStack` å¤šäº†ä¸ª `pinnedViews` å‚æ•°ï¼Œç”¨äºåœ¨åˆ—è¡¨ä¸­é’‰ä½ `Section` è§†å›¾çš„ `header` æˆ– `footer`ï¼Œæˆ–ä¸¤è€…åŒæ—¶é’‰ä½ï¼š

```swift
public struct PinnedScrollableViews : OptionSet, Sendable {
    // ...

    /// The header view of each `Section` will be pinned.
    public static let sectionHeaders: PinnedScrollableViews

    /// The footer view of each `Section` will be pinned.
    public static let sectionFooters: PinnedScrollableViews
}
```

ä¸‹é¢çš„ç¤ºä¾‹å†™äº†ä¸¤ä¸ª `Section` å¹¶é’‰ä½äº†å…¶ `header`ï¼š

<ScreenshotBlockVertical src={LazyHStack3Image} srcRight={LazyHStack4Image} srcRightmost={LazyHStack5Image}>

```swift
let header1: some View = Text("Header 1")
    .padding()
    .background(.green)
let header2: some View = Text("Header 2")
    .padding()
    .background(.blue)

var body: some View {
    ScrollView(.horizontal) {
        // highlight-next-line
        LazyHStack(pinnedViews: [.sectionHeaders]) {
            // highlight-next-line
            Section(header: header1) {
                ForEach(1...10, id: \.self) { num in
                    Text("Item \(num)")
                        .padding()
                        .background(.orange)
                }
            }

            // highlight-next-line
            Section(header: header2) {
                ForEach(11...20, id: \.self) { num in
                    Text("Item \(num)")
                        .padding()
                        .background(.orange)
                }
            }
        }
    }
}
```

</ScreenshotBlockVertical>
