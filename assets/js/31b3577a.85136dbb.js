"use strict";(self.webpackChunkswift_tutorials_cn=self.webpackChunkswift_tutorials_cn||[]).push([[6680],{53067:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var n=t(85893),r=t(11151);const i={},l="\u5b8f",o={id:"swift-data/macros/macros/index",title:"\u5b8f",description:"Query",source:"@site/docs/swift-data/macros/macros/index.mdx",sourceDirName:"swift-data/macros/macros",slug:"/swift-data/macros/macros/",permalink:"/swift-tutorials-cn/docs/swift-data/macros/macros/",draft:!1,unlisted:!1,editUrl:"https://github.com/zhuanghongji/swift-tutorials-cn/docs/swift-data/macros/macros/index.mdx",tags:[],version:"current",lastUpdatedAt:1698830538,formattedLastUpdatedAt:"2023\u5e7411\u67081\u65e5",frontMatter:{},sidebar:"swiftdataSidebar",previous:{title:"SerialModelExecutor",permalink:"/swift-tutorials-cn/docs/swift-data/protocols/serial-model-executor/"}},c={},s=[{value:"Query",id:"query",level:2},{value:"Else",id:"else",level:2},{value:"ModelActor()",id:"modelactor",level:3},{value:"Query(filter:sort:order:animation:)",id:"queryfiltersortorderanimation",level:3},{value:"Query(filter:sort:order:animation:)",id:"queryfiltersortorderanimation-1",level:3},{value:"Relationship(_:deleteRule:minimumModelCount:maximumModelCount:originalName:inverse:hashModifier:)",id:"relationship_deleteruleminimummodelcountmaximummodelcountoriginalnameinversehashmodifier",level:3}];function d(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",pre:"pre",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h1,{id:"\u5b8f",children:"\u5b8f"}),"\n",(0,n.jsx)(a.h2,{id:"query",children:"Query"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query() = #externalMacro(module: "SwiftDataMacros",\n                                      type: "QueryMacro")\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query<Value, Element>(filter: Predicate<Element>? = nil,\n                                   sort keyPath: KeyPath<Element, Value>,\n                                   order: SortOrder = .forward,\n                                   transaction: Transaction? = nil\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro"\n) where Value : Comparable, Element : PersistentModel\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query<Value, Element>(filter: Predicate<Element>? = nil,\n                                   sort keyPath: KeyPath<Element, Value?>,\n                                   order: SortOrder = .forward,\n                                   transaction: Transaction? = nil\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro"\n) where Value : Comparable, Element : PersistentModel\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query<Element>(filter: Predicate<Element>? = nil,\n                            sort descriptors: [SortDescriptor<Element>] = [],\n                            animation: Animation\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro"\n) where Element : PersistentModel\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query<Value, Element>(filter: Predicate<Element>? = nil,\n                                   sort keyPath: KeyPath<Element, Value>,\n                                   order: SortOrder = .forward,\n                                   animation: Animation\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro"\n) where Value : Comparable, Element : PersistentModel\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query<Value, Element>(filter: Predicate<Element>? = nil,\n                                   sort keyPath: KeyPath<Element, Value?>,\n                                   order: SortOrder = .forward,\n                                   animation: Animation\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro"\n) where Value : Comparable, Element : PersistentModel\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query<Element>(filter: Predicate<Element>? = nil,\n                            sort descriptors: [SortDescriptor<Element>] = [],\n                            transaction: Transaction? = nil\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro"\n) where Element : PersistentModel\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query<Element>(_ descriptor: FetchDescriptor<Element>,\n                            transaction: Transaction? = nil\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro"\n) where Element : PersistentModel\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query<Element>(_ descriptor: FetchDescriptor<Element>,\n                            animation: Animation\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro"\n) where Element : PersistentModel\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query(\n    animation: Animation\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro")\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query(\n    transaction: Transaction\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro")\n'})}),"\n",(0,n.jsx)(a.h2,{id:"else",children:"Else"}),"\n",(0,n.jsx)(a.h3,{id:"modelactor",children:"ModelActor()"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// \u5c06 Swift \u7c7b\u8f6c\u6362\u4e3a\u7531 SwiftData \u7ba1\u7406\u7684\u5b58\u50a8\u6a21\u578b\n@available(swift 5.9)\n@available(macOS 14, iOS 17, tvOS 17, watchOS 10, *)\n@attached(member,\n          names: named(modelExecutor),\n                 named(modelContainer),\n                 named(init)\n         )\n@attached(extension, conformances: ModelActor)\npublic macro ModelActor() = #externalMacro(module: "SwiftDataMacros",\n                                           type: "PersistentModelActorMacro")\n'})}),"\n",(0,n.jsx)(a.h3,{id:"queryfiltersortorderanimation",children:"Query(filter:sort:order:animation:)"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query<Value, Element>(filter: Predicate<Element>? = nil,\n                                   sort keyPath: KeyPath<Element, Value>,\n                                   order: SortOrder = .forward,\n                                   animation: Animation\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro"\n) where Value : Comparable, Element : PersistentModel\n'})}),"\n",(0,n.jsx)(a.h3,{id:"queryfiltersortorderanimation-1",children:"Query(filter:sort:order:animation:)"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// Available when SwiftUI is imported with SwiftData\n@available(iOS 17.0, macOS 14.0, tvOS 17.0, watchOS 10.0, *)\n@attached(accessor)\n@attached(peer, names: prefixed(`_`))\npublic macro Query<Value, Element>(filter: Predicate<Element>? = nil,\n                                   sort keyPath: KeyPath<Element, Value?>,\n                                   order: SortOrder = .forward,\n                                   animation: Animation\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "QueryMacro"\n) where Value : Comparable, Element : PersistentModel\n'})}),"\n",(0,n.jsx)(a.h3,{id:"relationship_deleteruleminimummodelcountmaximummodelcountoriginalnameinversehashmodifier",children:"Relationship(_:deleteRule:minimumModelCount:maximumModelCount:originalName:inverse:hashModifier:)"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-swift",children:'// \u6307\u5b9a SwiftData \u5c06\u5e26\u6ce8\u89e3\u7684\u5c5e\u6027\u7ba1\u7406\u4e3a\u4e24\u4e2a\u6a21\u578b\u4e4b\u95f4\u7684\u5173\u7cfb\u6240\u9700\u7684\u9009\u9879\n@available(swift 5.9)\n@available(macOS 14, iOS 17, tvOS 17, watchOS 10, *)\n@attached(peer)\npublic macro Relationship(_ options: Schema.Relationship.Option...,\n                          deleteRule: Schema.Relationship.DeleteRule = .nullify,\n                          minimumModelCount: Int? = 0,\n                          maximumModelCount: Int? = 0,\n                          originalName: String? = nil,\n                          inverse: AnyKeyPath? = nil,\n                          hashModifier: String? = nil\n) = #externalMacro(module: "SwiftDataMacros",\n                   type: "RelationshipPropertyMacro")\n'})})]})}function m(e={}){const{wrapper:a}={...(0,r.a)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},11151:(e,a,t)=>{t.d(a,{Z:()=>o,a:()=>l});var n=t(67294);const r={},i=n.createContext(r);function l(e){const a=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(i.Provider,{value:a},e.children)}}}]);