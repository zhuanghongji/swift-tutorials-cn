(self.webpackChunkswift_tutorials_cn=self.webpackChunkswift_tutorials_cn||[]).push([[9375],{72423:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/gz_tower_with_moon_1.749b738.1179.png 1179w",images:[{path:n.p+"assets/ideal-img/gz_tower_with_moon_1.749b738.1179.png",width:1179,height:2556}],src:n.p+"assets/ideal-img/gz_tower_with_moon_1.749b738.1179.png",toString:function(){return n.p+"assets/ideal-img/gz_tower_with_moon_1.749b738.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGUlEQVQokdVSTU6GQAyde3oLt244gCdw8e28A7rzACYwDP8hMIQNBEIyIcGo05qODD9iPtc2edB2Hi2dPgYAtwDwgYiolHqRUt44jnMpiuKJcgBAeGAA8EYB2TzPYpqme9d1n7uue12IZMhsgIjaVrAGW6CZjRdo+g2t9Sf5u4qwJ+4/OIHtW10zRo+2bbEsS5RSYlVVBtZvmua7IhEpwTlHIcQBnHNM03Qj1nVtDqIoOiAMQ8zzfCNSm9+IQoj/R6yXqeM4Xknkn6amy/Y8D4MgMHdHIN/3fUySZCMqpbDvexyG4YRxHNdd22VfXfpf6lnPjHpsVXprrZFgdbjkjXDff6j5YDZPFe8WX0spgaanabMsMw0W8uMXBvA7ooTFfPgAAAAASUVORK5CYII="}},27836:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/gz_tower_with_moon_2.1513db7.1179.png 1179w",images:[{path:n.p+"assets/ideal-img/gz_tower_with_moon_2.1513db7.1179.png",width:1179,height:2556}],src:n.p+"assets/ideal-img/gz_tower_with_moon_2.1513db7.1179.png",toString:function(){return n.p+"assets/ideal-img/gz_tower_with_moon_2.1513db7.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWklEQVQokVWSy04UQRSGq7vuVT09PT0XwAGaASbEQeXicEnkIkGIGYiXjSbghpV7F8TEJzDRnQujROPCB3ApO+PGxLgzceV7GHH6N1UzE2VR6XP+89X5T1UXoZQ+opSeMcYQhuGnapoezk1nb8Ig/Og0Sqlbrwil9JdL+uD3SqX6bGtr+5RR9s1pjLHc1Ul/R84Y6wZhiCSOsb++DKP1QHdwl/yXuELXaHM2OZ79cTHn3Hd0i/QDcM7zIAhQK5dxsL8L2YOc7r8OPCcUjMHq5DASq0EZPw+6xC0pBaSUKMYJrNbQUvlccA7CGfOBkhJGKUTGYqySolaMERsLq7SvkUEnJyTWYiQtYenSLOazEUxUU5SiAozSIEIIaKX87nqaoN2o43BrBU8fPsBmaxoXSgkKxoJIIbxlqVBAs5biqLONH1+/4PTlc3TmZ3zX2DrQz6a9xWy9hs5qG4uLKzja3cD6TNbvaEDcoAPr0XIJU8NVJEkZl7M6GrWyd/IzOuveibWHhypVLK9cw+jQMIrWwmrTO7Xg0t+V6+quqjGe4fj4MRoTDQjGvN6/Hg0hFLTyjwBLC/M4eX2CjY3rIIT4xyHFAOQGUhgIrjDZmMbNW/fRXl5DQEIo6fQemHtQRnlABOr1DDuduxjLmqCB+xkWnKt/IGc6T4oVLC22cbCzidZUEyFVuXNyzMA6l8JCqEK+tjCHnx/e4d5eJyeE5FpFDuwSwc1v11HLKCdE4Eqzic9vX+DOjW0QEkKryDsSKewTJSMndOM4zecutnB0ew9XW7N5SFVXSesc3/8FoBUMow7cmCwAAAAASUVORK5CYII="}},9632:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/gz_tower_with_moon_3.cd228d3.1179.png 1179w",images:[{path:n.p+"assets/ideal-img/gz_tower_with_moon_3.cd228d3.1179.png",width:1179,height:2556}],src:n.p+"assets/ideal-img/gz_tower_with_moon_3.cd228d3.1179.png",toString:function(){return n.p+"assets/ideal-img/gz_tower_with_moon_3.cd228d3.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1UlEQVQokb2SMQ7CMAxFc09uwcrSA3ACBjbuUNg4AFIrMVXKkLVjVakI4m9kVDdNlRYYwFIl2/19rn9iAKwBPJiZm6Y5O+dWWZbtrbVH6QGQZ2cA3KSQ6Lru2rbtNs/zU13Xl14owUYLZiYlaCAUJMShBkDyG0TkJR8RIUT9KqASYZZe/kmIsNCwHUYORMSRHVE+JSJBxKyQiOC9nxd+M5o/WgZBGOU/NByB//ZSLAkHm4QYmU1E4uV0exLiXUWpkdoX4kYPxTmHoii4LEuuquo1oBcfnuu6YbHUoFMzAAAAAElFTkSuQmCC"}},81327:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/gz_tower_with_moon_4.8e0279d.1179.png 1179w",images:[{path:n.p+"assets/ideal-img/gz_tower_with_moon_4.8e0279d.1179.png",width:1179,height:2556}],src:n.p+"assets/ideal-img/gz_tower_with_moon_4.8e0279d.1179.png",toString:function(){return n.p+"assets/ideal-img/gz_tower_with_moon_4.8e0279d.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6ElEQVQokX1SQUsbQRgd3exkE41FS1MboVLMLjYglVpbS0sgBkLS7CKCt4KCP6HXnPTcQ5Hag7aetJdehBJKiiD23kNCbyGH5JpjAinZnXllZndM1OIHb5nv8fZ9HzOPcM7fcc5dAOh0OhfNZvPtzs7uUaPRqAiOcy5wQDjnf0Ujqtfr/el2u+8rlcrPdrv9OxCKAlENAKYcVPFBw4jqAzCxBmPMC87KkQ8Lh3+4ATI86rYi4lMqlZBOp1EoFJDL5STy+TwymVVsbm7B8zxfmM1mQQj5LxKJBFzX9YWO40jSMAzExsYwE78HXaeSsywLnhs4FotFSVJKEaZh3BmPQdNCkksmkwNH27Ylqeth3J+cxMuUhfFI9FJ46Wjb/mg9RDE3k0Dh1QvEIpFAaN4UUmpg6m4cc+ZjaKO65Mzk0I6OsyZJbZTi4fQDvF5aAiE6RogGy5yHq4Tr6xsgZART07Mwn6zg2dNlRKMT0EMGUqmFwT1mVnP+6NlFTGS3QRffgDx6Lrl4XNxjICyXf2Dvwx4+n3zD0fdzfCn/wuHpGfY/fsLx8VcwxuRbq8e+9dFlesQO/X6fi4t1Pc+HO+BkzFTEVFDFGAGVQ5VT4di/luYrpXjhWArOrNVq8Wq1ilqthnq9LgcE4pN/tF2FMQZSDwUAAAAASUVORK5CYII="}},95400:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/gz_tower_with_moon_5.c78ff28.1179.png 1179w",images:[{path:n.p+"assets/ideal-img/gz_tower_with_moon_5.c78ff28.1179.png",width:1179,height:2556}],src:n.p+"assets/ideal-img/gz_tower_with_moon_5.c78ff28.1179.png",toString:function(){return n.p+"assets/ideal-img/gz_tower_with_moon_5.c78ff28.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABB0lEQVQoke2SuUpDURRFz/P9hPPv+BEW/oIJGMx9BizEGSsrBTstJJhKcGoEY6WoZCgCCimTYGMiDvHuJXmRkELEWjyw2LD2qQ7HQElQm87o6Zy36uT2xvxOq3Z/HDvUYcv2C3rNFkWuBJsXL8Wpvdb6ROboZOGwfp0rQ7YgHZSEWRIsIVkCbykYiESQAZvteWwab2EkhZEI5+Ilb05tS/uPwMmHEXz1MnPIHPTl99hPpftfdH/pPGn97ikChwIHfdlPrzNLCUtJnaeNc8YTE7ue9za8zPvQEgwuSiMrMLbWZXS147p+fAWs0lBUa4rGM/6qXNVp/pazyzvyNxXVmvL1Fjw8avcTwtU9OGkXCKUAAAAASUVORK5CYII="}},7248:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/gz_tower_with_moon_6.020c03e.1179.png 1179w",images:[{path:n.p+"assets/ideal-img/gz_tower_with_moon_6.020c03e.1179.png",width:1179,height:2556}],src:n.p+"assets/ideal-img/gz_tower_with_moon_6.020c03e.1179.png",toString:function(){return n.p+"assets/ideal-img/gz_tower_with_moon_6.020c03e.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWElEQVQokXWSS0hUURzGz9x7nnecMR110qwZ5+ETHyX2MmrVg4loIYg4SKMEtiuKAmkVhqtWLVyEtGunosvaiS6LKCJaGLZNXRRJRDXfP865+UDqwHfOud//d//3u4fDiOg2Ef2icCwRUXFmZubp1tbWc9odT9js7OyP+fl5WlhYoOnp6Xejo6OPCoXCi6mpqVeLi4s0NzcHW2OMMTuBMVa2eyml0x7frmWmlIbWhpRSFij7Pv/l+f5vIUTZekopWDHOBTgXxDmH73NIISiqFfm+D845bYvteUDE86iyogKtqUNgLEKCc/wbjHgUj8WRS6cdyP8L2o6xGNqa0mARbz/o8oUZuaRAB0hWHQDnioSQ+0EreywaldEoHU5UUW08Bq0McSF3QSFCKNCaevNNeDxxC+d7WskoDetbZgcU0iAWBNTXksPwlQJONqco0MaBgktiDhI2jyYlNZI1NZTP5ChuDJQyzrcM24GUQYT5lGnKoVQag5QOCjsKZUFt85FSgfvT+oYjOHq8H1pHEdaMW5l908oWIp6kjuYW3CwOQusKB/1VCCoVkBKKONfIp9K4VxqG9Sxkv+TA7c3BbBcSmW7U57vR3nkM1bWNMDpKKmwEZkwMWhrKXrqGtrEHyFwYQU+hiIbTV5HoOIN4ddLFYh7X7oLWnRukuoG7SPQPoPrsEKL9Q4hfHIdKZsOLm823/Uw1pqjr8ghO3ZikvtIEeot30Dc+Se3XH1K28wSa863EVlc/3l//vE6bX76W377/gOWVFSwtr+Dl6zfY/Pa9vLGxSWtrn579AbqmRxhp/8trAAAAAElFTkSuQmCC"}},3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>g,kt:()=>d});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),c=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},g=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},p="mdxType",A={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,g=s(e,["components","mdxType","originalType","parentName"]),p=c(n),m=a,d=p["".concat(l,".").concat(m)]||p[m]||A[m]||r;return n?i.createElement(d,o(o({ref:t},g),{},{components:n})):i.createElement(d,o({ref:t},g))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,o[1]=s;for(var c=2;c<r;c++)o[c]=n[c];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},38301:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>b,contentTitle:()=>f,default:()=>_,frontMatter:()=>w,metadata:()=>k,toc:()=>y});var i=n(87462),a=(n(67294),n(3905)),r=n(72423),o=n.n(r),s=n(27836),l=n.n(s),c=n(9632),g=n.n(c),p=n(81327),A=n.n(p),m=n(95400),d=n.n(m),u=n(7248),h=n.n(u);const w={},f="AsyncImage",k={unversionedId:"swiftui/views/asyncimage/index",id:"swiftui/views/asyncimage/index",title:"AsyncImage",description:"<OriginalLink",source:"@site/docs/swiftui/views/asyncimage/index.mdx",sourceDirName:"swiftui/views/asyncimage",slug:"/swiftui/views/asyncimage/",permalink:"/swift-tutorials-cn/docs/swiftui/views/asyncimage/",draft:!1,editUrl:"https://github.com/zhuanghongji/swift-tutorials-cn/docs/swiftui/views/asyncimage/index.mdx",tags:[],version:"current",lastUpdatedAt:1694410412,formattedLastUpdatedAt:"2023\u5e749\u670811\u65e5",frontMatter:{},sidebar:"swiftuiSidebar",previous:{title:"Image",permalink:"/swift-tutorials-cn/docs/swiftui/views/image/"},next:{title:"Button",permalink:"/swift-tutorials-cn/docs/swiftui/views/button/"}},b={},y=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u4e3b\u9898",id:"\u4e3b\u9898",level:2},{value:"\u52a0\u8f7d\u56fe\u50cf",id:"\u52a0\u8f7d\u56fe\u50cf",level:3},{value:"\u5206\u9636\u6bb5\u52a0\u8f7d\u56fe\u50cf",id:"\u5206\u9636\u6bb5\u52a0\u8f7d\u56fe\u50cf",level:3}],I=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},S=I("OriginalLink"),C=I("ScreenshotBlock"),E={toc:y},U="wrapper";function _(e){let{components:t,...n}=e;return(0,a.kt)(U,(0,i.Z)({},E,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"asyncimage"},"AsyncImage"),(0,a.kt)(S,{title:"\u5f02\u6b65\u52a0\u8f7d\u548c\u663e\u793a\u56fe\u50cf\u7684\u89c6\u56fe",value:"https://developer.apple.com/documentation/swiftui/asyncimage",mdxType:"OriginalLink"}),(0,a.kt)("h2",{id:"\u6982\u8ff0"},"\u6982\u8ff0"),(0,a.kt)("p",null,"\u8be5\u89c6\u56fe\u4f7f\u7528\u5171\u4eab\u7684 ",(0,a.kt)("inlineCode",{parentName:"p"},"URLSession")," \u5b9e\u4f8b\u4ece\u6307\u5b9a ",(0,a.kt)("inlineCode",{parentName:"p"},"URL")," \u52a0\u8f7d\u56fe\u50cf\uff0c\u7136\u540e\u663e\u793a\u5b83\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u663e\u793a\u5b58\u50a8\u5728\u670d\u52a1\u5668\u4e0a\u7684 ",(0,a.kt)("a",{parentName:"p",href:"https://unsplash.com/"},"unsplash")," \u56fe\u7247\uff1a"),(0,a.kt)(C,{src:o(),srcRight:l(),size:140,mdxType:"ScreenshotBlock"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},'let imageUrl = "https://images.unsplash.com/photo-1622369500892-4a882a97e04d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1027&q=80"\n\nvar body: some View {\n    VStack {\n        // highlight-start\n        AsyncImage(url: URL(string: imageUrl))\n            .frame(width: 300, height: 400)\n        // highlight-end\n    }\n}\n'))),(0,a.kt)("p",null,"\u5728\u56fe\u50cf\u52a0\u8f7d\u4e4b\u524d\uff0c\u89c6\u56fe\u5c06\u663e\u793a\u4e00\u4e2a\u586b\u5145\u53ef\u7528\u7a7a\u95f4\u7684\u6807\u51c6\u5360\u4f4d\u7b26\uff08standard placeholder\uff09\uff0c\u5982\u4e0a\u5de6\u56fe\u3002\u6210\u529f\u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u89c6\u56fe\u5c06\u66f4\u65b0\u4ee5\u663e\u793a\u56fe\u50cf\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u56fe\u7247\u5927\u4e8e\u8bbe\u5b9a\u7684\u6846 ",(0,a.kt)("inlineCode",{parentName:"p"},".frame(width: 200, height: 280)")," \uff0c\u56e0\u6b64\u770b\u8d77\u6765\u5927\u4e8e\u5360\u4f4d\u7b26\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u4f60\u5c1d\u8bd5\u901a\u8fc7 ",(0,a.kt)("inlineCode",{parentName:"p"},"resizable(capInsets:resizingMode:)")," \u4fee\u9970\u5668\u5728 ",(0,a.kt)("inlineCode",{parentName:"p"},"AsyncImage")," \u8c03\u6574\u56fe\u7247\u5927\u5c0f\uff0c\u62b1\u6b49\uff0c\u4f60\u4f1a\u770b\u5230\u4e0b\u9762\u7684\u62a5\u9519\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"AsyncImage(url: URL(string: imageUrl))\n    // highlight-next-line\n    .resizable()\n    .frame(width: 300, height: 400)\n\n// error-next-line\n// Value of type 'AsyncImage<Image>' has no member 'resizable'\n")),(0,a.kt)("p",null,"\u56e0\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"resizable(capInsets:resizingMode:)")," \u662f ",(0,a.kt)("inlineCode",{parentName:"p"},"Image")," \u5b9e\u4f8b\u72ec\u6709\u7684\u65b9\u6cd5\uff08",(0,a.kt)("inlineCode",{parentName:"p"},"AsyncImage")," \u548c ",(0,a.kt)("inlineCode",{parentName:"p"},"View")," \u90fd\u662f\u6ca1\u6709\u7684\uff09\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"extension Image {\n\n    /// The modes that SwiftUI uses to resize an image to fit within\n    /// its containing view.\n    public enum ResizingMode : Sendable {\n\n        case tile\n        case stretch\n        public static func == (a: Image.ResizingMode, b: Image.ResizingMode) -> Bool\n        public func hash(into hasher: inout Hasher)\n        public var hashValue: Int { get }\n    }\n\n    /// Sets the mode by which SwiftUI resizes an image to fit its space.\n    public func resizable(\n        capInsets: EdgeInsets = EdgeInsets(),\n        resizingMode: Image.ResizingMode = .stretch\n    ) -> Image\n}\n")),(0,a.kt)("p",null,"\u5982\u679c\u4f60\u60f3\u8c03\u6574\u56fe\u7247\u5927\u5c0f\uff0c\u53ef\u4ee5\u4f7f\u7528\u53e6\u5916\u4e00\u4e2a\u521d\u59cb\u5316\u5668\uff0c\u901a\u8fc7\u5176 ",(0,a.kt)("inlineCode",{parentName:"p"},"content")," \u53c2\u6570\u6765\u8c03\u6574\u52a0\u8f7d\u597d\u7684\u56fe\u50cf\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"public struct AsyncImage<Content> : View where Content : View {\n    // ...\n\n    public init<I, P>(\n        url: URL?,\n        scale: CGFloat = 1,\n        @ViewBuilder content: @escaping (Image) -> I,\n        @ViewBuilder placeholder: @escaping () -> P\n    ) where Content == _ConditionalContent<I, P>, I : View, P : View\n}\n")),(0,a.kt)("p",null,"\u5728\u4f7f\u7528\u8be5\u521d\u59cb\u5316\u5668\u65f6\uff0c\u4f60\u8fd8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5360\u4f4d\u7b26\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u628a\u5360\u4f4d\u7b26\u6539\u6210\u4e86 ",(0,a.kt)("inlineCode",{parentName:"p"},"ProgressView"),"\uff1a"),(0,a.kt)(C,{src:g(),srcRight:A(),size:140,mdxType:"ScreenshotBlock"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"AsyncImage(url: URL(string: imageUrl)) { image in\n    // highlight-start\n    image\n        .resizable()\n        .aspectRatio(contentMode: .fill)\n    // highlight-end\n} placeholder: {\n    // highlight-next-line\n    ProgressView()\n}\n.frame(width: 300, height: 400)\n.clipped()\n"))),(0,a.kt)("p",null,"\u82e5\u8981\u66f4\u597d\u5730\u63a7\u5236\u52a0\u8f7d\u8fc7\u7a0b\uff0c\u53ef\u4f7f\u7528\u4e0b\u9762\u8fd9\u4e2a\u521d\u59cb\u5316\u5668\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"public struct AsyncImage<Content> : View where Content : View {\n    // ...\n\n    public init(\n        url: URL?,\n        scale: CGFloat = 1,\n        transaction: Transaction = Transaction(),\n        @ViewBuilder content: @escaping (AsyncImagePhase) -> Content\n    )\n}\n")),(0,a.kt)("p",null,"\u8be5\u521d\u59cb\u5316\u5668\u7684 ",(0,a.kt)("inlineCode",{parentName:"p"},"content")," \u95ed\u5305\u5f97\u5230\u4e00\u4e2a ",(0,a.kt)("inlineCode",{parentName:"p"},"AsyncImagePhase")," \u53c2\u6570\u4ee5\u6307\u793a\u52a0\u8f7d\u64cd\u4f5c\u7684\u72b6\u6001:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"public enum AsyncImagePhase : Sendable {\n\n    /// No image is loaded.\n    case empty\n\n    /// An image succesfully loaded.\n    case success(Image)\n\n    /// An image failed to load with an error.\n    case failure(Error)\n\n    /// The loaded image, if any.\n    ///\n    /// If this value isn't `nil`, the image load operation has finished,\n    /// and you can use the image to update the view. You can use the image\n    /// directly, or you can modify it in some way. For example, you can add\n    /// a ``Image/resizable(capInsets:resizingMode:)`` modifier to make the\n    /// image resizable.\n    public var image: Image? { get }\n\n    /// The error that occurred when attempting to load an image, if any.\n    public var error: (Error)? { get }\n}\n")),(0,a.kt)("p",null,"\u901a\u8fc7\u8be5\u53c2\u6570\u6211\u4eec\u8fd4\u56de\u9002\u5408\u5f53\u524d\u9636\u6bb5\u7684\u89c6\u56fe\uff1a"),(0,a.kt)(C,{src:d(),srcRight:h(),size:120,mdxType:"ScreenshotBlock"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"AsyncImage(url: URL(string: imageUrl)) { phase in\n    if let image = phase.image {\n        // Displays the loaded image. \u5982\u53f3\u56fe\n        image\n            .resizable()\n            .aspectRatio(contentMode: .fill)\n            .frame(width: .infinity)\n    } else if phase.error != nil {\n        // Indicates an error. \u56fe\u7565\uff08\u7c7b\u4f3c\u5de6\u56fe\uff0c\u4f46\u989c\u8272\u662f\u7ea2\u8272\uff09\n        Color.red\n    } else {\n        // Acts as a placeholder. \u5982\u5de6\u56fe\n        Color.blue\n    }\n}\n"))),(0,a.kt)("h2",{id:"\u4e3b\u9898"},"\u4e3b\u9898"),(0,a.kt)("h3",{id:"\u52a0\u8f7d\u56fe\u50cf"},"\u52a0\u8f7d\u56fe\u50cf"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"// \u52a0\u8f7d\u5e76\u663e\u793a\u6765\u81ea\u6307\u5b9a URL \u7684\u56fe\u50cf\ninit(url: URL?, scale: CGFloat)\n\n// \u4f7f\u7528\u81ea\u5b9a\u4e49\u5360\u4f4d\u7b26\u4ece\u6307\u5b9a URL \u52a0\u8f7d\u5e76\u663e\u793a\u53ef\u4fee\u6539\u7684\u56fe\u50cf\uff0c\u76f4\u5230\u56fe\u50cf\u52a0\u8f7d\u4e3a\u6b62\ninit<I, P>(url: URL?, scale: CGFloat, content: (Image) -> I, placeholder: () -> P)\n")),(0,a.kt)("h3",{id:"\u5206\u9636\u6bb5\u52a0\u8f7d\u56fe\u50cf"},"\u5206\u9636\u6bb5\u52a0\u8f7d\u56fe\u50cf"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"// \u5206\u9636\u6bb5\u52a0\u8f7d\u5e76\u663e\u793a\u6765\u81ea\u6307\u5b9a URL \u7684\u53ef\u4fee\u6539\u56fe\u50cf\ninit(\n    url: URL?,\n    scale: CGFloat,\n    transaction: Transaction,\n    content: (AsyncImagePhase) -> Content\n)\n")))}_.isMDXComponent=!0}}]);