(self.webpackChunkswift_tutorials_cn=self.webpackChunkswift_tutorials_cn||[]).push([[7993],{58065:(e,n,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/heart_1.b75591d.1179.png 1179w",images:[{path:t.p+"assets/ideal-img/heart_1.b75591d.1179.png",width:1179,height:2556}],src:t.p+"assets/ideal-img/heart_1.b75591d.1179.png",toString:function(){return t.p+"assets/ideal-img/heart_1.b75591d.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKElEQVR4nJ1TwUrDQBDdz/QjxHtOgrS0lMRS9ZqD/oKnBg0NASmCN8mpCdaalcZL2FSCmMyTXdw2qWmqPpiFnXnzZnd2lgE4AUAAIIS4DoLgwDAMm3N+iw2OGYB3vcvz/EEIMXIcx03T9FH7iShmRFRgD4ioYLqsdgD4KIrisyzLssqVxF+B/YtIRDVrJG4HtlFTXC4TZNkKQmRIkrc6UStF0RNMcwTbvoJtX8KyzrBYvKyrMd0Fz/PR7Q5gWeeK1OkMMJ3eq5jkrBVnswi9nonh8EJZv3+K+fx5o1g9x3h8o5Sksut6tUv+aM9k4sP379pvTZUW7ezjrgS0EZvwJ2L7232fRg3unuEt9eCudFaTklrkVwBwBOBVOjjnFIYhpMVxrBNl7PALk4hIwmSxhE0AAAAASUVORK5CYII="}},5680:(e,n,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/heart_2.90cc241.1179.png 1179w",images:[{path:t.p+"assets/ideal-img/heart_2.90cc241.1179.png",width:1179,height:2556}],src:t.p+"assets/ideal-img/heart_2.90cc241.1179.png",toString:function(){return t.p+"assets/ideal-img/heart_2.90cc241.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVR4nM1TwUrEMBDtZ/oR4r0nwT/wA/wKbwWFsqbrCi4epKdtd+vaeGvTYOkWk3kygWiWrawXwQcvvEzeJEMyiQBcACAA0Fpf53l+EsfxlZTyBt84jwD0fjYMw6PW+jJJklul1LOPE1EdEZHBERCRifyxPgBgNMZ8WGtt6GXjrxD9E2Pf9xjHEbvd6HQIvh4n2raFEPdYLp8chVig6zq3xp4v43pdIU3vkGULR9bb7euhsWkazGYZ5vMHR9ZKBTuGdaxWJdJUOJblZr/GcMKZXEJVveyZJozT+sd79HUjwN+8zOE5E9W4xj3SvNY37rvPmtrJDfwVAJwBeOOAlJKKogCzrmufyGunn+ljVV481D3dAAAAAElFTkSuQmCC"}},98157:(e,n,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/heart_3.08adc02.1179.png 1179w",images:[{path:t.p+"assets/ideal-img/heart_3.08adc02.1179.png",width:1179,height:2556}],src:t.p+"assets/ideal-img/heart_3.08adc02.1179.png",toString:function(){return t.p+"assets/ideal-img/heart_3.08adc02.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNklEQVR4nJ2Tv0oDQRCH9z20EDtR0beIopUE9R0M9ilEsBDERhuxCWhhZ2cXUMHGImghemJxaHOrRITjUIJkdz7Zu1uMwVyiA3t/Zr793czsnAI2AAFIkuQkCILlarVa01qf8m3rCvjwb61W6ypJkt16vX4Wx/Gt94tIpETE0MdExCj/We8APo0xbWut7WQdOJCp/4HispDsbqUHmEKDKt4/QvMN9Cs8PHWBvriLaxhbgNkKzKzAeBkad1nMWhTtvI3bhzBUgokyTJaz5/3jLGYMCpMrnjdgZA6ml2BqEUbn4fImB51iZyFre5nScAk2az+KzME8Y5fv1gHsHBVULV0tkl599EG/KOpjgf0JLD67PKl0cPsMr/WD++53/aaUXtyvAKwCz86htZYwDHEriiK/8QWofAGIukVNbS8oGQAAAABJRU5ErkJggg=="}},57603:(e,n,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/tap_1.53736fc.1179.png 1179w",images:[{path:t.p+"assets/ideal-img/tap_1.53736fc.1179.png",width:1179,height:2556}],src:t.p+"assets/ideal-img/tap_1.53736fc.1179.png",toString:function(){return t.p+"assets/ideal-img/tap_1.53736fc.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABP0lEQVR4nNWTsUvDQBTGb3QVJ4cuLg5O/gkODhUHB0FxcXEsWZyKg1IVBx10EATp4Kwg4iBUdLaIm2SRbk2qrWASk6axl/eTRIMOQuum3/EO7uN7d+/uvqeAEiAAnuedm6Y5XywWy7ZtX/GFVQUE2SoMwzvP8/Yqlcq14zj3GS8ilhIRTQ+IiFbZsRkBRFrrbhzH8XdtIuwL6l8I2wEEAW9RG1+HBDrkNRK8DoTd9CXSUHo2D/lJTrYXmDANpqvLjO43GVyHwmmI/9LiqfmM6o7lIDfMgTHO0O0UI5czDKzUUUswd+jjtGzqVgMV72zAZombs13W6mW2Ho4wLlwWj6FcjegELq7r/eYyIknFH0V/jlhIQ+TP/Iz0oZPUuD3MG2fG9bOsn3ZKp6QVAANoJIRt21Kr1UjCsqws8REovAMJmEDM9di7nwAAAABJRU5ErkJggg=="}},65885:(e,n,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/tap_2.7323582.1179.png 1179w",images:[{path:t.p+"assets/ideal-img/tap_2.7323582.1179.png",width:1179,height:2556}],src:t.p+"assets/ideal-img/tap_2.7323582.1179.png",toString:function(){return t.p+"assets/ideal-img/tap_2.7323582.1179.png"},placeholder:void 0,width:1179,height:2556},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6klEQVR4nM2TwWrCQBCG9zV8gPpMnr1WvOck9A18AMGDfQJvAXsXDPRQcssxWy/asLQE6+58ZRMWYxtJwEt/mIX55/9nYHdWAU+AABhj1mmajqIoWmitN1wwU8BXyMqyTIwx8ziOX4qieAu8iORKRCwdEBGrwthAACdr7dk555paL+wF9R+FIh3C83cdv6Cu3MUHPI7rOB5o1mphuLLXBB4GMBzAbltzzraM9obnJayWFzPNjj2g/jC+k7gewhtQtwp3Ca+foB1SLW7H8rqwuJ/B1dapOvxXAKbAuye01pJlGT7yPA/GPTD5Ab+RWYKSZZcQAAAAAElFTkSuQmCC"}},38004:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>f,contentTitle:()=>m,default:()=>j,frontMatter:()=>A,metadata:()=>w,toc:()=>x});var a=t(85893),r=t(11151),i=t(58065),s=t.n(i),o=t(5680),c=t.n(o),l=t(98157),d=t.n(l),p=t(57603),u=t.n(p),h=t(65885),g=t.n(h);const A={},m="\u8bc6\u522b\u70b9\u51fb\u624b\u52bf",w={id:"swiftui/event-handling/recognizing-tap-gestures/index",title:"\u8bc6\u522b\u70b9\u51fb\u624b\u52bf",description:"onTapGesture(count)",source:"@site/docs/swiftui/event-handling/recognizing-tap-gestures/index.mdx",sourceDirName:"swiftui/event-handling/recognizing-tap-gestures",slug:"/swiftui/event-handling/recognizing-tap-gestures/",permalink:"/swift-tutorials-cn/docs/swiftui/event-handling/recognizing-tap-gestures/",draft:!1,unlisted:!1,editUrl:"https://github.com/zhuanghongji/swift-tutorials-cn/docs/swiftui/event-handling/recognizing-tap-gestures/index.mdx",tags:[],version:"current",lastUpdatedAt:1698830538,formattedLastUpdatedAt:"2023\u5e7411\u67081\u65e5",frontMatter:{},sidebar:"swiftuiSidebar",previous:{title:"Shaders",permalink:"/swift-tutorials-cn/docs/swiftui/view-modifiers/shaders/"},next:{title:"\u8bc6\u522b\u957f\u6309\u624b\u52bf",permalink:"/swift-tutorials-cn/docs/swiftui/event-handling/recognizing-long-press-gestures/"}},f={},x=[{value:"onTapGesture(count:perform:)",id:"ontapgesturecountperform",level:2},{value:"onTapGesture(count:coordinateSpace:perform:)",id:"ontapgesturecountcoordinatespaceperform",level:2},{value:"TapGesture",id:"tapgesture",level:2},{value:"SpatialTapGesture",id:"spatialtapgesture",level:2}];function b(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,r.a)(),...e.components},{ScreenshotBlock:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ScreenshotBlock",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"\u8bc6\u522b\u70b9\u51fb\u624b\u52bf",children:"\u8bc6\u522b\u70b9\u51fb\u624b\u52bf"}),"\n",(0,a.jsx)(n.h2,{id:"ontapgesturecountperform",children:"onTapGesture(count:perform:)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"extension View {\n\n    // \u7ed9\u89c6\u56fe\u6dfb\u52a0\u4e00\u4e2a action\uff0c\u5728\u5176\u8bc6\u522b\u51fa\u70b9\u51fb\u624b\u52bf\u65f6\u6267\u884c\n    // - count: \u89e6\u53d1\u6267\u884c action \u95ed\u5305\u6240\u9700\u7684\u70b9\u51fb\u6b21\u6570\n    // - perform: \u8981\u6267\u884c\u7684\u64cd\u4f5c\n    public func onTapGesture(count: Int = 1,\n                             perform action: @escaping () -> Void\n    ) -> some View\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u5f53\u7528\u6237\u70b9\u51fb\u89c6\u56fe\u6216\u5bb9\u5668 ",(0,a.jsx)(n.code,{children:"count"})," \u6b21\u65f6\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u6267\u884c\u6307\u5b9a\u64cd\u4f5c\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6bcf\u5f53\u7528\u6237\u5355\u51fb\u89c6\u56fe\u65f6\uff0c\u5fc3\u5f62\u56fe\u50cf\u7684\u900f\u660e\u5ea6\u4f1a\u53d1\u751f\u53d8\u5316\uff1a"}),"\n",(0,a.jsx)(t,{mini:!0,src:s(),srcRight:c(),children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:'@State private var translucent = false\n\nvar body: some View {\n    Image(systemName: "heart.fill")\n        .resizable()\n        .frame(width: 200, height: 200)\n        .foregroundColor(.gray)\n        .opacity(translucent ? 0.5 : 1)\n        // highlight-start\n        .onTapGesture {\n            translucent.toggle()\n        }\n        // highlight-end\n}\n'})})}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6bcf\u5f53\u7528\u6237\u53cc\u51fb\u89c6\u56fe\u65f6\uff0c\u5fc3\u5f62\u56fe\u50cf\u7684\u989c\u8272\u4f1a\u53d1\u751f\u53d8\u5316\uff1a"}),"\n",(0,a.jsx)(t,{mini:!0,src:s(),srcRight:d(),children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:'let colors: [Color] = [.gray, .red,\n                       .orange, .yellow,\n                       .green, .blue,\n                       .purple, .pink]\n@State private var fgColor: Color = .gray\n\nvar body: some View {\n    Image(systemName: "heart.fill")\n        .resizable()\n        .frame(width: 200, height: 200)\n        .foregroundColor(fgColor)\n        // highlight-start\n        .onTapGesture(count: 2) {\n            fgColor = colors.randomElement()!\n        }\n        // highlight-end\n}\n'})})}),"\n",(0,a.jsxs)(n.p,{children:['\u5728\u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u4f60 "\u5355\u51fb" \u89c6\u56fe\u65f6\u662f\u4e0d\u4f1a\u89e6\u53d1 ',(0,a.jsx)(n.code,{children:"fgColor = colors.randomElement()!"})," \u8fd9\u4e2a\u64cd\u4f5c\u7684\uff0c\u56e0\u4e3a\u4f60\u9650\u5b9a\u4e86 ",(0,a.jsx)(n.code,{children:"count: 2"}),'\u3002\u5982\u679c\u4f60\u60f3\u5728\u8be5\u793a\u4f8b\u4e0a\u8865\u5145\u4e0a\u4e0a\u793a\u4f8b\u4e2d\u7684 "\u900f\u660e\u5ea6\u5355\u51fb\u53d8\u5316" \u903b\u8f91\uff0c\u53ef\u4ee5\u8fd9\u6837\uff1a']}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:'let colors: [Color] = [.gray, .red,\n                       .orange, .yellow,\n                       .green, .blue,\n                       .purple, .pink]\n@State private var fgColor: Color = .gray\n// highlight-next-line\n@State private var translucent = false\n\nvar body: some View {\n    Image(systemName: "heart.fill")\n        .resizable()\n        .frame(width: 200, height: 200)\n        .foregroundColor(fgColor)\n        // highlight-next-line\n        .opacity(translucent ? 0.5 : 1)\n        .onTapGesture(count: 2) {\n            fgColor = colors.randomElement()!\n        }\n        // highlight-start\n        .onTapGesture {\n            translucent.toggle()\n        }\n        // highlight-end\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u6ce8\u610f\uff0c\u5355\u51fb\u65b9\u6cd5 ",(0,a.jsx)(n.code,{children:".onTapGesture"})," \u9700\u653e\u5728\u53cc\u51fb\u65b9\u6cd5 ",(0,a.jsx)(n.code,{children:".onTapGesture(count: 2)"}),' \u4e4b\u540e\u3002\u5426\u5219\uff0c\u524d\u8005\u4f1a\u63a5\u6536\u5e76\u6d88\u8017\u6389\u6240\u6709\u7684 "\u70b9\u51fb" \u4e8b\u4ef6\u800c\u65e0\u6cd5\u4f20\u9012\u7ed9\u540e\u8005\u3002\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5e94\u5c3d\u91cf\u907f\u514d\u8fd9\u79cd\u540c\u65f6\u54cd\u5e94\u5355\u51fb\u548c\u53cc\u51fb\u7684\u624b\u52bf\u573a\u666f\uff0c\u56e0\u4e3a\u5f53\u4f60\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\u8fdb\u884c "\u5355\u51fb" \u64cd\u4f5c\u65f6\uff0c',(0,a.jsx)(n.code,{children:".onTapGesture"}),' \u7684\u6267\u884c\u4f1a\u6709\u4e00\u70b9\u6ede\u540e\uff0c\u539f\u56e0\u662f SwiftUI \u9700\u786e\u4fdd "\u70b9\u51fb\u64cd\u4f5c" \u5e76\u975e\u662f ',(0,a.jsx)(n.code,{children:".onTapGesture(count: 2)"})," \u65f6\u624d\u4f1a\u5c06\u4e8b\u4ef6\u4f20\u9012\u7ed9 ",(0,a.jsx)(n.code,{children:".onTapGesture"}),"\u3002"]}),"\n",(0,a.jsx)(n.h2,{id:"ontapgesturecountcoordinatespaceperform",children:"onTapGesture(count:coordinateSpace:perform:)"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"onTapGesture(count:coordinateSpace:perform:)"})," \u662f ",(0,a.jsx)(n.code,{children:"onTapGesture(count:perform:)"})," \u7684\u4e00\u4e2a\u91cd\u8f7d\u65b9\u6cd5\uff0c\u5176 action \u95ed\u5305\u652f\u6301\u4e00\u4e2a ",(0,a.jsx)(n.code,{children:"GPoint"})," \u53c2\u6570\u4ee5\u544a\u77e5\u4f60\u7528\u6237\u70b9\u51fb\u7684\u4f4d\u7f6e\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"extension View {\n\n    /// Adds an action to perform when this view recognizes a tap gesture,\n    /// and provides the action with the location of the interaction.\n    public func onTapGesture(count: Int = 1,\n                             coordinateSpace: some CoordinateSpaceProtocol = .local,\n                             perform action: @escaping (CGPoint) -> Void\n    ) -> some View\n}\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"/// A frame of reference within the layout system.\npublic protocol CoordinateSpaceProtocol {\n\n    /// The resolved coordinate space.\n    var coordinateSpace: CoordinateSpace { get }\n}\n\n/// A resolved coordinate space created by `CoordinateSpaceProtocol`.\npublic enum CoordinateSpace {\n\n    /// The global coordinate space at the root of the view hierarchy.\n    case global\n\n    /// The local coordinate space of the current view.\n    case local\n\n    /// A named reference to a view's local coordinate space.\n    case named(AnyHashable)\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u793a\u4f8b\u5982\u4e0b\uff1a"}),"\n",(0,a.jsx)(t,{mini:!0,src:u(),children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:'HStack(spacing: 0) {\n    Color.red\n        .frame(width: 100, height: 100)\n    Color.green\n        .frame(width: 100, height: 100)\n    Color.blue\n        .frame(width: 100, height: 100)\n    Spacer()\n}\n.background(.gray.opacity(0.2))\n.onTapGesture { location in\n    print("location = \\(location)")\n    switch location.x {\n    case 0..<100:\n        print("tap red")\n    case 100..<200:\n        print("tap green")\n    case 200...300:\n        print("tap blue")\n    default:\n        print("tap background")\n    }\n}\n'})})}),"\n",(0,a.jsx)(n.p,{children:'\u5f53\u4f60\u4f9d\u6b21\u70b9\u51fb\u4e0a\u53f3\u56fe "\u7ea2\u8272"\u3001"\u7eff\u8272"\u3001"\u84dd\u8272"\u3001"\u7070\u8272" \u533a\u57df\u65f6\uff0c\u6253\u5370\u65e5\u5fd7\u5927\u81f4\u5982\u4e0b\uff1a'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"// location = (17.666656494140625, 55.666661580403684)\n// tap red\n// location = (109.66665649414062, 44.33333333333337)\n// tap green\n// location = (250.3333282470703, 47.666661580403684)\n// tap blue\n// location = (343.3333282470703, 59.999989827473996)\n// tap background\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u4e0a\u9762\u65e5\u5fd7\u4e2d\u7684 location \u7684 x\u3001y \u5750\u6807\u662f\u9ed8\u8ba4 ",(0,a.jsx)(n.code,{children:".local"})," \u7684\uff0c\u662f\u57fa\u4e8e\u793a\u4f8b\u4e2d\u7684 ",(0,a.jsx)(n.code,{children:"HStack"})," \u7684 Frame \u7684\u3002\u5982\u679c\u60f3 location \u5750\u6807\u57fa\u4e8e\u624b\u673a\u5c4f\u5e55 frame\uff0c\u53ef\u4ee5\u5728 ",(0,a.jsx)(n.code,{children:"onTapGesture"})," \u4e2d\u663e\u5f0f\u6307\u5b9a ",(0,a.jsx)(n.code,{children:"coordinateSpace"})," \u7684\u503c\u3002\u6bd4\u5982\uff0c\u57fa\u4e8e\u4e0a\u9762\u793a\u4f8b\u8c03\u6574\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"// ...\n\n.onTapGesture(coordinateSpace: .global) { location in\n    // ...\n}\n\n"})}),"\n",(0,a.jsx)(n.p,{children:'\u7136\u540e\u518d\u4f9d\u6b21\u70b9\u51fb\u4e0a\u53f3\u56fe "\u7ea2\u8272"\u3001"\u7eff\u8272"\u3001"\u84dd\u8272"\u3001"\u7070\u8272" \u533a\u57df\u65f6\uff0c\u6253\u5370\u65e5\u5fd7\u5927\u81f4\u5982\u4e0b\uff1a'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"// location = (34.33332824707031, 435.0)\n// tap red\n// location = (150.0, 440.6666564941406)\n// tap green\n// location = (237.3333282470703, 444.3333282470703)\n// tap blue\n// location = (325.3333282470703, 442.3333282470703)\n// tap background\n"})}),"\n",(0,a.jsx)(n.h2,{id:"tapgesture",children:"TapGesture"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://developer.apple.com/documentation/swiftui/tapgesture",children:"TapGesture"})," \u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u53ef\u7528\u4e8e\u8bc6\u522b\u4e00\u6b21\u6216\u591a\u6b21\u70b9\u51fb\u7684\u624b\u52bf\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"public struct TapGesture : Gesture {\n    // ...\n\n    /// The required number of tap events.\n    public var count: Int\n\n    /// Creates a tap gesture with the number of required taps.\n    public init(count: Int = 1)\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u53ef\u4ee5\u901a\u8fc7 ",(0,a.jsx)(n.code,{children:"gesture(_:including:)"})," \u4fee\u9970\u5668\u5c06\u5176\u6dfb\u52a0\u5230\u89c6\u56fe\u4e2d\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"extension View {\n    // ...\n\n    /// \u4ee5\u6bd4\u89c6\u56fe\u5b9a\u4e49\u7684\u624b\u52bf\u66f4\u4f4e\u7684\u4f18\u5148\u7ea7\u5c06\u624b\u52bf\u9644\u52a0\u5230\u89c6\u56fe\n    public func gesture<T>(_ gesture: T,\n                           including mask: GestureMask = .all\n    ) -> some View where T : Gesture\n}\n\n// \u63a7\u5236\u5c06\u624b\u52bf\u6dfb\u52a0\u5230\u89c6\u56fe\u65f6\uff0c\u5982\u4f55\u5f71\u54cd\u89c6\u56fe\u53ca\u5176\u5b50\u89c6\u56fe\u8bc6\u522b\u5176\u5b83\u624b\u52bf\u7684\u9009\u9879\n@frozen public struct GestureMask : OptionSet {\n    // ...\n\n    /// Disable all gestures in the subview hierarchy, including the added\n    /// gesture.\n    public static let none: GestureMask\n\n    /// Enable the added gesture but disable all gestures in the subview\n    /// hierarchy.\n    public static let gesture: GestureMask\n\n    /// Enable all gestures in the subview hierarchy but disable the added\n    /// gesture.\n    public static let subviews: GestureMask\n\n    /// Enable both the added gesture as well as all other gestures on the view\n    /// and its subviews.\n    public static let all: GestureMask\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u6bd4\u5982\uff1a"}),"\n",(0,a.jsx)(t,{mini:!0,src:g(),children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:'@State private var tapped = false\n\nvar tap: some Gesture {\n    TapGesture(count: 1)\n        .onEnded { _ in self.tapped = !self.tapped }\n}\n\nvar body: some View {\n    Circle()\n        .fill(self.tapped ? Color.blue : Color.red)\n        .frame(width: 100, height: 100, alignment: .center)\n        .gesture(tap)\n}\n\n// \u70b9\u51fb\u53f3\u56fe Circle \u65f6\uff0c\u5728 "\u7ea2\u8272" \u4e0e "\u84dd\u8272" \u95f4\u5207\u6362\n'})})}),"\n",(0,a.jsx)(n.h2,{id:"spatialtapgesture",children:"SpatialTapGesture"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://developer.apple.com/documentation/swiftui/spatialtapgesture",children:"SpatialTapGesture"}),": \u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u53ef\u7528\u4e8e\u8bc6\u522b\u4e00\u6b21\u6216\u591a\u6b21\u70b9\u51fb\u5e76\u62a5\u544a\u5176\u4f4d\u7f6e\u7684\u624b\u52bf\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"public struct SpatialTapGesture : Gesture {\n    // ...\n\n    /// The attributes of a tap gesture.\n    public struct Value : Equatable, @unchecked Sendable {\n        // ...\n\n        /// The location of the tap gesture's current event.\n        public var location: CGPoint\n    }\n\n    /// The required number of tap events.\n    public var count: Int\n\n    /// The coordinate space in which to receive location values.\n    public var coordinateSpace: CoordinateSpace\n\n    public init(count: Int = 1, coordinateSpace: CoordinateSpace = .local)\n}\n"})}),"\n",(0,a.jsx)(t,{mini:!0,src:g(),children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:'@State private var location: CGPoint = .zero\n\nvar tap: some Gesture {\n    SpatialTapGesture(count: 1)\n        .onEnded { event in\n            print("location = \\(location)")\n            self.location = event.location\n        }\n}\n\nvar body: some View {\n    Circle()\n        .fill(self.location.y > 50 ? Color.blue : Color.red)\n        .frame(width: 100, height: 100, alignment: .center)\n        .gesture(tap)\n}\n\n// \u70b9\u51fb Circle \u65f6\uff0c\u6253\u5370\u65e5\u5fd7\u5927\u81f4\u5982\u4e0b\uff1a\n// location = (40.666661580403655, 11.999989827473996)\n// location = (14.666661580403655, 51.999989827473996\n// location = (72.66666158040366, 56.666661580403684)\n'})})}),"\n",(0,a.jsxs)(n.p,{children:["\u4ed4\u7ec6\u770b\u4e0a\u9762\u7684 ",(0,a.jsx)(n.code,{children:"onEnded"})," \u5b9e\u73b0\u4f60\u53ef\u80fd\u4f1a\u611f\u89c9\u5230\u5f88\u5947\u602a\uff0c\u4e3a\u5565 ",(0,a.jsx)(n.code,{children:"SpatialTapGesture"})," \u7684 ",(0,a.jsx)(n.code,{children:"onEvent"})," \u4f1a\u62a5\u544a\u5750\u6807\u800c ",(0,a.jsx)(n.code,{children:"TapGesture"})," \u7684\u5c31\u4e0d\u4f1a\uff1f\u5bf9\u6bd4\u4e24\u8005\u7684\u521d\u59cb\u5316\u5668\u53c2\u6570\u90fd\u662f\u4e00\u6837\u7684\u5440\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"TapGesture(count: 1)\n        .onEnded { _ in\n            // ...\n        }\n\nSpatialTapGesture(count: 1)\n        .onEnded { event in\n            // ...\n        }\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u5ba2\u5b98\u522b\u6025\uff0c\u4f60\u770b\u4e0b\u9762\u7684\u5b9a\u4e49\u4ee3\u7801\u7684\u9ad8\u4eae\u884c\u548c\u5176\u4e2d\u7684 ",(0,a.jsx)(n.code,{children:"Value"})," \u5173\u8054\u5173\u7cfb\u5c31\u61c2\u4e86\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-swift",children:"public protocol Gesture<Value> {\n\n    /// The type representing the gesture's value.\n    // highlight-next-line\n    associatedtype Value\n\n    /// The type of gesture representing the body of `Self`.\n    associatedtype Body : Gesture\n\n    /// The content and behavior of the gesture.\n    var body: Self.Body { get }\n}\n\nextension Gesture {\n\n    /// Adds an action to perform when the gesture ends.\n    // highlight-start\n    public func onEnded(_ action: @escaping (Self.Value) -> Void)\n            -> _EndedGesture<Self>\n    // highlight-end\n}\n\npublic struct TapGesture : Gesture {\n    // ...\n\n    // highlight-next-line\n    public typealias Value = Void\n}\n\npublic struct SpatialTapGesture : Gesture {\n    // ...\n\n    // highlight-start\n    public struct Value : Equatable, @unchecked Sendable {\n\n        public var location: CGPoint\n\n        public static func == (a: SpatialTapGesture.Value,\n                               b: SpatialTapGesture.Value) -> Bool\n    }\n    // highlight-end\n}\n"})})]})}function j(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(b,{...e})}):b(e)}},11151:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o,a:()=>s});var a=t(67294);const r={},i=a.createContext(r);function s(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);