(self.webpackChunkswift_tutorials_cn=self.webpackChunkswift_tutorials_cn||[]).push([[8864],{74842:(e,a,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/image_1.8ee4925.750.png 750w",images:[{path:n.p+"assets/ideal-img/image_1.8ee4925.750.png",width:750,height:248}],src:n.p+"assets/ideal-img/image_1.8ee4925.750.png",toString:function(){return n.p+"assets/ideal-img/image_1.8ee4925.750.png"},placeholder:void 0,width:750,height:248},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAIAAAAlXwkiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZElEQVR4nGNgEWBnFeRg4mBmZGAI7kosONCSva02Z0d9/r7mxEWFDJrTXLTneYo4KzAzMPq3xWbvqEtbW5G2riJzW238/HwGZh5WFh42RlYmBgaGkO6kokNtOTsbcsG6kxYVAQALmB6+fckPVwAAAABJRU5ErkJggg=="}},91789:(e,a,n)=>{"use strict";n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>r,default:()=>A,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var s=n(85893),t=n(11151);const i={},r="Media assets",l={id:"av-foundation/common/media-assets/index",title:"Media assets",description:"<OriginalSource",source:"@site/docs/av-foundation/common/media-assets/index.mdx",sourceDirName:"av-foundation/common/media-assets",slug:"/av-foundation/common/media-assets/",permalink:"/swift-tutorials-cn/docs/av-foundation/common/media-assets/",draft:!1,unlisted:!1,editUrl:"https://github.com/zhuanghongji/swift-tutorials-cn/docs/av-foundation/common/media-assets/index.mdx",tags:[],version:"current",lastUpdatedAt:1698830538,formattedLastUpdatedAt:"2023\u5e7411\u67081\u65e5",frontMatter:{},sidebar:"avfoundationSidebar",previous:{title:"\u521b\u5efa\u81ea\u5b9a\u4e49\u8bed\u97f3\u5408\u6210\u5668",permalink:"/swift-tutorials-cn/docs/av-foundation/esseentials/creating-a-custom-speech-synthesizer/"},next:{title:"Media reading and writing",permalink:"/swift-tutorials-cn/docs/av-foundation/common/media-reading-and-writing/"}},d={},c=[{value:"Assets",id:"assets",level:2},{value:"AVAsset",id:"avasset",level:3},{value:"AVURLAsset",id:"avurlasset",level:3},{value:"AVAssetTrack",id:"avassettrack",level:3},{value:"AVAssetTrackSegment",id:"avassettracksegment",level:3},{value:"AVAssetTrackGroup",id:"avassettrackgroup",level:3},{value:"Metadata",id:"metadata",level:2},{value:"AVMetadataItem",id:"avmetadataitem",level:3},{value:"AVMutableMetadataItem",id:"avmutablemetadataitem",level:3},{value:"AVMetadataIdentifier",id:"avmetadataidentifier",level:3},{value:"AVMetadataKey",id:"avmetadatakey",level:3},{value:"AVMetadataKeySpace",id:"avmetadatakeyspace",level:3},{value:"AVMetadataExtraAttributeKey",id:"avmetadataextraattributekey",level:3},{value:"AVMetadataFormat",id:"avmetadataformat",level:3},{value:"AVMetadataItemFilter",id:"avmetadataitemfilter",level:3},{value:"Property loading",id:"property-loading",level:2},{value:"AVAsynchronousKeyValueLoading",id:"avasynchronouskeyvalueloading",level:3},{value:"AVAsyncProperty",id:"avasyncproperty",level:3},{value:"AVPartialAsyncProperty",id:"avpartialasyncproperty",level:3},{value:"AVAnyAsyncProperty",id:"avanyasyncproperty",level:3},{value:"Fragmented assets",id:"fragmented-assets",level:2},{value:"AVFragmentedAsset",id:"avfragmentedasset",level:3},{value:"AVFragmentedAssetTrack",id:"avfragmentedassettrack",level:3},{value:"AVFragmentedAssetMinder",id:"avfragmentedassetminder",level:3},{value:"AVFragmentMinding",id:"avfragmentminding",level:3}];function o(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components},{Figure:i,OriginalSource:r,ToBePolishedAfterTranslation:l}=a;return i||u("Figure",!0),r||u("OriginalSource",!0),l||u("ToBePolishedAfterTranslation",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h1,{id:"media-assets",children:"Media assets"}),"\n",(0,s.jsx)(l,{}),"\n",(0,s.jsx)(r,{title:"Media assets",url:"https://developer.apple.com/documentation/avfoundation/media_assets",summary:"\u4ece\u6587\u4ef6\u548c\u6d41\u52a0\u8f7d\u5a92\u4f53\u8d44\u4ea7\u4ee5\u68c0\u67e5\u5176\u5c5e\u6027\u3001\u8f68\u9053\u548c\u5d4c\u5165\u7684\u5143\u6570\u636e"}),"\n",(0,s.jsx)(a.h2,{id:"assets",children:"Assets"}),"\n",(0,s.jsx)(a.h3,{id:"avasset",children:"AVAsset"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u6a21\u62df\u5b9a\u65f6\u89c6\u542c\u5a92\u4f53\u7684\u5bf9\u8c61\nopen class AVAsset : NSObject, NSCopying, AVAsynchronousKeyValueLoading {\n    // ...\n\n    public convenience init(url URL: URL)\n}\n"})}),"\n",(0,s.jsx)(a.p,{children:"\u8d44\u4ea7\u5bf9\u57fa\u4e8e\u6587\u4ef6\u7684\u5a92\u4f53\uff08\u4f8b\u5982 QuickTime \u5f71\u7247\u6216 MP3 \u97f3\u9891\u6587\u4ef6\uff09\u4ee5\u53ca\u4f7f\u7528 HTTP Live Streaming (HLS) \u8fdb\u884c\u6d41\u5f0f\u4f20\u8f93\u7684\u5a92\u4f53\u8fdb\u884c\u5efa\u6a21\u3002\u8d44\u4ea7\u662f\u4e00\u4e2a\u6216\u591a\u4e2a AVAssetTrack \u5b9e\u4f8b\u7684\u5bb9\u5668\u5bf9\u8c61\uff0c\u5b83\u5bf9\u5a92\u4f53\u7684\u7edf\u4e00\u7c7b\u578b\u8f68\u9053\u8fdb\u884c\u5efa\u6a21\u3002\u6700\u5e38\u7528\u7684\u8f68\u9053\u7c7b\u578b\u662f\u97f3\u9891\u548c\u89c6\u9891\uff0c\u4f46\u8d44\u4ea7\u4e5f\u53ef\u80fd\u5305\u542b\u8865\u5145\u8f68\u9053\uff0c\u4f8b\u5982\u9690\u85cf\u5f0f\u5b57\u5e55\u3001\u5b57\u5e55\u548c\u5b9a\u65f6\u5143\u6570\u636e\u3002"}),"\n",(0,s.jsx)(i,{src:n(74842),size:420,edge:"black"}),"\n",(0,s.jsx)(a.p,{children:"\u4f60\u53ef\u4ee5\u901a\u8fc7\u5f02\u6b65\u52a0\u8f7d\u8d44\u6e90\u7684 tracks \u5c5e\u6027\u6765\u52a0\u8f7d\u8d44\u6e90\u7684\u8f68\u9053\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u5bf9\u8d44\u4ea7\u8f68\u9053\u7684\u5b50\u96c6\u800c\u4e0d\u662f\u5176\u5b8c\u6574\u96c6\u5408\u6267\u884c\u64cd\u4f5c\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u60c5\u51b5\uff0c\u8d44\u4ea7\u63d0\u4f9b\u4e86\u6839\u636e\u7279\u5b9a\u6807\u51c6\uff08\u4f8b\u5982\u6807\u8bc6\u7b26\u3001\u5a92\u4f53\u7c7b\u578b\u6216\u7279\u5f81\uff09\u68c0\u7d22\u8f68\u9053\u5b50\u96c6\u7684\u65b9\u6cd5\u3002"}),"\n",(0,s.jsx)(a.h3,{id:"avurlasset",children:"AVURLAsset"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u8868\u793a\u672c\u5730\u6216\u8fdc\u7a0b URL \u5904\u7684\u5a92\u4f53\u7684\u8d44\u4ea7\nopen class AVURLAsset : AVAsset {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.p,{children:"\u8be5\u7c7b\u662f AVAsset \u7684\u5177\u4f53\u5b50\u7c7b\u3002\u5f53\u4f60\u521b\u5efa\u5982\u4e0b\u6240\u793a\u7684\u8d44\u4ea7\u65f6\uff0c\u7cfb\u7edf\u4f1a\u521b\u5efa\u5e76\u8fd4\u56de AVURLAsset \u7684\u5b9e\u4f8b\u3002"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"let url: URL = // A local or remote asset URL.\nlet asset = AVAsset(url: url)\n"})}),"\n",(0,s.jsx)(a.p,{children:"\u5728\u8bb8\u591a\u60c5\u51b5\u4e0b\uff0c\u8fd9\u662f\u521b\u5efa\u8d44\u4ea7\u5b9e\u4f8b\u7684\u9002\u5f53\u65b9\u6cd5\u3002\u4f46\u662f\uff0c\u5f53\u4f60\u9700\u8981\u5bf9\u5176\u521d\u59cb\u5316\u8fdb\u884c\u66f4\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\u65f6\uff0c\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5b9e\u4f8b\u5316 AVURLAsset \u3002 AVURLAsset \u7684\u521d\u59cb\u5316\u5668\u63a5\u53d7\u4e00\u4e2a\u9009\u9879\u5b57\u5178\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u8be5\u5b57\u5178\u6839\u636e\u4f60\u7684\u7279\u5b9a\u76ee\u7684\u81ea\u5b9a\u4e49\u8d44\u4ea7\u7684\u521d\u59cb\u5316\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u6b63\u5728\u4e3a HLS \u6d41\u521b\u5efa\u8d44\u4ea7\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u963b\u6b62\u5b83\u5728\u901a\u8fc7\u8702\u7a9d\u7f51\u7edc\u8fde\u63a5\u65f6\u68c0\u7d22\u5176\u5a92\u4f53\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b\u521d\u59cb\u5316\u9009\u9879\u548c\u503c\u6765\u5b8c\u6210\u6b64\u64cd\u4f5c\uff0c\u5982\u4e0b\u6240\u793a\u3002"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"let url: URL = // A remote asset URL.\nlet options = [AVURLAssetAllowsCellularAccessKey: false]\nlet asset = AVURLAsset(url: url, options: options)\n"})}),"\n",(0,s.jsx)(a.h3,{id:"avassettrack",children:"AVAssetTrack"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u5bf9\u8d44\u4ea7\u6240\u5305\u542b\u7684\u5a92\u4f53\u8f68\u9053\u8fdb\u884c\u5efa\u6a21\u7684\u5bf9\u8c61\nopen class AVAssetTrack : NSObject, NSCopying, AVAsynchronousKeyValueLoading {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.p,{children:"\u8d44\u4ea7\u5305\u542b\u6846\u67b6\u4f7f\u7528 AVAssetTrack \u7c7b\u5efa\u6a21\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u5a92\u4f53\u8f68\u9053\u3002\u8f68\u9053\u5bf9\u8c61\u4fdd\u5b58\u8d44\u4ea7\u63d0\u4f9b\u7684\u7edf\u4e00\u7c7b\u578b\u7684\u5a92\u4f53\uff0c\u4f8b\u5982\u97f3\u9891\u3001\u89c6\u9891\u6216\u9690\u85cf\u5f0f\u5b57\u5e55\u3002"}),"\n",(0,s.jsxs)(a.p,{children:["\u8f68\u9053\uff08\u5982\u5305\u542b AVAsset \u7684\u8f68\u9053\uff09\u5728\u521b\u5efa\u65f6\u4e0d\u4f1a\u52a0\u8f7d\u5176\u6240\u6709\u5a92\u4f53\u3002\u76f8\u53cd\uff0c\u5b83\u4f1a\u63a8\u8fdf\u52a0\u8f7d\u5176\u6570\u636e\uff0c\u76f4\u5230\u4f60\u6267\u884c\u9700\u8981\u5b83\u7684\u64cd\u4f5c\u4e3a\u6b62\u3002\u7531\u4e8e\u52a0\u8f7d\u6570\u636e\u53ef\u80fd\u9700\u8981\u65f6\u95f4\uff0c\u56e0\u6b64\u8d44\u4ea7\u8ddf\u8e2a\u91c7\u7528 AVAsynchronousKeyValueLoading \u534f\u8bae\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 ",(0,s.jsx)(a.code,{children:"load(_:)"})," \u65b9\u6cd5\u5f02\u6b65\u52a0\u8f7d\u5176\u5c5e\u6027\u503c\u3002"]}),"\n",(0,s.jsx)(a.h3,{id:"avassettracksegment",children:"AVAssetTrackSegment"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u8868\u793a\u8d44\u4ea7\u8f68\u9053\u7684\u65f6\u95f4\u8303\u56f4\u6bb5\u7684\u5bf9\u8c61\nopen class AVAssetTrackSegment : NSObject, @unchecked Sendable {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.h3,{id:"avassettrackgroup",children:"AVAssetTrackGroup"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u8d44\u4ea7\u4e2d\u7684\u4e00\u7ec4\u76f8\u5173\u66f2\u76ee\nopen class AVAssetTrackGroup : NSObject, NSCopying, @unchecked Sendable {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.p,{children:"\u66f2\u76ee\u7ec4\u63cf\u8ff0\u4e00\u7ec4\u76f8\u5173\u7684\u66ff\u4ee3\u66f2\u76ee\uff0c\u4e00\u6b21\u53ea\u80fd\u64ad\u653e\u5176\u4e2d\u4e00\u4e2a\u3002\u66ff\u4ee3\u66f2\u76ee\u7ec4\u901a\u5e38\u5305\u542b\u76f8\u540c\u5185\u5bb9\u7684\u53d8\u4f53\uff0c\u4f8b\u5982\u591a\u4e2a\u7ffb\u8bd1\u7684\u5b57\u5e55\u3002"}),"\n",(0,s.jsxs)(a.p,{children:["\u4f60\u53ef\u4ee5\u901a\u8fc7\u52a0\u8f7d\u8d44\u4ea7\u7684 ",(0,s.jsx)(a.code,{children:"trackGroups"})," \u5c5e\u6027\u503c\u6765\u68c0\u67e5\u8d44\u4ea7\u7684\u8f68\u9053\u7ec4\u3002"]}),"\n",(0,s.jsx)(a.h2,{id:"metadata",children:"Metadata"}),"\n",(0,s.jsx)(a.h3,{id:"avmetadataitem",children:"AVMetadataItem"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u89c6\u542c\u8d44\u4ea7\u6216\u5176\u8f68\u9053\u4e4b\u4e00\u7684\u5143\u6570\u636e\u9879\nopen class AVMetadataItem : NSObject, AVAsynchronousKeyValueLoading, NSCopying, NSMutableCopying {\n    // ...\n}\n"})}),"\n",(0,s.jsxs)(a.p,{children:["\u4e3a\u4e86\u6709\u6548\u5730\u4f7f\u7528 ",(0,s.jsx)(a.code,{children:"AVMetadataItem"})," \uff0c\u4f60\u9700\u8981\u4e86\u89e3 AVFoundation \u5982\u4f55\u7ec4\u7ec7\u5143\u6570\u636e\u3002\u4e3a\u4e86\u7b80\u5316\u5143\u6570\u636e\u9879\u7684\u67e5\u627e\u548c\u8fc7\u6ee4\uff0c\u6846\u67b6\u5c06\u76f8\u5173\u5143\u6570\u636e\u5206\u7ec4\u5230\u5173\u952e\u7a7a\u95f4\u4e2d\uff1a"]}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"\u7279\u5b9a\u4e8e\u683c\u5f0f\u7684\u952e\u7a7a\u95f4\u3002\u8be5\u6846\u67b6\u5b9a\u4e49\u4e86\u51e0\u4e2a\u7279\u5b9a\u4e8e\u683c\u5f0f\u7684\u5bc6\u94a5\u7a7a\u95f4\u3002\u5b83\u4eec\u5927\u81f4\u4e0e\u7279\u5b9a\u5bb9\u5668\u6216\u6587\u4ef6\u683c\u5f0f\u76f8\u5173\uff0c\u4f8b\u5982 QuickTime\uff08QuickTime \u5143\u6570\u636e\u548c\u7528\u6237\u6570\u636e\uff09\u6216 MP3 (ID3)\u3002\u7136\u800c\uff0c\u5355\u4e2a\u8d44\u4ea7\u53ef\u80fd\u5305\u542b\u8de8\u591a\u4e2a\u952e\u7a7a\u95f4\u7684\u5143\u6570\u636e\u503c\u3002\u8981\u68c0\u7d22\u8d44\u4ea7\u7684\u7279\u5b9a\u4e8e\u683c\u5f0f\u7684\u5143\u6570\u636e\u7684\u5b8c\u6574\u96c6\u5408\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176 metadata \u5c5e\u6027\u3002"}),"\n",(0,s.jsx)(a.li,{children:"\u516c\u5171\u952e\u7a7a\u95f4\u3002\u6709\u51e0\u4e2a\u5e38\u89c1\u7684\u5143\u6570\u636e\u503c\uff0c\u4f8b\u5982\u7535\u5f71\u7684\u521b\u5efa\u65e5\u671f\u6216\u63cf\u8ff0\uff0c\u53ef\u4ee5\u5b58\u5728\u4e8e\u591a\u4e2a\u952e\u7a7a\u95f4\u4e2d\u3002\u4e3a\u4e86\u5e2e\u52a9\u6807\u51c6\u5316\u5bf9\u6b64\u516c\u5171\u5143\u6570\u636e\u7684\u8bbf\u95ee\uff0c\u8be5\u6846\u67b6\u63d0\u4f9b\u4e86\u4e00\u4e2a\u516c\u5171\u5bc6\u94a5\u7a7a\u95f4\uff0c\u53ef\u4ee5\u8bbf\u95ee\u591a\u4e2a\u5bc6\u94a5\u7a7a\u95f4\u516c\u5171\u7684\u4e00\u7ec4\u6709\u9650\u7684\u5143\u6570\u636e\u503c\u3002\u8fd9\u4f7f\u5f97\u68c0\u7d22\u5e38\u7528\u5143\u6570\u636e\u53d8\u5f97\u5bb9\u6613\uff0c\u800c\u65e0\u9700\u5173\u5fc3\u7279\u5b9a\u683c\u5f0f\u3002\u8981\u68c0\u7d22\u8d44\u4ea7\u7684\u516c\u5171\u5143\u6570\u636e\u96c6\u5408\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176 commonMetadata \u5c5e\u6027\u3002"}),"\n"]}),"\n",(0,s.jsx)(a.p,{children:"\u5143\u6570\u636e\u9879\u7684\u952e\u7b26\u5408\u4ece\u4e2d\u63d0\u53d6\u5143\u6570\u636e\u7684\u5bb9\u5668\u683c\u5f0f\u7684\u89c4\u8303\u3002 AVFoundation \u652f\u6301\u7684\u5143\u6570\u636e\u683c\u5f0f\u3001\u5143\u6570\u636e\u952e\u548c\u5143\u6570\u636e\u952e\u7a7a\u95f4\u7684\u5b8c\u6574\u8be6\u7ec6\u4fe1\u606f\u53ef\u5728 AVMetadataKeySpace \u548c AVMetadataKey \u4e2d\u627e\u5230\u3002"}),"\n",(0,s.jsx)(a.p,{children:"\u8981\u5728\u7b2c\u4e00\u6b21\u8bbf\u95ee\u5143\u6570\u636e\u9879\u65f6\u52a0\u8f7d\u5143\u6570\u636e\u9879\u7684\u503c\uff0c\u8bf7\u4f7f\u7528 AVAsynchronousKeyValueLoading \u534f\u8bae\u4e2d\u7684\u65b9\u6cd5\u3002 AVAsset \u7c7b\u548c\u5176\u5b83\u7c7b\u4f9d\u6b21\u6839\u636e\u9700\u8981\u63d0\u4f9b\u5176\u5143\u6570\u636e\uff0c\u4ee5\u4fbf\u4f60\u53ef\u4ee5\u4ece\u8fd9\u4e9b\u6570\u7ec4\u4e2d\u83b7\u53d6\u5bf9\u8c61\uff0c\u800c\u4e0d\u4f1a\u4ea7\u751f\u4e0d\u68c0\u67e5\u7684\u9879\u76ee\u7684\u5f00\u9500\u3002"}),"\n",(0,s.jsx)(a.p,{children:"\u8981\u8fc7\u6ee4\u5143\u6570\u636e\u9879\u7684\u6570\u7ec4\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u8be5\u7c7b\u7684\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u6309\u952e\u548c\u952e\u7a7a\u95f4\u3001\u533a\u57df\u8bbe\u7f6e\u4ee5\u53ca\u9996\u9009\u8bed\u8a00\u8fdb\u884c\u8fc7\u6ee4\u3002"}),"\n",(0,s.jsx)(a.h3,{id:"avmutablemetadataitem",children:"AVMutableMetadataItem"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u89c6\u542c\u8d44\u4ea7\u6216\u5176\u8f68\u9053\u4e4b\u4e00\u7684\u53ef\u53d8\u5143\u6570\u636e\u9879\nopen class AVMutableMetadataItem : AVMetadataItem {\n    // ...\n}\n"})}),"\n",(0,s.jsxs)(a.p,{children:["\u4f60\u53ef\u4ee5\u4ece\u73b0\u6709 ",(0,s.jsx)(a.code,{children:"AVMetadataItem"})," \u5bf9\u8c61\u6216\u4f7f\u7528\u5143\u6570\u636e\u9879\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u57fa\u672c\u5c5e\u6027\u6765\u521d\u59cb\u5316\u53ef\u53d8\u5143\u6570\u636e\u9879\uff1a\u952e\u3001\u952e\u7a7a\u95f4\u3001\u533a\u57df\u8bbe\u7f6e\u548c\u503c\u3002"]}),"\n",(0,s.jsx)(a.h3,{id:"avmetadataidentifier",children:"AVMetadataIdentifier"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u5b9a\u4e49\u5143\u6570\u636e\u683c\u5f0f\u6807\u8bc6\u7b26\u7684\u7ed3\u6784\npublic struct AVMetadataIdentifier : Hashable, Equatable, RawRepresentable, @unchecked Sendable {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.h3,{id:"avmetadatakey",children:"AVMetadataKey"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u5b9a\u4e49\u5143\u6570\u636e\u952e\u7684\u7ed3\u6784\u4f53\npublic struct AVMetadataKey : Hashable, Equatable, RawRepresentable, @unchecked Sendable {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.h3,{id:"avmetadatakeyspace",children:"AVMetadataKeySpace"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u5b9a\u4e49\u5143\u6570\u636e\u952e\u7a7a\u95f4\u7684\u7ed3\u6784\npublic struct AVMetadataKeySpace : Hashable, Equatable, RawRepresentable, @unchecked Sendable {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.h3,{id:"avmetadataextraattributekey",children:"AVMetadataExtraAttributeKey"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u5b9a\u4e49\u989d\u5916\u5143\u6570\u636e\u5c5e\u6027\u952e\u7684\u7ed3\u6784\npublic struct AVMetadataExtraAttributeKey : Hashable, Equatable, RawRepresentable, @unchecked Sendable {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.h3,{id:"avmetadataformat",children:"AVMetadataFormat"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u5b9a\u4e49\u5143\u6570\u636e\u683c\u5f0f\u7684\u7ed3\u6784\npublic struct AVMetadataFormat : Hashable, Equatable, RawRepresentable, @unchecked Sendable {\n    public init(rawValue: String)\n}\n"})}),"\n",(0,s.jsx)(a.h3,{id:"avmetadataitemfilter",children:"AVMetadataItemFilter"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u4ece\u5143\u6570\u636e\u9879\u4e2d\u8fc7\u6ee4\u9009\u5b9a\u4fe1\u606f\u7684\u5bf9\u8c61\nopen class AVMetadataItemFilter : NSObject, @unchecked Sendable {\n    /* Provides an instance of an AVMetadataItemFilter useful for sharing assets.  Removes many user-identifying metadata items, such as location information, leaving only playback-, copyright- and commercial-related metadata (such as the purchaser's Apple ID), along with metadata either derivable from the media itself or necessary for its proper behavior.  */\n    open class func forSharing() -> AVMetadataItemFilter\n}\n"})}),"\n",(0,s.jsxs)(a.p,{children:["\u8fc7\u6ee4\u5668\u5b9e\u4f8b\u662f\u4e0d\u900f\u660e\u3001\u4e0d\u53ef\u4fee\u6539\u7684\u5bf9\u8c61\uff0c\u7531\u4f60\u4f7f\u7528 ",(0,s.jsx)(a.code,{children:"forSharing()"})," \u7c7b\u65b9\u6cd5\u521b\u5efa\u3002"]}),"\n",(0,s.jsx)(a.h2,{id:"property-loading",children:"Property loading"}),"\n",(0,s.jsx)(a.h3,{id:"avasynchronouskeyvalueloading",children:"AVAsynchronousKeyValueLoading"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u5b9a\u4e49\u5f02\u6b65\u52a0\u8f7d\u5a92\u4f53\u6570\u636e\u7684\u63a5\u53e3\u7684\u534f\u8bae\npublic protocol AVAsynchronousKeyValueLoading {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.p,{children:"\u52a0\u8f7d\u5a92\u4f53\u6570\u636e\u6240\u9700\u7684\u65f6\u95f4\u53d6\u51b3\u4e8e\u5a92\u4f53\u5927\u5c0f\u3001\u4f4d\u7f6e\u3001\u8bbe\u5907\u529f\u80fd\u3001\u7f51\u7edc\u6761\u4ef6\u7b49\u56e0\u7d20\u3002\u4e3a\u4e86\u4f18\u5316\u6027\u80fd\uff0c AVAsset \u4f1a\u63a8\u8fdf\u52a0\u8f7d\u5176\u5a92\u4f53\u6570\u636e\uff0c\u76f4\u5230\u4f60\u67e5\u8be2\u5176\u5c5e\u6027\u6216\u6267\u884c\u9700\u8981\u5b83\u7684\u64cd\u4f5c\u3002\u8fd9\u610f\u5473\u7740\u4ece\u540c\u6b65\u4e0a\u4e0b\u6587\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c\u4f1a\u5728\u672a\u77e5\u7684\u65f6\u95f4\u5185\u963b\u585e\u8c03\u7528\u7ebf\u7a0b\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u7cdf\u7cd5\u7684\u7528\u6237\u4f53\u9a8c\uff0c\u751a\u81f3\u53ef\u80fd\u5bfc\u81f4\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u5d29\u6e83\u3002\u56e0\u6b64\uff0c\u4f60\u5fc5\u987b\u5f02\u6b65\u52a0\u8f7d\u5a92\u4f53\u6570\u636e\u3002"}),"\n",(0,s.jsxs)(a.p,{children:["\u8c03\u7528\u5f02\u6b65 ",(0,s.jsx)(a.code,{children:"load(_:)"})," \u65b9\u6cd5\u6765\u68c0\u7d22\u5a92\u4f53\u5c5e\u6027\u7684\u503c\uff0c\u6216\u901a\u8fc7\u8c03\u7528 ",(0,s.jsx)(a.code,{children:"status(of:)"})," \u65b9\u6cd5\u786e\u5b9a\u5c5e\u6027\u7684\u52a0\u8f7d\u72b6\u6001\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u5f02\u6b65\u52a0\u8f7d\u5a92\u4f53\u6570\u636e\u3002"]}),"\n",(0,s.jsx)(a.h3,{id:"avasyncproperty",children:"AVAsyncProperty"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u9650\u5236\u5176\u7c7b\u578b\u548c\u503c\u7684\u5f02\u6b65\u5c5e\u6027\npublic class AVAsyncProperty<Root, Value> : AVPartialAsyncProperty<Root> {\n}\n"})}),"\n",(0,s.jsxs)(a.p,{children:["\u8be5\u7c7b\u662f ",(0,s.jsx)(a.code,{children:"AVPartialAsyncProperty"})," \u7684\u5b50\u7c7b\uff0c\u4ee5\u63d0\u4f9b\u5bf9\u5c5e\u6027\u503c\u7684\u7c7b\u578b\u7ea6\u675f\u3002"]}),"\n",(0,s.jsx)(a.h3,{id:"avpartialasyncproperty",children:"AVPartialAsyncProperty"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u9650\u5236\u5176\u7c7b\u578b\u7684\u5f02\u6b65\u5c5e\u6027\npublic class AVPartialAsyncProperty<Root> : AVAnyAsyncProperty {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.p,{children:"\u8be5\u7c7b\u5b9a\u4e49\u5404\u79cd AVFoundation \u7c7b\u578b\u7684 AVAsyncProperty \u5e38\u91cf\uff0c\u5305\u62ec AVAsset \u3001 AVAssetTrack \u548c AVMetadataItem \u3002"}),"\n",(0,s.jsx)(a.h3,{id:"avanyasyncproperty",children:"AVAnyAsyncProperty"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u5f02\u6b65\u5c5e\u6027\u7684\u57fa\u7c7b\npublic class AVAnyAsyncProperty : CustomStringConvertible, @unchecked Sendable {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.p,{children:"\u8be5\u7c7b\u5b9a\u4e49\u5c5e\u6027\u6807\u8bc6\u7b26\u7684\u57fa\u7c7b\u3002"}),"\n",(0,s.jsx)(a.h2,{id:"fragmented-assets",children:"Fragmented assets"}),"\n",(0,s.jsx)(a.h3,{id:"avfragmentedasset",children:"AVFragmentedAsset"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u7cfb\u7edf\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u73b0\u6709\u5a92\u4f53\u6570\u636e\u7684\u60c5\u51b5\u4e0b\u5ef6\u957f\u6301\u7eed\u65f6\u95f4\u7684\u8d44\u4ea7\nopen class AVFragmentedAsset : AVURLAsset, AVFragmentMinding {\n}\n"})}),"\n",(0,s.jsx)(a.p,{children:"\u901a\u8fc7\u5728 moov \u6846\u4e2d\u4f7f\u7528 mvex \u6846\uff0cQuickTime \u7535\u5f71\u6587\u4ef6\u548c MPEG-4 \u6587\u4ef6\u53ef\u4ee5\u6307\u793a\u5b83\u4eec\u5bb9\u7eb3\u9644\u52a0\u7247\u6bb5\u3002\u8981\u786e\u5b9a\u788e\u7247\u8d44\u4ea7\u662f\u5426\u53ef\u4ee5\u76d1\u63a7\u788e\u7247\u7684\u6dfb\u52a0\uff0c\u8bf7\u68c0\u67e5\u5176 canContainFragments \u5c5e\u6027\u7684\u503c\u3002"}),"\n",(0,s.jsx)(a.p,{children:"\u5c06\u5206\u6bb5\u8d44\u4ea7\u4e0e AVFragmentedAssetMinder \u5b9e\u4f8b\u76f8\u5173\u8054\uff0c\u4ee5\u4e86\u89e3\u7cfb\u7edf\u4f55\u65f6\u9644\u52a0\u65b0\u7247\u6bb5\u3002\u5f53\u5b83\u5177\u6709\u5173\u8054\u7684\u8d44\u4ea7\u7ba1\u7406\u5668\u65f6\uff0c AVFragmentedAssetTrack \u6bcf\u5f53\u68c0\u6d4b\u5230\u65b0\u7247\u6bb5\u65f6\u90fd\u4f1a\u53d1\u5e03 AVAssetDurationDidChange \u901a\u77e5\u3002\u6b63\u5982\u8fd9\u4e9b\u901a\u77e5\u7684\u6587\u6863\u6240\u89e3\u91ca\u7684\u90a3\u6837\uff0c\u5b83\u8fd8\u53ef\u80fd\u53d1\u5e03 AVAssetContainsFragmentsDidChange \u548c AVAssetWasDefragmented \u3002"}),"\n",(0,s.jsx)(a.h3,{id:"avfragmentedassettrack",children:"AVFragmentedAssetTrack"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u63d0\u4f9b\u8f68\u9053\u7ea7\u63a5\u53e3\u6765\u68c0\u67e5\u788e\u7247\u8d44\u4ea7\u7684\u5a92\u4f53\u8f68\u9053\u7684\u5bf9\u8c61\nopen class AVFragmentedAssetTrack : AVAssetTrack {\n    // ...\n}\n"})}),"\n",(0,s.jsxs)(a.p,{children:["\u8be5\u7c7b\u662f ",(0,s.jsx)(a.code,{children:"AVAssetTrack"})," \u7684\u5b50\u7c7b\u3002\u5b83\u6ca1\u6709\u81ea\u5df1\u7684\u65b9\u6cd5\u6216\u5c5e\u6027\u3002"]}),"\n",(0,s.jsx)(a.h3,{id:"avfragmentedassetminder",children:"AVFragmentedAssetMinder"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u5b9a\u671f\u68c0\u67e5\u7cfb\u7edf\u662f\u5426\u5411\u788e\u7247\u8d44\u4ea7\u6dfb\u52a0\u65b0\u788e\u7247\u7684\u5bf9\u8c61\nopen class AVFragmentedAssetMinder : NSObject {\n    // ...\n}\n"})}),"\n",(0,s.jsx)(a.h3,{id:"avfragmentminding",children:"AVFragmentMinding"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-swift",children:"// \u5b9a\u4e49\u8d44\u4ea7\u662f\u5426\u652f\u6301\u788e\u7247\u7ba1\u7406\u7684\u534f\u8bae\npublic protocol AVFragmentMinding {\n    // ...\n}\n"})})]})}function A(e={}){const{wrapper:a}={...(0,t.a)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}function u(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},11151:(e,a,n)=>{"use strict";n.d(a,{Z:()=>l,a:()=>r});var s=n(67294);const t={},i=s.createContext(t);function r(e){const a=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(i.Provider,{value:a},e.children)}}}]);