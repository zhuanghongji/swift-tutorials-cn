"use strict";(self.webpackChunkswift_tutorials_cn=self.webpackChunkswift_tutorials_cn||[]).push([[4295],{3905:(t,e,n)=>{n.d(e,{Zo:()=>u,kt:()=>k});var l=n(67294);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,l)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(null==t)return{};var n,l,i=function(t,e){if(null==t)return{};var n,l,i={},a=Object.keys(t);for(l=0;l<a.length;l++)n=a[l],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(l=0;l<a.length;l++)n=a[l],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var c=l.createContext({}),o=function(t){var e=l.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):r(r({},e),t)),n},u=function(t){var e=o(t.components);return l.createElement(c.Provider,{value:e},t.children)},_="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return l.createElement(l.Fragment,{},e)}},s=l.forwardRef((function(t,e){var n=t.components,i=t.mdxType,a=t.originalType,c=t.parentName,u=p(t,["components","mdxType","originalType","parentName"]),_=o(n),s=i,k=_["".concat(c,".").concat(s)]||_[s]||d[s]||a;return n?l.createElement(k,r(r({ref:e},u),{},{components:n})):l.createElement(k,r({ref:e},u))}));function k(t,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var a=n.length,r=new Array(a);r[0]=s;var p={};for(var c in e)hasOwnProperty.call(e,c)&&(p[c]=e[c]);p.originalType=t,p[_]="string"==typeof t?t:i,r[1]=p;for(var o=2;o<a;o++)r[o]=n[o];return l.createElement.apply(null,r)}return l.createElement.apply(null,n)}s.displayName="MDXCreateElement"},69036:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>k,frontMatter:()=>a,metadata:()=>p,toc:()=>o});var l=n(87462),i=(n(67294),n(3905));const a={},r="\u5149\u7ebf\u8ffd\u8e2a\u51fd\u6570",p={unversionedId:"metal-shading-language-specification/ray-tracing-functions/index",id:"metal-shading-language-specification/ray-tracing-functions/index",title:"\u5149\u7ebf\u8ffd\u8e2a\u51fd\u6570",description:"\u6240\u6709\u64cd\u4f5c\u7cfb\u7edf\uff1a\u4ece Metal 2.3 \u5f00\u59cb\u652f\u6301\u5149\u7ebf\u8ffd\u8e2a\u529f\u80fd\u3002",source:"@site/docs/metal-shading-language-specification/ray-tracing-functions/index.mdx",sourceDirName:"metal-shading-language-specification/ray-tracing-functions",slug:"/metal-shading-language-specification/ray-tracing-functions/",permalink:"/swift-tutorials-cn/docs/metal-shading-language-specification/ray-tracing-functions/",draft:!1,editUrl:"https://github.com/zhuanghongji/swift-tutorials-cn/docs/metal-shading-language-specification/ray-tracing-functions/index.mdx",tags:[],version:"current",lastUpdatedAt:1693285264,formattedLastUpdatedAt:"2023\u5e748\u670829\u65e5",frontMatter:{},sidebar:"metalshadinglanguagespecificationSidebar",previous:{title:"\u53ef\u53d8\u5149\u6805\u5316\u7387",permalink:"/swift-tutorials-cn/docs/metal-shading-language-specification/variable-rasterization-rate/"},next:{title:"INF\u3001NaN \u548c\u975e\u89c4\u8303\u5316\u6570",permalink:"/swift-tutorials-cn/docs/metal-shading-language-specification/inf-nan-and-denormalized-numbers/"}},c={},o=[{value:"6.18.1 \u52a0\u901f\u7ed3\u6784\u51fd\u6570",id:"6181-\u52a0\u901f\u7ed3\u6784\u51fd\u6570",level:2},{value:"6.18.2 \u76f8\u4ea4\u76f8\u4ea4\u51fd\u6570",id:"6182-\u76f8\u4ea4\u76f8\u4ea4\u51fd\u6570",level:2},{value:"\u8868 6.26\u3002\u76f8\u4ea4\u51fd\u6570",id:"\u8868-626\u76f8\u4ea4\u51fd\u6570",level:2},{value:"\u8868 6.27\u3002\u76f8\u4ea4\u51fd\u6570\u8f93\u5165\u53c2\u6570",id:"\u8868-627\u76f8\u4ea4\u51fd\u6570\u8f93\u5165\u53c2\u6570",level:2},{value:"6.18.3 \u63a7\u5236\u904d\u5386\u884c\u4e3a\u7684 Intersector \u51fd\u6570",id:"6183-\u63a7\u5236\u904d\u5386\u884c\u4e3a\u7684-intersector-\u51fd\u6570",level:2},{value:"\u8868 6.28\u3002\u76f8\u4ea4\u51fd\u6570\u6765\u63a7\u5236\u904d\u5386",id:"\u8868-628\u76f8\u4ea4\u51fd\u6570\u6765\u63a7\u5236\u904d\u5386",level:2},{value:"};",id:"",level:3},{value:"6.18.4 \u8def\u53e3\u67e5\u8be2\u51fd\u6570",id:"6184-\u8def\u53e3\u67e5\u8be2\u51fd\u6570",level:2},{value:"\u8868 6.29\u3002\u8def\u53e3\u67e5\u8be2\u529f\u80fd",id:"\u8868-629\u8def\u53e3\u67e5\u8be2\u529f\u80fd",level:2},{value:"* * *",id:"--",level:3},{value:"* * *",id:"---1",level:3},{value:"\u8868 6.30\u3002\u4f7f\u7528 max_levels \u7684\u4ea4\u96c6\u67e5\u8be2\u51fd\u6570",id:"\u8868-630\u4f7f\u7528-max_levels-\u7684\u4ea4\u96c6\u67e5\u8be2\u51fd\u6570",level:2},{value:"* * *",id:"---2",level:3},{value:"* * *",id:"---3",level:3},{value:"* * *",id:"---4",level:3},{value:"* * *",id:"---5",level:3},{value:"* * *",id:"---6",level:3},{value:"* * *",id:"---7",level:3},{value:"\u8868 6.31\u3002\u4ea4\u70b9\u67e5\u8be2\u5c04\u7ebf\u503c\u51fd\u6570",id:"\u8868-631\u4ea4\u70b9\u67e5\u8be2\u5c04\u7ebf\u503c\u51fd\u6570",level:2},{value:"\u8868 6.32\u3002\u4ea4\u96c6\u67e5\u8be2\u5019\u9009\u503c\u51fd\u6570",id:"\u8868-632\u4ea4\u96c6\u67e5\u8be2\u5019\u9009\u503c\u51fd\u6570",level:2},{value:"* * *",id:"---8",level:3},{value:"* * *",id:"---9",level:3},{value:"* * *",id:"---10",level:3},{value:"\u8868 6.33\u3002\u76f8\u4ea4\u67e5\u8be2\u63d0\u4ea4\u503c\u51fd\u6570",id:"\u8868-633\u76f8\u4ea4\u67e5\u8be2\u63d0\u4ea4\u503c\u51fd\u6570",level:2},{value:"* * *",id:"---11",level:3},{value:"* * *",id:"---12",level:3},{value:"* * *",id:"---13",level:3},{value:"6.18.5 \u95f4\u63a5\u5b9e\u4f8b\u63cf\u8ff0\u7b26",id:"6185-\u95f4\u63a5\u5b9e\u4f8b\u63cf\u8ff0\u7b26",level:2},{value:"6.18.6 \u66f2\u7ebf\u5b9e\u7528\u51fd\u6570",id:"6186-\u66f2\u7ebf\u5b9e\u7528\u51fd\u6570",level:2},{value:"\u8868 6.34\u3002\u66f2\u7ebf\u6548\u7528\u51fd\u6570",id:"\u8868-634\u66f2\u7ebf\u6548\u7528\u51fd\u6570",level:2}],u=(_="OrigninalPDF",function(t){return console.warn("Component "+_+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",t)});var _;const d={toc:o},s="wrapper";function k(t){let{components:e,...n}=t;return(0,i.kt)(s,(0,l.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u5149\u7ebf\u8ffd\u8e2a\u51fd\u6570"},"\u5149\u7ebf\u8ffd\u8e2a\u51fd\u6570"),(0,i.kt)(u,{title:"6.18 Ray Tracing Functions",mdxType:"OrigninalPDF"}),(0,i.kt)("p",null,"\u6240\u6709\u64cd\u4f5c\u7cfb\u7edf\uff1a\u4ece Metal 2.3 \u5f00\u59cb\u652f\u6301\u5149\u7ebf\u8ffd\u8e2a\u529f\u80fd\u3002"),(0,i.kt)("p",null,"\u5149\u7ebf\u8ffd\u8e2a\u51fd\u6570\u548c\u7c7b\u578b\u5728\u547d\u540d\u7a7a\u95f4 metal::raytracing \u7684 \u4e2d\u5b9a\u4e49\u3002\u5728 Metal 2.3 \u4e2d\uff0c\u5b83\u4eec\u4ec5\u5728\u8ba1\u7b97\u51fd\u6570\uff08\u5185\u6838\u51fd\u6570\uff09\u4e2d\u53d7\u652f\u6301\uff0c\u9664\u975e\u4e0b\u9762\u53e6\u6709\u8bf4\u660e\u3002\u4ece Metal 2.4 \u5f00\u59cb\uff0c\u9876\u70b9\u3001\u7247\u6bb5\u548c\u56fe\u5757\u51fd\u6570\u4e5f\u652f\u6301\u5b83\u4eec\u3002"),(0,i.kt)("h2",{id:"6181-\u52a0\u901f\u7ed3\u6784\u51fd\u6570"},"6.18.1 \u52a0\u901f\u7ed3\u6784\u51fd\u6570"),(0,i.kt)("p",null,"\u5728 Metal 2.3 \u4e2d\uff0c\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u4e4b\u4e00\u6765\u68c0\u67e5\u52a0\u901f\u7ed3\u6784\uff08\u53c2\u89c1\u7b2c 2.17.6 \u8282\uff09\u662f\u5426\u4e3a\u7a7a\uff1a"),(0,i.kt)("p",null,"bool is_null_primitive_acceleration_struct(primitive_acceleration_struct)"),(0,i.kt)("p",null,"bool is_null_instance_acceleration_struct (instance_acceleration_struct ure)"),(0,i.kt)("p",null,"\u5728 Metal 2.4 \u4e2d\uff0c\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u68c0\u67e5\u52a0\u901f\u7ed3\u6784\u662f\u5426\u4e3a\u7a7a\u3002"),(0,i.kt)("p",null,"bool is_null_acceleration_struct(acceleration_struct)"),(0,i.kt)("p",null,"\u5728 Metal 3.1 \u4e2d\u3002Metal \u652f\u6301\u4f7f\u7528\u4ee5\u4e0b\u51fd\u6570\u8fed\u4ee3\u5b9e\u4f8b\u52a0\u901f\u7ed3\u6784\u5f15\u7528\u7684\u52a0\u901f\u7ed3\u6784\uff1a"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5b9e\u4f8b\u52a0\u901f\u7ed3\u6784\u4e2d\u5b9e\u4f8b\u7684\u6570\u91cf\u3002"),(0,i.kt)("p",null,"uint get_instance_count() const"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u68c0\u7d22\u5b9e\u4f8b\u52a0\u901f\u7ed3\u6784\u4e2d\u5305\u542b\u7684\u5b9e\u4f8b\u6240\u5f15\u7528\u7684\u52a0\u901f\u7ed3\u6784\u3002\u8fd4\u56de\u7c7b\u578b\u662f\u7b2c 2.17.6 \u8282\u4e2d\u5b9a\u4e49\u7684\u6a21\u677f\u5316\u7c7b\u578b\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\u6a21\u677f <\u7c7b\u578b\u540d\u79f0... \u4ea4\u53c9\u70b9\u6807\u7b7e> \u52a0\u901f\u7ed3\u6784< \u4ea4\u53c9\u70b9\u6807\u7b7e...>\n")),(0,i.kt)("p",null,"\u5982\u679c\u58f0\u660e\u7684\u8fd4\u56de\u7c7b\u578b\u4e0e\u5b9e\u4f8b\u52a0\u901f\u7ed3\u6784\u4e2d\u5305\u542b\u7684\u5b9e\u4f8b\u5f15\u7528\u7684\u52a0\u901f\u7ed3\u6784\u7c7b\u578b\u4e0d\u5339\u914d\uff0c\u5219\u7ed3\u679c\u672a\u5b9a\u4e49\u3002\u4e0d\u4f7f\u7528\u5b9e\u4f8b\u548c/\u6216\u57fa\u5143\u8fd0\u52a8\u6807\u7b7e\u7684\u5b9e\u4f8b\u52a0\u901f\u7ed3\u6784\u53ef\u4ee5\u4f5c\u4e3a\u5305\u542b\u8fd9\u4e9b\u6807\u7b7e\u7684\u52a0\u901f\u7ed3\u6784\u7c7b\u578b\u8fd4\u56de\u3002\u4f8b\u5982\uff0c\u6ca1\u6709\u4efb\u4f55\u8fd0\u52a8\uff08\u5b9e\u4f8b\u6216\u57fa\u5143\uff09\u7684\u5b9e\u4f8b\u52a0\u901f\u7ed3\u6784\u53ef\u4ee5\u8fd4\u56de\u4e3a\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- \u52a0\u901f\u7ed3\u6784<\u5b9e\u4f8b>\n- \u52a0\u901f\u7ed3\u6784<\u5b9e\u4f8b\u3001\u5b9e\u4f8b\u8fd0\u52a8>\n- \u52a0\u901f\u7ed3\u6784<\u5b9e\u4f8b\u3001\u539f\u59cb\u8fd0\u52a8>\n- \u52a0\u901f\u7ed3\u6784<\u5b9e\u4f8b\u3001\u539f\u59cb\u8fd0\u52a8\u3001\u5b9e\u4f8b\u8fd0\u52a8>\n")),(0,i.kt)("p",null,"\u6b64\u529f\u80fd\u5141\u8bb8\u5f00\u53d1\u4eba\u5458\u5728\u4f7f\u7528\u591a\u4e2a\u52a0\u901f\u7ed3\u6784\u7c7b\u578b\u65f6\u907f\u514d\u4e3a\u6bcf\u7ec4\u6807\u7b7e\u63d0\u4f9b\u4e13\u7528\u4ea4\u53c9\u5668\uff0c\u4f46\u7531\u4e8e\u904d\u5386\u4e0d\u9700\u8981\u8fd9\u4e9b\u6807\u7b7e\u7684\u52a0\u901f\u7ed3\u6784\u800c\u5bfc\u81f4\u6f5c\u5728\u7684\u6027\u80fd\u6210\u672c\u3002"),(0,i.kt)("h2",{id:"6182-\u76f8\u4ea4\u76f8\u4ea4\u51fd\u6570"},"6.18.2 \u76f8\u4ea4\u76f8\u4ea4\u51fd\u6570"),(0,i.kt)("p",null,"\u521b\u5efa intersector \u5bf9\u8c61\u540e\uff08\u8bf7\u53c2\u9605\u7b2c 2.17.5 \u8282\uff09\uff0c\u4f60\u53ef\u4ee5\u6839\u636e junction_tags \u7684\u503c\u8c03\u7528\u4ee5\u4e0b intersect \u51fd\u6570\u4e4b\u4e00\u3002"),(0,i.kt)("h2",{id:"\u8868-626\u76f8\u4ea4\u51fd\u6570"},"\u8868 6.26\u3002\u76f8\u4ea4\u51fd\u6570"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"}," \u51fd\u6570")),(0,i.kt)("p",null,"``` \u7ed3\u679c\u7c7b\u578b\u76f8\u4ea4\uff08...\u53c2\u6570...\uff09\u3002````"),(0,i.kt)("p",null,"\u8868 6. 27 \u663e\u793a\u4e86\u76f8\u4ea4\u51fd\u6570\u7684\u53ef\u80fd\u53c2\u6570\u3002\u6240\u6709\u76f8\u4ea4\u51fd\u6570\u90fd\u5fc5\u987b\u5177\u6709 ray \u548c accel_struct \u53c2\u6570\u3002\u5176\u4ed6\u53c2\u6570\u662f\u53ef\u9009\u7684\u3002"),(0,i.kt)("h2",{id:"\u8868-627\u76f8\u4ea4\u51fd\u6570\u8f93\u5165\u53c2\u6570"},"\u8868 6.27\u3002\u76f8\u4ea4\u51fd\u6570\u8f93\u5165\u53c2\u6570"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"}," \u53c2\u6570\u8bf4\u660e")),(0,i.kt)("p",null,"ray (^) \u5c04\u7ebf\u5c5e\u6027 accel",(0,i.kt)("em",{parentName:"p"},"struct (^) Acceleration_struct \u7c7b\u578b\u7684\u52a0\u901f\u7ed3\u6784\u3002mask (^) \u4e0e Metal API MTLAccelerationStructureInstanceDescriptor \u4e2d\u5b9a\u4e49\u7684\u5b9e\u4f8b\u63a9\u7801\u8fdb\u884c AND \u8fd0\u7b97\u7684\u4ea4\u96c6\u63a9\u7801\u3002\u5177\u6709\u4e0d\u91cd\u53e0\u63a9\u7801\u7684\u5b9e\u4f8b\u5c06\u88ab\u8df3\u8fc7\u3002time \u6240\u6709\u64cd\u4f5c\u7cfb\u7edf\uff1a\u81ea Metal 2. 4. \u4e0e\u5c04\u7ebf\u5173\u8054\u7684\u65f6\u95f4\u3002\u5982\u679c\u4ea4\u96c6"),"\u6807\u7b7e\u5177\u6709 primitive_motion \u6216 instance_motion\uff0c\u5219\u8be5\u53c2\u6570\u5b58\u5728\u3002func_table (^) intersection_function_table \u7c7b\u578b\u7684\u4ea4\u96c6\u51fd\u6570\u8868\u3002\u53c2\u89c1\u7b2c 2.17.3 \u8282\u3002Payload (^) \u7528\u6237\u8d1f\u8f7d\u5bf9\u8c61\uff0c\u901a\u8fc7\u5f15\u7528\u4f20\u9012\u3002\u5f53\u7528\u6237\u8c03\u7528 intersect() \u65f6\uff0cpayload \u53c2\u6570\u88ab\u590d\u5236\u5230 ray_data \u5730\u5740\u7a7a\u95f4\u5e76\u4f20\u9012\u7ed9\u4ea4\u96c6\u51fd\u6570\u3002\u7ed3\u679c\u88ab\u590d\u5236\u5230\u4ea4\u96c6\u51fd\u6570\u7684\u51fa\u53e3\uff08\u7b2c 5.1.6 \u8282\uff09\uff0c\u5e76\u4e14\u6709\u6548\u8d1f\u8f7d\u5bf9\u8c61\u88ab\u66f4\u65b0\u3002result_type \u4f7f\u7528 result_type = junction_result;\u4ec5\u5f53 intersect_tags \u6ca1\u6709\u5b9e\u4f8b\u5316\u65f6\uff0c\u4ee5\u4e0b\u4e00\u7ec4 intersect \u51fd\u6570\u624d\u53ef\u7528\uff1aresult_type intersect( ray ray, Primitive_acceleration_struct accel_struct) const; result_type intersect( ray ray, Primitive_acceleration_struct accel_struct, junction_function_table func_table) const;"),(0,i.kt)("p",null,"template result_type intersect( ray ray, Primitive_acceleration_struct accel_struct, junction_function_table func_table, thread T &payload) const;"),(0,i.kt)("p",null,"\u4ec5\u5f53 Intersection_tags \u5177\u6709\u5b9e\u4f8b\u5316\u65f6\uff0c\u4ee5\u4e0b\u4e00\u7ec4\u76f8\u4ea4\u51fd\u6570\u624d\u53ef\u7528\u3002"),(0,i.kt)("p",null,"result_type intersect( ray ray, instance_acceleration_struct accel_struct, uint mask = ~0U) const;"),(0,i.kt)("p",null,"result_type intersect( ray ray, instance_acceleration_struct accel_struct, junction_function_table func_table) const;"),(0,i.kt)("p",null,"template result_type intersect( ray ray, instance_acceleration_struct accel_struct,"),(0,i.kt)("p",null,"intersection_function_table func_table, \u7ebf\u7a0b T &payload) const;"),(0,i.kt)("p",null,"result_type intersect( ray ray, instance_acceleration_struct accel_struct, uint mask,"),(0,i.kt)("p",null,"intersection_function_table<intersection_tags...> func_table) const;"),(0,i.kt)("p",null,"\u6a21\u677f <\u7c7b\u578b\u540d\u79f0 T> \u7ed3\u679c\u7c7b\u578b\u76f8\u4ea4\uff08"),(0,i.kt)("p",null,"ray ray\uff0cinstance_acceleration_struct accel_struct\uff0cuint mask\uff0cintersection_function_table func_table\uff0c\u7ebf\u7a0b T &payload) const;"),(0,i.kt)("p",null,"\u4ece Metal 2.4 \u5f00\u59cb\uff0c\u5982\u679c junction_tags \u5177\u6709 Primitive_motion \u6216 instance_motion\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4e00\u7ec4\u76f8\u4ea4\u51fd\u6570\u3002"),(0,i.kt)("p",null,"template result_type intersect( ray ray, Acceleration_struct Accel_struct, float time) const;"),(0,i.kt)("p",null,"template result_type intersect( ray ray, Acceleration_struct Accel_struct, float time, junction_function_table func_table) const;"),(0,i.kt)("p",null,"\u6a21\u677f result_type intersect( ray ray, Acceleration_struct Accel_struct\uff0c\u6d6e\u70b9\u65f6\u95f4\uff0cintersection_function_table func_table,"),(0,i.kt)("p",null,"\u7ebf\u7a0b T &payload) const;"),(0,i.kt)("p",null,"\u4ece Metal 2.4 \u5f00\u59cb\uff0c\u4ec5\u5f53 junction_tags \u5177\u6709\u5b9e\u4f8b\u5316\u4ee5\u53ca Primitive_motion \u6216 instance_motion \u65f6\uff0c\u4ee5\u4e0b\u4e00\u7ec4\u76f8\u4ea4\u51fd\u6570\u624d\u53ef\u7528\u3002"),(0,i.kt)("p",null,"\u6a21\u677f result_type intersect( ray ray,"),(0,i.kt)("p",null,"Acceleration_struct Accel_struct\uff0cuint \u63a9\u7801 = ~0U\uff0c\u6d6e\u52a8\u65f6\u95f4 = 0.0f) const\uff1b"),(0,i.kt)("p",null,"\u6a21\u677f result_type intersect( ray ray, Acceleration_struct< junction_tags...> Accel_struct, uint mask,"),(0,i.kt)("p",null,"\u6d6e\u52a8\u65f6\u95f4\uff0cintersection_function_table func_table) const;"),(0,i.kt)("p",null,"\u6a21\u677f result_type intersect( ray ray,"),(0,i.kt)("p",null,"Acceleration_struct Accel_struct\uff0cuint \u63a9\u7801\uff0c"),(0,i.kt)("p",null,"\u6d6e\u52a8\u65f6\u95f4\uff0cintersection_function_table func_table\uff0c\u7ebf\u7a0b T &payload) const;"),(0,i.kt)("h2",{id:"6183-\u63a7\u5236\u904d\u5386\u884c\u4e3a\u7684-intersector-\u51fd\u6570"},"6.18.3 \u63a7\u5236\u904d\u5386\u884c\u4e3a\u7684 Intersector \u51fd\u6570"),(0,i.kt)("p",null,"\u6240\u6709\u64cd\u4f5c\u7cfb\u7edf\uff1aMetal 3.1 \u6dfb\u52a0\u4e86\u5bf9\u66f2\u7ebf\u7684\u652f\u6301\u3002"),(0,i.kt)("p",null,"\u8981\u8986\u76d6\u904d\u5386\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u53ef\u4ee5\u4f7f\u7528 intersector \u5bf9\u8c61\u7684\u4ee5\u4e0b\u6210\u5458\u51fd\u6570\u3002"),(0,i.kt)("h2",{id:"\u8868-628\u76f8\u4ea4\u51fd\u6570\u6765\u63a7\u5236\u904d\u5386"},"\u8868 6.28\u3002\u76f8\u4ea4\u51fd\u6570\u6765\u63a7\u5236\u904d\u5386"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u63a7\u5236\u904d\u5386\u884c\u4e3a\u7684\u51fd\u6570")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"void set_triangle_front_faceing_winding(winding)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"void set_geometry_cull_mode(geometry_cull_mode)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"void set_opacity_cull_mode(opacity_cull_mode)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u65e0\u6548force_opacity(forced_opacity)")),(0,i.kt)("p",null,"`",(0,i.kt)("inlineCode",{parentName:"p"}," \u65e0\u6548\u5047\u8bbe_\u51e0\u4f55\u7c7b\u578b\uff08\u51e0\u4f55\u7c7b\u578b\uff09")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u65e0\u6548\u5047\u8bbe_\u8eab\u4efd\u53d8\u6362\uff08\u5e03\u5c14\uff09")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"void accept_any_intersection(bool)")),(0,i.kt)("p",null,"\u4e09\u89d2\u5f62\u6709\u4e24\u4e2a\u8fb9\u6216\u201c\u9762\u201d\u3002\u6b63\u9762\u7ed5\u7ec4\u786e\u5b9a\u4ece\u5c04\u7ebf\u539f\u70b9\u770b\u65f6\u54ea\u4e2a\u4e09\u89d2\u5f62\u9762\u88ab\u89c6\u4e3a\u201c\u6b63\u9762\u201d\u9762\u3002\u5982\u679c\u4ece\u5c04\u7ebf\u539f\u70b9\u770b\uff0c\u9876\u70b9\u6309\u987a\u65f6\u9488\u987a\u5e8f\u51fa\u73b0\uff0c\u5e76\u4e14\u6b63\u9762\u7ed5\u7ebf\u662f\u987a\u65f6\u9488\u65b9\u5411\uff0c\u5219\u53ef\u89c1\u9762\u4e3a\u6b63\u9762\u3002\u53e6\u4e00\u5f20\u8138\u662f\u80cc\u9762\u3002\u5982\u679c\u6b63\u9762\u7ed5\u7ebf\u662f\u9006\u65f6\u9488\u65b9\u5411\uff0c\u5219\u76f8\u53cd\u3002\u4f7f\u7528\u4ee5\u4e0b\u51fd\u6570\u66f4\u6539\u9ed8\u8ba4\u7ed5\u7ebf\uff08\u987a\u65f6\u9488\uff09\uff1a"),(0,i.kt)("p",null,"\u679a\u4e3e\u7c7b\u7f20\u7ed5{"),(0,i.kt)("p",null,"\u987a\u65f6\u9488\uff0c"),(0,i.kt)("p",null,"\u9006\u65f6\u9488"),(0,i.kt)("p",null,"}; void set_triangle_front_faceing_winding(winding w);"),(0,i.kt)("p",null,"\u8981\u66f4\u6539\u9ed8\u8ba4\u7684\u4e09\u89d2\u5f62\u5254\u9664\u6a21\u5f0f\uff08\u65e0\uff09\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u51fd\u6570\u3002"),(0,i.kt)("p",null,"\u679a\u4e3e\u7c7b triangle_cull_mode {\u65e0\uff0c\u524d\u9762\uff0c"),(0,i.kt)("p",null,"\u540e\u9000 };"),(0,i.kt)("p",null,"void set_triangle_cull_mode(triangle_cull_mode tcm);"),(0,i.kt)("p",null,"\u5982\u679c\u5254\u9664\u6a21\u5f0f\u8bbe\u7f6e\u4e3a\u6b63\u9762\uff0c\u5219\u6b63\u9762\u4ece\u5c04\u7ebf\u539f\u70b9\u53ef\u89c1\u7684\u4e09\u89d2\u5f62\u4e0d\u8003\u8651\u76f8\u4ea4\u3002\u5426\u5219\uff0c\u5982\u679c\u5254\u9664\u6a21\u5f0f\u8bbe\u7f6e\u4e3a\u80cc\u9762\uff0c\u5219\u80cc\u9762\u4ece\u5c04\u7ebf\u539f\u70b9\u53ef\u89c1\u7684\u4e09\u89d2\u5f62\u4e0d\u8003\u8651\u76f8\u4ea4\u3002"),(0,i.kt)("p",null,"\u4ee5\u4e0b\u51fd\u6570\u53ef\u7528\u4e8e\u8bbe\u7f6e\u4ea4\u96c6\u4ee5\u4ece\u5019\u9009\u51e0\u4f55\u56fe\u5f62\u96c6\u4e2d\u5254\u9664\u6240\u6709\u8fb9\u754c\u6846\u6216\u4e09\u89d2\u5f62\u57fa\u5143\u3002\u9ed8\u8ba4\u7684\u51e0\u4f55\u5254\u9664\u6a21\u5f0f\u662f\u65e0\u3002"),(0,i.kt)("p",null,"\u679a\u4e3e\u7c7b geometry_cull_mode {\u65e0\uff0c"),(0,i.kt)("p",null,"\u4e09\u89d2\u5f62\u3001bounding_box\u3001\u66f2\u7ebf // \u81ea Metal 3.1 \u8d77"),(0,i.kt)("h3",{id:""},"};"),(0,i.kt)("p",null,"\u65e0\u6548 set_geometry_cull_mode\uff08geometry_cull_mode gcm\uff09\uff1b"),(0,i.kt)("p",null,"\u9ed8\u8ba4\u4e0d\u900f\u660e\u5ea6\u5254\u9664\u6a21\u5f0f\u4e3a\u65e0\u3002\u4f7f\u7528\u4ee5\u4e0b\u51fd\u6570\u66f4\u6539\u4e0d\u900f\u660e\u5ea6\u3002\u8bf7\u53c2\u9605\u4e0b\u6587\uff0c\u4e86\u89e3\u4e0d\u900f\u660e\u5ea6\u5c06\u5982\u4f55\u5f71\u54cd\u4e09\u89d2\u5f62\u548c\u8fb9\u754c\u6846\u56fe\u5143\u3002"),(0,i.kt)("p",null,"\u679a\u4e3e\u7c7b opacity_cull_mode { none, opaque, non_opaque };"),(0,i.kt)("p",null,"\u65e0\u6548 set_opacity_cull_mode\uff08opacity_cull_mode ocm\uff09\uff1b"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u8986\u76d6\u6bcf\u4e2a\u5b9e\u4f8b\u548c\u6bcf\u4e2a\u51e0\u4f55\u56fe\u5f62\u7684\u5f3a\u5236\u5bb9\u91cf\u8bbe\u7f6e\u3002\u9ed8\u8ba4\u503c\u662f\u65e0\u3002"),(0,i.kt)("p",null,"\u679a\u4e3e\u7c7b forced_opacity {"),(0,i.kt)("p",null,"\u65e0\u3001\u4e0d\u900f\u660e\u3001non_opaque };"),(0,i.kt)("p",null,"\u65e0\u6548 force_opacity\uff08forced_opacity fo\uff09\uff1b"),(0,i.kt)("p",null,"\u4e09\u89d2\u5f62\u57fa\u5143\u4e5f\u53ef\u4ee5\u6839\u636e\u5176\u4e0d\u900f\u660e\u5ea6\u8fdb\u884c\u5254\u9664\uff1a\u4e0d\u900f\u660e\u4e09\u89d2\u5f62\u5c06\u4e0d\u4f1a\u8fd0\u884c\u4efb\u4f55\u4ea4\u96c6\u51fd\u6570\u3002\u975e\u4e0d\u900f\u660e\u4e09\u89d2\u5f62\u5c06\u8fd0\u884c\u5176\u4ea4\u96c6\u51fd\u6570\u6765\u63a5\u53d7\u6216\u62d2\u7edd\u547d\u4e2d\u3002"),(0,i.kt)("p",null,"PrimitiveAccelerationStructure \u901a\u8fc7\u58f0\u660e MTLAccelerationStructureGeometryFlagOpaque \u6765\u7f16\u7801\u4e09\u89d2\u5f62\u662f\u4e0d\u900f\u660e\u8fd8\u662f\u975e\u4e0d\u900f\u660e\u3002\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 intersector.force_opacity() \u6765\u8986\u76d6\u4e0d\u900f\u660e\u5ea6\u3002\u5982\u679c\u4f7f\u7528\uff0c\u5b83\u5c06\u4f18\u5148\u4e8e\u6bcf\u4e2a\u5b9e\u4f8b\u7684\u4e0d\u900f\u660e\u6027\u6807\u5fd7\uff08MTLAccelerationStructureInstanceFlagOpaque \u548c MTLAccelerationStructureInstanceFlagNonOpaque\uff09\uff0c\u800c\u540e\u8005\u53c8\u4f18\u5148\u4e8e\u6bcf\u4e2a\u51e0\u4f55\u4f53\u7684\u4e0d\u900f\u660e\u6027\u3002"),(0,i.kt)("p",null,"\u5bf9\u4e8e\u81ea\u5b9a\u4e49\u8fb9\u754c\u6846\u57fa\u5143\uff0c\u5c06\u4ee5\u4e0e\u4e09\u89d2\u5f62\u76f8\u540c\u7684\u65b9\u5f0f\u8bc4\u4f30\u4e0d\u900f\u660e\u5ea6\uff08\u9996\u5148\u662f intersector.set_opacity_cull_mode()\uff0c\u7136\u540e\u662f InstanceFlags\uff0c\u7136\u540e\u662f GeometryFlags\uff09\u3002\u4e0d\u900f\u660e\u53c2\u6570\u901a\u77e5\u8fb9\u754c\u6846\u76f8\u4ea4\u7a0b\u5e8f\u5df2\u89e3\u6790\u7684\u4e0d\u900f\u660e\u72b6\u6001\u3002\u7136\u540e\uff0c\u4ea4\u96c6\u51fd\u6570\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u5f71\u54cd\u5176\u5bf9\u662f\u5426\u9047\u5230\u547d\u4e2d\u7684\u8bc4\u4f30\u3002"),(0,i.kt)("p",null,"intersector.set_opacity_cull_mode() \u5c06\u6839\u636e\u539f\u59cb\u7c7b\u578b\u7684\u4e0d\u900f\u660e\u6027\u8df3\u8fc7\u5b83\u4eec\u3002"),(0,i.kt)("p",null,"\u5982\u679c intersector.force_opacity() \u8bbe\u7f6e\u4e3a opaque \u6216 non_opaque\uff0c\u5219 intersector.set_opacity_cull_mode() \u5fc5\u987b\u4e3a none\u3002\u53cd\u4e4b\u4ea6\u7136\uff1a\u4e0d\u900f\u660e\u5ea6\u8986\u76d6\u548c\u4e0d\u900f\u660e\u5ea6\u5254\u9664\u4e0d\u80fd\u6df7\u5408\u4f7f\u7528\u3002\u975e\u6cd5\u7ec4\u5408\u7684\u7ed3\u679c\u662f\u4e0d\u786e\u5b9a\u7684\u3002"),(0,i.kt)("p",null,"\u4f7f\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u58f0\u660e\u52a0\u901f\u7ed3\u6784\u662f\u5426\u5305\u542b\u4e09\u89d2\u5f62\u3001\u8fb9\u754c\u6846\u548c/\u6216\u66f2\u7ebf\u51e0\u4f55\u4f53\u3002\u9ed8\u8ba4\u51e0\u4f55\u4f53\u662f geometry_type::triangle |\u51e0\u4f55\u7c7b\u578b::\u8fb9\u754c\u6846\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cMetal \u5047\u8bbe\u52a0\u901f\u7ed3\u6784\u4e0d\u5305\u542b\u66f2\u7ebf\u51e0\u4f55\u4f53\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002\u4f7f\u7528\u5305\u542b geometry_type::curve \u7684\u503c\u8c03\u7528 assume_geometry_type\uff0c\u4ee5\u4f7f\u66f2\u7ebf\u80fd\u591f\u5728\u76f8\u4ea4\u8c03\u7528\u6216\u76f8\u4ea4\u67e5\u8be2\u6b65\u9aa4\u4e2d\u76f8\u4ea4\u3002"),(0,i.kt)("p",null,"\u679a\u4e3e\u7c7b geometry_type {\u65e0\uff0c\u4e09\u89d2\u5f62\uff0cbounding_box\uff0c"),(0,i.kt)("p",null,"curve, // \u81ea Metal 3.1 \u8d77\u5168\u90e8 };"),(0,i.kt)("p",null,"\u65e0\u6548\u5047\u8bbe",(0,i.kt)("em",{parentName:"p"},"\u51e0\u4f55"),"\u7c7b\u578b\uff08\u51e0\u4f55","_","\u7c7b\u578b GT\uff09"),(0,i.kt)("p",null,"\u8981\u5c06\u76f8\u4ea4\u5bf9\u8c61\u8bbe\u7f6e\u4e3a\u91c7\u7528\u8bc6\u522b\u53d8\u6362\uff0c\u8bf7\u4f7f\u7528\u503c true \u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u3002\u9ed8\u8ba4\u4e3a false\u3002"),(0,i.kt)("p",null,"\u65e0\u6548\u5047\u8bbe",(0,i.kt)("em",{parentName:"p"},"\u8eab\u4efd"),"\u53d8\u6362\uff08\u5e03\u5c14\u503c\uff09\uff1b"),(0,i.kt)("p",null,"\u8981\u5c06\u4ea4\u96c6\u5bf9\u8c61\u8bbe\u7f6e\u4e3a\u7acb\u5373\u8fd4\u56de\u5b83\u627e\u5230\u7684\u7b2c\u4e00\u4e2a\u4ea4\u96c6\uff0c\u8bf7\u4f7f\u7528\u503c true \u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u3002\u9ed8\u8ba4\u4e3a false\u3002\u6b64\u51fd\u6570\u7684\u7528\u9014\u4e4b\u4e00\u662f\u5f53\u4f60\u53ea\u9700\u8981\u77e5\u9053\u4e00\u4e2a\u70b9\u4ece\u53e6\u4e00\u70b9\u662f\u5426\u53ef\u89c1\u65f6\uff0c\u4f8b\u5982\u6e32\u67d3\u9634\u5f71\u6216\u73af\u5883\u5149\u906e\u6321\u65f6\u3002"),(0,i.kt)("p",null,"\u65e0\u6548 accept_any_intersection\uff08\u5e03\u5c14\u503c\uff09\uff1b"),(0,i.kt)("p",null,"\u4ece Metal 3.1 \u5f00\u59cb\uff0c\u4f7f\u7528\u4ee5\u4e0b\u51fd\u6570\u4e3a intersector \u548c intersection_query \u6dfb\u52a0\u63d0\u793a\uff0c\u6307\u5b9a\u66f2\u7ebf\u57fa\u7840\u3001\u63a7\u5236\u70b9\u6570\u91cf\u548c\u66f2\u7ebf\u7c7b\u578b\uff0c\u4ee5\u4f18\u5316\u7279\u5b9a\u66f2\u7ebf\u7c7b\u578b\u7684\u904d\u5386\u3002"),(0,i.kt)("p",null,"\u8bf7\u6ce8\u610f\uff0ccurve_basis \u662f\u4e00\u4e2a\u679a\u4e3e\u800c\u4e0d\u662f\u4f4d\u63a9\u7801\u3002"),(0,i.kt)("p",null,"\u679a\u4e3e\u7c7b curve_basis { bspline, catmull_rom, \u7ebf\u6027, \u8d1d\u585e\u5c14\u66f2\u7ebf, all, };"),(0,i.kt)("p",null,"\u679a\u4e3e\u7c7b curve_type { round, flat, all, };"),(0,i.kt)("p",null,"\u4f7f\u7528\u4ee5\u4e0b\u51fd\u6570\u8bbe\u7f6e\u8981\u5047\u8bbe\u7684\u66f2\u7ebf\u57fa\u51fd\u6570\u3002\u9ed8\u8ba4\u4e3a curve_basis::all\uff0c\u8fd9\u610f\u5473\u7740\u5c06\u542f\u7528\u6240\u6709\u66f2\u7ebf\u57fa\u51fd\u6570\u3002"),(0,i.kt)("p",null,"\u65e0\u6548\u5047\u8bbe",(0,i.kt)("em",{parentName:"p"},"\u66f2\u7ebf"),"\u57fa\u7840\uff08\u66f2\u7ebf","_","\u57fa\u7840 cb\uff09"),(0,i.kt)("p",null,"\u4f7f\u7528\u4ee5\u4e0b\u51fd\u6570\u8bbe\u7f6e\u8981\u5047\u5b9a\u7684\u66f2\u7ebf\u7c7b\u578b\u3002\u9ed8\u8ba4\u4e3a curve_type::all\uff0c\u8fd9\u610f\u5473\u7740\u4e24\u79cd\u66f2\u7ebf\u7c7b\u578b\u90fd\u5c06\u542f\u7528\u3002"),(0,i.kt)("p",null,"\u65e0\u6548\u5047\u8bbe",(0,i.kt)("em",{parentName:"p"},"\u66f2\u7ebf"),"\u7c7b\u578b\uff08\u66f2\u7ebf","_","\u7c7b\u578b ct\uff09"),(0,i.kt)("p",null,"\u4f7f\u7528\u4ee5\u4e0b\u51fd\u6570\u8bbe\u7f6e\u8981\u5047\u5b9a\u7684\u66f2\u7ebf\u63a7\u5236\u70b9\u7684\u6570\u91cf\u3002\u9ed8\u8ba4\u4e3a 0\uff0c\u8fd9\u610f\u5473\u7740\u5c06\u542f\u7528\u4efb\u610f\u6570\u91cf\u7684\u63a7\u5236\u70b9\uff08\u9002\u7528\u4e8e\u5047\u8bbe\u7684\u66f2\u7ebf\u57fa\u7840\uff08\u5982\u679c\u6709\uff09\uff09\u3002\u5176\u4ed6\u6709\u6548\u9009\u9879\u4e3a 2\u30013 \u6216 4\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u66f2\u7ebf\u57fa\u7840\u3002"),(0,i.kt)("p",null,"\u65e0\u6548\u5047\u8bbe",(0,i.kt)("em",{parentName:"p"},"\u66f2\u7ebf"),"\u63a7\u5236",(0,i.kt)("em",{parentName:"p"},"\u70b9"),"\u8ba1\u6570\uff08uint n\uff09"),(0,i.kt)("h2",{id:"6184-\u8def\u53e3\u67e5\u8be2\u51fd\u6570"},"6.18.4 \u8def\u53e3\u67e5\u8be2\u51fd\u6570"),(0,i.kt)("p",null,"\u6240\u6709\u64cd\u4f5c\u7cfb\u7edf\uff1a\u81ea Metal 2. 4 \u8d77\u652f\u6301\u4ea4\u53c9\u53e3\u67e5\u8be2"),(0,i.kt)("p",null,"\u6240\u6709\u64cd\u4f5c\u7cfb\u7edf\uff1a\u81ea Metal 3.1 \u8d77\u4ea4\u53c9\u70b9\u67e5\u8be2\u652f\u6301\u66f2\u7ebf"),(0,i.kt)("p",null,"\u8981\u5f00\u59cb\u904d\u5386\u5e76\u67e5\u8be2\u904d\u5386\u7279\u5b9a\u4fe1\u606f\uff0c\u8bf7\u4f7f\u7528\u975e\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u4ea4\u96c6\u67e5\u8be2\u5bf9\u8c61\uff08\u8bf7\u53c2\u9605\u7b2c 2.17.7 \u8282\uff09\u6216\u9996\u5148\u8c03\u7528 reset(...)\u3002\u5982\u679c\u672a\u6309\u6b64\u987a\u5e8f\u8c03\u7528\uff0c\u5219\u884c\u4e3a\u672a\u5b9a\u4e49\u3002"),(0,i.kt)("p",null,"\u8868 6. 29 \u3001\u8868 6. 31 \u548c\u8868 6. 32 \u663e\u793a\u4e86\u53ef\u4ee5\u6839\u636e\u904d\u5386\u671f\u95f4\u9047\u5230\u7684\u51e0\u4f55\u7c7b\u578b\u8c03\u7528\u7684\u51fd\u6570\u5217\u8868\uff0c\u5047\u8bbe next() \u8fd4\u56de true\u3002\u8bf7\u6ce8\u610f\uff0c\u67d0\u4e9b\u51fd\u6570\u662f\u6210\u5bf9\u51fa\u73b0\u7684\uff1a\u5019\u9009\u51fd\u6570\u548c\u5df2\u63d0\u4ea4\u7684\u539f\u8bed\u3002\u5f53\u7b2c\u4e00\u6b21\u8c03\u7528 next() \u65f6\uff0c\u904d\u5386\u540e\u62a5\u544a\u7684\u56fe\u5143\u59cb\u7ec8\u662f\u5019\u9009\u8005\uff0c\u76f4\u5230\u7528\u6237\u901a\u8fc7\u5728\u67e5\u8be2\u5bf9\u8c61\u4e0a\u8c03\u7528 commit_triangle_intersection()\u3001commit_bounding_box_intersection() \u6216 commit_curve_intersection() \u63d0\u4ea4\u56fe\u5143\u3002\u8bf7\u6ce8\u610f\uff0c\u5728\u6ca1\u6709\u7528\u6237\u76f8\u4ea4\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u6d4b\u8bd5\u7684\u4e0d\u900f\u660e\u4e09\u89d2\u5f62\u5728\u76f8\u4ea4\u65f6\u4f1a\u81ea\u52a8\u63d0\u4ea4\u3002"),(0,i.kt)("h2",{id:"\u8868-629\u8def\u53e3\u67e5\u8be2\u529f\u80fd"},"\u8868 6.29\u3002\u8def\u53e3\u67e5\u8be2\u529f\u80fd"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u51fd\u6570\u4e09\u89d2\u5f62\u8fb9\u754c\u66f2\u7ebf")),(0,i.kt)("p",null,"void Reset(...) (^) ","*"," ","*"," ",(0,i.kt)("em",{parentName:"p"}," bool next() (^) ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," void abort() (^) ")," ","*"," ","*"," junction_type get_candidate_intersection_type()"),(0,i.kt)("h3",{id:"--"},"*"," ","*"," ","*"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"junction_type get_commissed_intersection_type()")),(0,i.kt)("h3",{id:"---1"},"*"," ","*"," ","*"),(0,i.kt)("p",null,"void commit_triangle_intersection() (^) ","*"," void commit_bounding_box_intersection(\u6d6e\u52a8\u8ddd\u79bb)"),(0,i.kt)("p",null,"###","*"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"void commit_curve_intersection() \u81ea Metal 3.1")),(0,i.kt)("p",null,"###","*"),(0,i.kt)("p",null,"\u4ece Metal 3.1 \u5f00\u59cb\uff0c\u5f53\u4f7f\u7528 max_levels \u4ea4\u96c6\u6807\u7b7e\u6307\u5b9a\u65f6\uff0c\u4ea4\u96c6\u67e5\u8be2\u652f\u6301\u4ee5\u4e0b\u51fd\u6570\u3002"),(0,i.kt)("h2",{id:"\u8868-630\u4f7f\u7528-max_levels-\u7684\u4ea4\u96c6\u67e5\u8be2\u51fd\u6570"},"\u8868 6.30\u3002\u4f7f\u7528 max_levels \u7684\u4ea4\u96c6\u67e5\u8be2\u51fd\u6570"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u51fd\u6570\u4e09\u89d2\u5f62\u8fb9\u754c\u66f2\u7ebf")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"uint get_candidate_instance_count() \u81ea Metal 3.1")),(0,i.kt)("h3",{id:"---2"},"*"," ","*"," ","*"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"uint get_candidate_instance_id(uint depth) \u81ea Metal 3.1")),(0,i.kt)("h3",{id:"---3"},"*"," ","*"," ","*"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"uint get_candidate_user_instance_id(uint depth) \u81ea Metal 3.1")),(0,i.kt)("h3",{id:"---4"},"*"," ","*"," ","*"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"uint get_commissed_instance_count() \u81ea Metal 3.1")),(0,i.kt)("h3",{id:"---5"},"*"," ","*"," ","*"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"uint get_commissed_instance_id(uint depth) \u81ea Metal 3.1")),(0,i.kt)("h3",{id:"---6"},"*"," ","*"," ","*"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"uint get_commissed_user_instance_id(uint depth) \u81ea Metal 3.1")),(0,i.kt)("h3",{id:"---7"},"*"," ","*"," ","*"),(0,i.kt)("h2",{id:"\u8868-631\u4ea4\u70b9\u67e5\u8be2\u5c04\u7ebf\u503c\u51fd\u6570"},"\u8868 6.31\u3002\u4ea4\u70b9\u67e5\u8be2\u5c04\u7ebf\u503c\u51fd\u6570"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u5149\u7ebf\u503c\u51fd\u6570\u4e09\u89d2\u5f62\u8fb9\u754c\u66f2\u7ebf")),(0,i.kt)("p",null,"float3 get",(0,i.kt)("em",{parentName:"p"},"world_space_ray_origin() (^) ","*"," ","*"," ")," float3 get",(0,i.kt)("em",{parentName:"p"},"world_space_ray_direction() (^) ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," float get_ray_min_distance() (^) ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," junction_params get_intersection_params() (^) ")," ","*"," ","*"),(0,i.kt)("h2",{id:"\u8868-632\u4ea4\u96c6\u67e5\u8be2\u5019\u9009\u503c\u51fd\u6570"},"\u8868 6.32\u3002\u4ea4\u96c6\u67e5\u8be2\u5019\u9009\u503c\u51fd\u6570"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u5019\u9009\u4ea4\u70b9\u503c\u51fd\u6570\u4e09\u89d2\u5f62\u8fb9\u754c\u66f2\u7ebf")),(0,i.kt)("p",null,"float get",(0,i.kt)("em",{parentName:"p"},"candidate_triangle_distance() (^) ")," uint get",(0,i.kt)("em",{parentName:"p"},"candidate_instance_id() ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," uint get_candidate_user_instance_id() (^) ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," uint get_candidate_geometry_id() (^) ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," uint get_candidate_primitive_id() (^) ")," ","*"," ","*"," float2 get_candidate_triangle_barycentric_coord()"),(0,i.kt)("p",null,"###","*"),(0,i.kt)("p",null,"bool is",(0,i.kt)("em",{parentName:"p"},"candidate_non_opaque_bounding_box() (^) ")," bool is",(0,i.kt)("em",{parentName:"p"},"candidate_triangle_front_faceing() (^) ")," float4x3 get_candidate_object_to_world_transform()"),(0,i.kt)("h3",{id:"---8"},"*"," ","*"," ","*"),(0,i.kt)("p",null,"float4x3 get_candidate_world_to_object_transform()"),(0,i.kt)("h3",{id:"---9"},"*"," ","*"," ","*"),(0,i.kt)("p",null,"float3 get",(0,i.kt)("em",{parentName:"p"},"candidate_ray_origin() (^) ","*"," ","*"," ")," float3 get",(0,i.kt)("em",{parentName:"p"},"candidate_ray_direction() (^) ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," const device void ")," get_candidate_primitive_data() \u81ea Metal 3 \u8d77"),(0,i.kt)("h3",{id:"---10"},"*"," ","*"," ","*"),(0,i.kt)("h2",{id:"\u8868-633\u76f8\u4ea4\u67e5\u8be2\u63d0\u4ea4\u503c\u51fd\u6570"},"\u8868 6.33\u3002\u76f8\u4ea4\u67e5\u8be2\u63d0\u4ea4\u503c\u51fd\u6570"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u627f\u8bfa\u4ea4\u70b9\u503c\u51fd\u6570\u4e09\u89d2\u5f62\u8fb9\u754c\u66f2\u7ebf")),(0,i.kt)("p",null,"float get",(0,i.kt)("em",{parentName:"p"},"commissed_distance() (^) ","*"," ","*"," ")," uint get",(0,i.kt)("em",{parentName:"p"},"commissed_instance_id() (^) ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," uint get_commissed_user_instance_id() (^) ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," uint get_commissed_geometry_id() (^) ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," uint get_commissed_primitive_id() ( ^) ")," ","*"," ","*"," float2 get_comfilled_triangle_barycentric_coord()"),(0,i.kt)("p",null,"###","*"),(0,i.kt)("p",null,"bool is_commited_triangle_front_face() (^) ","*"," float4x3 get_comfilled_object_to_world_transform()"),(0,i.kt)("h3",{id:"---11"},"*"," ","*"," ","*"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"float4x3 get_comfilled_world_to_object_transform()")),(0,i.kt)("h3",{id:"---12"},"*"," ","*"," ","*"),(0,i.kt)("p",null,"float3 get",(0,i.kt)("em",{parentName:"p"},"commissed_ray_origin() (^) ","*"," ","*"," ")," float3 get",(0,i.kt)("em",{parentName:"p"},"comfilled_ray_direction() (^) ")," ","*"," ",(0,i.kt)("em",{parentName:"p"}," const device void ")," get_comfilled_primitive_data() \u81ea Metal 3 \u8d77"),(0,i.kt)("h3",{id:"---13"},"*"," ","*"," ","*"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"float get_candidate_curve_parameter() \u81ea Metal 3.1")),(0,i.kt)("p",null,"###","*"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"float get_commissed_curve_parameter() \u81ea Metal 3.1")),(0,i.kt)("p",null,"###","*"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u9700\u8981\u8003\u8651\u7684\u5019\u9009\u4e09\u89d2\u5f62\u547d\u4e2d\u7684\u8ddd\u79bb\u3002"),(0,i.kt)("p",null,"float get_candidate_triangle_distance()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5f53\u524d\u63d0\u4ea4\u7684\u547d\u4e2d\u8ddd\u79bb\u3002"),(0,i.kt)("p",null,"\u6d6e\u52a8 get_commited_distance()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5f53\u524d\u5019\u9009\u547d\u4e2d\u7684\u9876\u7ea7\u7ed3\u6784\u5b9e\u4f8b ID\u3002"),(0,i.kt)("p",null,"uint get_candidate_instance_id()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5f53\u524d\u5019\u9009\u547d\u4e2d\u7684\u5e95\u5c42\u52a0\u901f\u7ed3\u6784\u4e0a\u7528\u6237\u63d0\u4f9b\u7684\u7528\u6237\u5b9e\u4f8b ID\u3002"),(0,i.kt)("p",null,"uint get_candidate_user_instance_id()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5f53\u524d\u5019\u9009\u547d\u4e2d\u7684\u5e95\u5c42\u7ed3\u6784\u51e0\u4f55 ID\u3002"),(0,i.kt)("p",null,"uint get_candidate_geometry_id()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u5f53\u524d\u5019\u9009\u547d\u4e2d\u7684\u51e0\u4f55\u56fe\u5f62\u4e2d\u7684\u5e95\u5c42\u7ed3\u6784\u56fe\u5143 ID\u3002"),(0,i.kt)("p",null,"uint get_candidate_primitive_id()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5f53\u524d\u63d0\u4ea4\u547d\u4e2d\u7684\u9876\u7ea7\u7ed3\u6784\u5b9e\u4f8b ID\u3002"),(0,i.kt)("p",null,"uint get_commited_instance_id()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u7528\u6237\u5728\u5e95\u5c42\u52a0\u901f\u7ed3\u6784\u4e0a\u63d0\u4f9b\u7684\u5f53\u524d\u63d0\u4ea4\u547d\u4e2d\u7684\u7528\u6237\u5b9e\u4f8b ID\u3002"),(0,i.kt)("p",null,"uint get_commited_user_instance_id()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5f53\u524d\u63d0\u4ea4\u547d\u4e2d\u7684\u5e95\u5c42\u7ed3\u6784\u51e0\u4f55 ID\u3002"),(0,i.kt)("p",null,"uint get_commited_geometry_id()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u5f53\u524d\u63d0\u4ea4\u547d\u4e2d\u7684\u51e0\u4f55\u4f53\u4e2d\u7684\u5e95\u5c42\u7ed3\u6784\u56fe\u5143 ID\u3002"),(0,i.kt)("p",null,"uint get_commissed_primitive_id()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u5f53\u524d\u5019\u9009\u547d\u4e2d\u5bf9\u8c61\u7a7a\u95f4\u4e2d\u7684\u5c04\u7ebf\u539f\u70b9\u3002"),(0,i.kt)("p",null,"float3 get_candidate_ray_origin()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u5f53\u524d\u547d\u4e2d\u5019\u9009\u5bf9\u8c61\u7a7a\u95f4\u4e2d\u7684\u5c04\u7ebf\u65b9\u5411\u3002"),(0,i.kt)("p",null,"float3 get_candidate_ray_direction()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u5f53\u524d\u63d0\u4ea4\u547d\u4e2d\u7684\u5bf9\u8c61\u7a7a\u95f4\u4e2d\u7684\u5c04\u7ebf\u539f\u70b9\u3002"),(0,i.kt)("p",null,"float3 get_commited_ray_origin()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u5f53\u524d\u63d0\u4ea4\u547d\u4e2d\u7684\u5bf9\u8c61\u7a7a\u95f4\u4e2d\u7684\u5149\u7ebf\u65b9\u5411\u3002"),(0,i.kt)("p",null,"float3 get_commissed_ray_direction()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u77e9\u9635\uff0c\u4ee5\u5c06\u5f53\u524d\u547d\u4e2d\u5019\u9009\u7684\u5c04\u7ebf\u539f\u70b9/\u65b9\u5411\u4ece\u5bf9\u8c61\u7a7a\u95f4\u8f6c\u6362\u4e3a\u4e16\u754c\u7a7a\u95f4\u3002"),(0,i.kt)("p",null,"float4x3 get_candidate_object_to_world_transform()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u77e9\u9635\uff0c\u4ee5\u5c06\u5f53\u524d\u5019\u9009\u547d\u4e2d\u7684\u5c04\u7ebf\u539f\u70b9/\u65b9\u5411\u4ece\u4e16\u754c\u7a7a\u95f4\u8f6c\u6362\u4e3a\u5bf9\u8c61\u7a7a\u95f4\u3002"),(0,i.kt)("p",null,"float4x3 get_candidate_world_to_object_transform()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u77e9\u9635\uff0c\u4ee5\u5c06\u5f53\u524d\u63d0\u4ea4\u7684\u547d\u4e2d\u7684\u5c04\u7ebf\u539f\u70b9/\u65b9\u5411\u4ece\u5bf9\u8c61\u7a7a\u95f4\u8f6c\u6362\u4e3a\u4e16\u754c\u7a7a\u95f4\u3002float4x3 get_commited_object_to_world_transform()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u77e9\u9635\uff0c\u4ee5\u5c06\u5f53\u524d\u63d0\u4ea4\u7684\u547d\u4e2d\u7684\u5149\u7ebf\u539f\u70b9/\u65b9\u5411\u4ece\u4e16\u754c\u7a7a\u95f4\u8f6c\u6362\u4e3a\u5bf9\u8c61\u7a7a\u95f4\u3002"),(0,i.kt)("p",null,"float4x3 get_commited_world_to_object_transform()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5019\u9009\u547d\u4e2d\u4f4d\u7f6e\u91cd\u5fc3\u5750\u6807\u3002\u5f53 get_candidate_intersection_type() \u8fd4\u56de\u4e09\u89d2\u5f62\u65f6\u6709\u6548\u3002"),(0,i.kt)("p",null,"float2 get_candidate_triangle_barycentric_coord()"),(0,i.kt)("p",null,"\u5bf9\u4e8e\u9876\u70b9\u5c5e\u6027 v0\u3001v1 \u548c v2\uff0c\u6307\u5b9a\u91cd\u5fc3\u70b9\u5904\u7684\u503c\u4e3a\uff1av1 ",(0,i.kt)("em",{parentName:"p"}," barycentric_coord.x + v2 ")," barycentric_coord.y + v0 ","*"," (1.0f - (barycentric_coord.x + barycentric_coord.y))"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u63d0\u4ea4\u7684\u547d\u4e2d\u4f4d\u7f6e\u91cd\u5fc3\u5750\u6807\u3002\u5f53 get_commited_intersection_type() \u8fd4\u56de\u4e09\u89d2\u5f62\u65f6\u6709\u6548\u3002"),(0,i.kt)("p",null,"float2 get_commited_triangle_barycentric_coord()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u547d\u4e2d\u4e09\u89d2\u5f62\u5019\u9009\u5bf9\u8c61\u662f\u6b63\u9762\u8fd8\u662f\u80cc\u9762\u3002\u5982\u679c\u662f\u6b63\u9762\u5219\u8fd4\u56de true\uff0c\u5982\u679c\u662f\u80cc\u9762\u5219\u8fd4\u56de false\u3002\u5f53 get_candidate_intersection_type() \u8fd4\u56de\u4e09\u89d2\u5f62\u65f6\u6709\u6548\u3002"),(0,i.kt)("p",null,"bool is_candidate_triangle_front_face()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u63d0\u4ea4\u7684\u547d\u4e2d\u662f\u6b63\u9762\u8fd8\u662f\u80cc\u9762\u3002\u5982\u679c\u662f\u6b63\u9762\u5219\u8fd4\u56de true\uff0c\u5982\u679c\u662f\u80cc\u9762\u5219\u8fd4\u56de false\u3002\u5f53 get_commited_intersection_type() \u8fd4\u56de\u4e09\u89d2\u5f62\u65f6\u6709\u6548\u3002"),(0,i.kt)("p",null,"bool is_commissed_triangle_front_faceing()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u5f53\u524d\u5019\u9009\u56fe\u5143\u7684\u6bcf\u4e2a\u56fe\u5143\u6570\u636e\u3002"),(0,i.kt)("p",null,"const device void ","*","get_candidate_primitive_data()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u67e5\u8be2\u5f53\u524d\u63d0\u4ea4\u547d\u4e2d\u7684\u6bcf\u4e2a\u57fa\u5143\u6570\u636e\u3002"),(0,i.kt)("p",null,"const device void ","*","get_comfilled_primitive_data()"),(0,i.kt)("p",null,"\u4ece Metal 3.1 \u5f00\u59cb\uff0c\u5f53 get_candidate_intersection_type() \u8fd4\u56de curve \u5e76\u4e14\u4ea4\u96c6\u6807\u7b7e\u5177\u6709 curve_data \u65f6\uff0c\u53ef\u4ee5\u8c03\u7528\u4ee5\u4e0b\u4e24\u4e2a\u51fd\u6570\uff1a"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u8be2\u5f53\u524d\u5019\u9009\u66f2\u7ebf\u7684\u66f2\u7ebf\u53c2\u6570\u3002"),(0,i.kt)("p",null,"float get_candidate_curve_parameter()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u8be2\u5f53\u524d\u63d0\u4ea4\u7684\u4ea4\u70b9\u7684\u66f2\u7ebf\u53c2\u6570\u3002\u5f53 get_candidate_intersection_type() \u8fd4\u56de\u66f2\u7ebf\u65f6\u6709\u6548\u3002"),(0,i.kt)("p",null,"float get_commited_curve_parameter()"),(0,i.kt)("p",null,"\u4ece Metal 3.1 \u5f00\u59cb\uff0c\u5f53\u4ea4\u96c6\u6807\u7b7e\u5177\u6709 max_levels \u65f6\uff0c\u53ef\u4ee5\u8c03\u7528\u672c\u8282\u4e2d\u7684\u5176\u4f59\u51fd\u6570\uff1a"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5019\u9009\u4ea4\u96c6\u7684\u5b9e\u4f8b\u6570\u3002"),(0,i.kt)("p",null,"uint get_candidate_instance_count()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5019\u9009\u4ea4\u96c6\u7684\u7ea7\u522b\u6df1\u5ea6\u7684\u5b9e\u4f8b ID\u3002"),(0,i.kt)("p",null,"uint get_candidate_instance_id\uff08uint \u6df1\u5ea6\uff09"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5019\u9009\u4ea4\u96c6\u7684\u7ea7\u522b\u6df1\u5ea6\u7684\u7528\u6237\u5b9e\u4f8b ID\u3002"),(0,i.kt)("p",null,"uint get_candidate_user_instance_id\uff08uint \u6df1\u5ea6\uff09"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u5df2\u63d0\u4ea4\u4ea4\u96c6\u7684\u5b9e\u4f8b\u6570\u3002"),(0,i.kt)("p",null,"uint get_commissed_instance_count()"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u63d0\u4ea4\u4ea4\u96c6\u7684\u7ea7\u522b\u6df1\u5ea6\u7684\u5b9e\u4f8b ID\u3002"),(0,i.kt)("p",null,"uint get_commited_instance_id\uff08uint \u6df1\u5ea6\uff09"),(0,i.kt)("p",null,"\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u67e5\u8be2\u63d0\u4ea4\u4ea4\u96c6\u7684\u7ea7\u522b\u6df1\u5ea6\u7684\u7528\u6237\u5b9e\u4f8b ID\u3002"),(0,i.kt)("p",null,"uint get_commited_user_instance_id(uint \u6df1\u5ea6);"),(0,i.kt)("h2",{id:"6185-\u95f4\u63a5\u5b9e\u4f8b\u63cf\u8ff0\u7b26"},"6.18.5 \u95f4\u63a5\u5b9e\u4f8b\u63cf\u8ff0\u7b26"),(0,i.kt)("p",null,"\u4ece Metal 3.1 \u5f00\u59cb\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u4ece GPU \u586b\u5199\u95f4\u63a5\u5b9e\u4f8b\u63cf\u8ff0\u7b26\u3002Metal \u63d0\u4f9b\u4e86\u4ee5\u4e0b\u7c7b\u578b\u5b9a\u4e49\uff1a"),(0,i.kt)("p",null,"\u679a\u4e3e MTLAccelerationStructureInstanceOptions : uint { MTLAccelerationStructureInstanceOptionNone = 0, MTLAccelerationStructureInstanceOptionDisableTriangleCulling = (1 << 0),"),(0,i.kt)("p",null,"MTLAccelerationStructureInstanceOptionTriangleFrontFacingWindingCounterClockwise = (1 << 1), MTLAccelerationStructureInstanceOptionOpaque = (1 << 2), MTLAccelerationStructureInstanceOptionNonOpaque = (1 << 3), };"),(0,i.kt)("p",null,"typedef packed_float3 MTLPackedFloat3; typedef packed_float3 MTLPackedFloat4x3","[4]",";"),(0,i.kt)("p",null,"\u7ed3\u6784 MTLAccelerationStructureInstanceDescriptor { MTLPackedFloat4x3 conversionMatrix; MTLAccelerationStructureInstanceOptions \u9009\u9879\uff1b uint \u63a9\u7801\uff1b uint intersectionFunctionTableOffset\uff1b uint AccelerationStructureIndex\uff1b };"),(0,i.kt)("p",null,"\u7ed3\u6784 MTLAccelerationStructureUserIDInstanceDescriptor { MTLPackedFloat4x3 conversionMatrix;"),(0,i.kt)("p",null,"MTLAccelerationStructureInstanceOptions \u9009\u9879\uff1b uint \u63a9\u7801\uff1b uint intersectionFunctionTableOffset\uff1b uint AccelerationStructureIndex\uff1b uint \u7528\u6237 ID\uff1b };"),(0,i.kt)("p",null,"\u4e3a\u4e86\u65b9\u4fbf\u586b\u5199\u63cf\u8ff0\u7b26\uff0cMetal \u63d0\u4f9b\u4e86\u4ece Acceleration_struct \u5230 MTLResourceID \u7684\u9690\u5f0f\u8f6c\u6362\u3002"),(0,i.kt)("p",null,"Acceleration_struct PrimitiveAStruct = ...; MTLResourceID \u8d44\u6e90","_","id = PrimitiveAStruct;"),(0,i.kt)("h2",{id:"6186-\u66f2\u7ebf\u5b9e\u7528\u51fd\u6570"},"6.18.6 \u66f2\u7ebf\u5b9e\u7528\u51fd\u6570"),(0,i.kt)("p",null,"\u4ece Metal 3.1 \u5f00\u59cb\uff0cMetal \u63d0\u4f9b\u4e86\u4e00\u7ec4\u5728\u6807\u5934 \u4e2d\u5b9a\u4e49\u7684\u66f2\u7ebf\u5b9e\u7528\u51fd\u6570\u3002\u4f7f\u7528\u4ee5\u4e0b\u7f29\u5199\uff1a"),(0,i.kt)("p",null,"ps \u662f\u6d6e\u52a8\u6216\u4e00\u534a\u3002"),(0,i.kt)("p",null,"P \u662f Ps \u7684\u6807\u91cf\u6216\u5411\u91cf\u3002\u5982\u679c Ps \u662f float\uff0c\u5219 P \u662f float4\u3002"),(0,i.kt)("p",null,"\u8fd9\u4e9b\u51fd\u6570\u8fd4\u56de\u7ed9\u5b9a\u66f2\u7ebf\u53c2\u6570 t \u548c\u63a7\u5236\u70b9 p0\u3001p1 \u7b49\u7684\u66f2\u7ebf\u4e0a\u7684\u4f4d\u7f6e\u6216\u4e00\u9636\u6216\u4e8c\u9636\u5bfc\u6570\u3002\u5982\u8868 6. 34 \u6240\u793a\uff0c\u8fd9\u4e9b\u51fd\u6570\u652f\u6301\u4e8c\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u3001\u4e09\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u3001\u4e8c\u6b21 B \u6837\u6761\u66f2\u7ebf\u3001\u4e09\u6b21 B \u6837\u6761\u66f2\u7ebf\u3001\u4e09\u6b21 Hermite \u548c Catmull-Rom \u66f2\u7ebf\u3002"),(0,i.kt)("h2",{id:"\u8868-634\u66f2\u7ebf\u6548\u7528\u51fd\u6570"},"\u8868 6.34\u3002\u66f2\u7ebf\u6548\u7528\u51fd\u6570"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"}," \u529f\u80fd\u8bf4\u660e")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"P \u8d1d\u585e\u5c14\u66f2\u7ebf ( Ps_t, P p0, P p1, P p2)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e8c\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e0a\u7684\u4f4d\u7f6e")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"P bezier_derivative( Ps_t, P p0, P p1, P p2)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e8c\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e0a\u7684\u4e00\u9636\u5bfc\u6570")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"P bezier_second_derivative( Ps_t, P p0, P p1, P p2)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e8c\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u7684\u4e8c\u9636\u5bfc\u6570")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"P \u8d1d\u585e\u5c14\u66f2\u7ebf ( Ps_t, P p0, P p1, P p2, P p3)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e09\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e0a\u7684\u4f4d\u7f6e")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"P bezier_derivative( Ps_t, P p0, P p1, P p2, P p3)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e09\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e0a\u7684\u4e00\u9636\u5bfc\u6570")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"P bezier_second_derivative( Ps_t, P p0, P p1, P p2, P p3)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e09\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u7684\u4e8c\u9636\u5bfc\u6570")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"P bspline( Ps_t, P p0, P p1, P p2)")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e8c\u6b21 B \u6837\u6761\u66f2\u7ebf\u4e0a\u7684\u4f4d\u7f6e")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e")),(0,i.kt)("p",null,"P bspline_derivative( Ps_t, P p0, P p1, P p2)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e8c\u6b21 B \u6837\u6761\u66f2\u7ebf\u4e0a\u7684\u4e00\u9636\u5bfc\u6570")),(0,i.kt)("p",null,"P bspline_second_derivative( Ps_t, P p0, P p1, P p2)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e8c\u6b21 B \u6837\u6761\u66f2\u7ebf\u7684\u4e8c\u9636\u5bfc\u6570")),(0,i.kt)("p",null,"P bspline( Ps_t, P p0, P p1, P p2, P p3)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e09\u6b21 B \u6837\u6761\u66f2\u7ebf\u4e0a\u7684\u4f4d\u7f6e")),(0,i.kt)("p",null,"P bspline_derivative( Ps_t, P p0, P p1, P p2, P p3)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e09\u6b21 B \u6837\u6761\u66f2\u7ebf\u4e0a\u7684\u4e00\u9636\u5bfc\u6570")),(0,i.kt)("p",null,"P bspline_second_derivative( Ps_t, P p0, P p1, P p2, P p3)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e09\u6b21 B \u6837\u6761\u66f2\u7ebf\u4e0a\u7684\u4e8c\u9636\u5bfc\u6570")),(0,i.kt)("p",null,"P hermite( Ps_t, P p0, P p1, P m0, P m1)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e09\u6b21 Hermite \u66f2\u7ebf\u4e0a\u7684\u4f4d\u7f6e")),(0,i.kt)("p",null,"P hermite_derivative( Ps_t, P p0, P p1, P m0, P m1)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e09\u6b21 Hermite \u66f2\u7ebf\u4e0a\u7684\u4e00\u9636\u5bfc\u6570")),(0,i.kt)("p",null,"P hermite_second_derivative( Ps_t, P p0, P p1, P m0, P m1)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e09\u6b21 Hermite \u66f2\u7ebf\u4e0a\u7684\u4e8c\u9636\u5bfc\u6570")),(0,i.kt)("p",null,"P catmull_rom( Ps_t, P p0, P p1, P p2, P p3)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de Catmull-Rom \u66f2\u7ebf\u4e0a\u7684\u4f4d\u7f6e")),(0,i.kt)("p",null,"P catmull_rom_derivative( Ps_t, P p0, P p1, P p2, P p3)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de Catmull-Rom \u66f2\u7ebf\u4e0a\u7684\u4e00\u9636\u5bfc\u6570")),(0,i.kt)("p",null,"P catmull_rom_second_derivative( Ps_t, P p0, P p1, P p2, P p3)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de Catmull-Rom \u66f2\u7ebf\u4e0a\u7684\u4e8c\u9636\u5bfc\u6570")))}k.isMDXComponent=!0}}]);