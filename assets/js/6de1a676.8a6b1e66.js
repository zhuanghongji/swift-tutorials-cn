"use strict";(self.webpackChunkswift_tutorials_cn=self.webpackChunkswift_tutorials_cn||[]).push([[9938],{3905:(l,t,e)=>{e.d(t,{Zo:()=>f,kt:()=>s});var n=e(67294);function a(l,t,e){return t in l?Object.defineProperty(l,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):l[t]=e,l}function p(l,t){var e=Object.keys(l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(l);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(l,t).enumerable}))),e.push.apply(e,n)}return e}function o(l){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?p(Object(e),!0).forEach((function(t){a(l,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(t){Object.defineProperty(l,t,Object.getOwnPropertyDescriptor(e,t))}))}return l}function u(l,t){if(null==l)return{};var e,n,a=function(l,t){if(null==l)return{};var e,n,a={},p=Object.keys(l);for(n=0;n<p.length;n++)e=p[n],t.indexOf(e)>=0||(a[e]=l[e]);return a}(l,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);for(n=0;n<p.length;n++)e=p[n],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(l,e)&&(a[e]=l[e])}return a}var i=n.createContext({}),k=function(l){var t=n.useContext(i),e=t;return l&&(e="function"==typeof l?l(t):o(o({},t),l)),e},f=function(l){var t=k(l.components);return n.createElement(i.Provider,{value:t},l.children)},r="mdxType",d={inlineCode:"code",wrapper:function(l){var t=l.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(l,t){var e=l.components,a=l.mdxType,p=l.originalType,i=l.parentName,f=u(l,["components","mdxType","originalType","parentName"]),r=k(e),c=a,s=r["".concat(i,".").concat(c)]||r[c]||d[c]||p;return e?n.createElement(s,o(o({ref:t},f),{},{components:e})):n.createElement(s,o({ref:t},f))}));function s(l,t){var e=arguments,a=t&&t.mdxType;if("string"==typeof l||a){var p=e.length,o=new Array(p);o[0]=c;var u={};for(var i in t)hasOwnProperty.call(t,i)&&(u[i]=t[i]);u.originalType=l,u[r]="string"==typeof l?l:a,o[1]=u;for(var k=2;k<p;k++)o[k]=e[k];return n.createElement.apply(null,o)}return n.createElement.apply(null,e)}c.displayName="MDXCreateElement"},58869:(l,t,e)=>{e.r(t),e.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>s,frontMatter:()=>p,metadata:()=>u,toc:()=>k});var n=e(87462),a=(e(67294),e(3905));const p={},o="\u5411\u91cf\u6570\u636e\u7c7b\u578b",u={unversionedId:"metal-shading-language-specification/vector-data-types/index",id:"metal-shading-language-specification/vector-data-types/index",title:"\u5411\u91cf\u6570\u636e\u7c7b\u578b",description:"Metal \u652f\u6301\u7cfb\u7edf\u77e2\u91cf\u6570\u5b66\u5e93\u5b9e\u73b0\u7684\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5b50\u96c6\u3002Metal \u652f\u6301\u8fd9\u4e9b\u5411\u91cf\u7c7b\u578b\u540d\u79f0\uff0c\u5176\u4e2d n \u662f 2 \u3001 3 \u6216 4 \uff0c\u5206\u522b\u8868\u793a 2 - \u3001 3 - \u6216 4 - \u5206\u91cf\u5411\u91cf\u7c7b\u578b\uff1a",source:"@site/docs/metal-shading-language-specification/vector-data-types/index.mdx",sourceDirName:"metal-shading-language-specification/vector-data-types",slug:"/metal-shading-language-specification/vector-data-types/",permalink:"/swift-tutorials-cn/docs/metal-shading-language-specification/vector-data-types/",draft:!1,editUrl:"https://github.com/zhuanghongji/swift-tutorials-cn/docs/metal-shading-language-specification/vector-data-types/index.mdx",tags:[],version:"current",lastUpdatedAt:1693285264,formattedLastUpdatedAt:"2023\u5e748\u670829\u65e5",frontMatter:{},sidebar:"metalshadinglanguagespecificationSidebar",previous:{title:"\u6807\u91cf\u6570\u636e\u7c7b\u578b",permalink:"/swift-tutorials-cn/docs/metal-shading-language-specification/scalar-data-types/"},next:{title:"\u77e9\u9635\u6570\u636e\u7c7b\u578b",permalink:"/swift-tutorials-cn/docs/metal-shading-language-specification/matrix-data-types/"}},i={},k=[{value:"\u8868 2.3\u3002\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5927\u5c0f\u548c\u5bf9\u9f50\u65b9\u5f0f",id:"\u8868-23\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5927\u5c0f\u548c\u5bf9\u9f50\u65b9\u5f0f",level:2},{value:"2 2",id:"2-2",level:3},{value:"4 4",id:"4-4",level:3},{value:"4 4",id:"4-4-1",level:3},{value:"4 4",id:"4-4-2",level:3},{value:"8 8",id:"8-8",level:3},{value:"8 8",id:"8-8-1",level:3},{value:"8 8",id:"8-8-2",level:3},{value:"16 16",id:"16-16",level:3},{value:"16 16",id:"16-16-1",level:3},{value:"16 16",id:"16-16-2",level:3},{value:"32 32",id:"32-32",level:3},{value:"32 32",id:"32-32-1",level:3},{value:"2.2.1 \u8bbf\u95ee\u5411\u91cf\u5206\u91cf",id:"221-\u8bbf\u95ee\u5411\u91cf\u5206\u91cf",level:2},{value:"2.2.2 \u5411\u91cf\u6784\u9020\u51fd\u6570",id:"222-\u5411\u91cf\u6784\u9020\u51fd\u6570",level:2},{value:"2.2.3 \u538b\u7f29\u5411\u91cf\u7c7b\u578b",id:"223-\u538b\u7f29\u5411\u91cf\u7c7b\u578b",level:2},{value:"\u8868 2.4\u3002\u6253\u5305\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5927\u5c0f\u548c\u5bf9\u9f50\u65b9\u5f0f",id:"\u8868-24\u6253\u5305\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5927\u5c0f\u548c\u5bf9\u9f50\u65b9\u5f0f",level:2},{value:"2 1",id:"2-1",level:3},{value:"3 1",id:"3-1",level:3},{value:"4 1",id:"4-1",level:3},{value:"4 2",id:"4-2",level:3},{value:"6 2",id:"6-2",level:3},{value:"8 2",id:"8-2",level:3},{value:"8 4",id:"8-4",level:3},{value:"12 4",id:"12-4",level:3},{value:"16 4",id:"16-4",level:3}],f=(r="OrigninalPDF",function(l){return console.warn("Component "+r+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",l)});var r;const d={toc:k},c="wrapper";function s(l){let{components:t,...e}=l;return(0,a.kt)(c,(0,n.Z)({},d,e,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u5411\u91cf\u6570\u636e\u7c7b\u578b"},"\u5411\u91cf\u6570\u636e\u7c7b\u578b"),(0,a.kt)(f,{title:"2.2 Vector Data Types",mdxType:"OrigninalPDF"}),(0,a.kt)("p",null,"Metal \u652f\u6301\u7cfb\u7edf\u77e2\u91cf\u6570\u5b66\u5e93\u5b9e\u73b0\u7684\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5b50\u96c6\u3002Metal \u652f\u6301\u8fd9\u4e9b\u5411\u91cf\u7c7b\u578b\u540d\u79f0\uff0c\u5176\u4e2d n \u662f 2 \u3001 3 \u6216 4 \uff0c\u5206\u522b\u8868\u793a 2 - \u3001 3 - \u6216 4 - \u5206\u91cf\u5411\u91cf\u7c7b\u578b\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"booln - charn - Shortn - intn - longn - ucharn - ushortn - uintn - ulongn - halfn - bfloatn \uff08\u81ea Metal 3. 1 \u8d77\u652f\u6301\uff09 - floatn")),(0,a.kt)("p",null,"Metal \u8fd8\u652f\u6301 vec\uff0c\u5176\u4e2d T \u662f\u6709\u6548\u7684\u6807\u91cf\u7c7b\u578b\uff0cn \u662f 2 \u3001 3 \u6216 4 \uff0c\u8868\u793a 2 - \u3001 3 - \u6216 4 - \u5206\u91cf\u5411\u91cf\u7c7b\u578b\u3002"),(0,a.kt)("p",null,"\u8868 2. 3 \u5217\u51fa\u4e86\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5927\u5c0f\u548c\u5bf9\u9f50\u65b9\u5f0f\u3002"),(0,a.kt)("h2",{id:"\u8868-23\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5927\u5c0f\u548c\u5bf9\u9f50\u65b9\u5f0f"},"\u8868 2.3\u3002\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5927\u5c0f\u548c\u5bf9\u9f50\u65b9\u5f0f"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u7c7b\u578b\u5927\u5c0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"}," \u5bf9\u9f50\u65b9\u5f0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u5e03\u5c142 2 2")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u5e03\u5c143 4 4")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u5e03\u5c144 4 4")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"char2 uchar2")),(0,a.kt)("h3",{id:"2-2"},"2 2"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"char3 uchar3")),(0,a.kt)("h3",{id:"4-4"},"4 4"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"char4 uchar4")),(0,a.kt)("h3",{id:"4-4-1"},"4 4"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"short2 ushort2")),(0,a.kt)("h3",{id:"4-4-2"},"4 4"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"short3 ushort3")),(0,a.kt)("h3",{id:"8-8"},"8 8"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"short4 ushort4")),(0,a.kt)("h3",{id:"8-8-1"},"8 8"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"int2 uint2")),(0,a.kt)("h3",{id:"8-8-2"},"8 8"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"int3 uint3")),(0,a.kt)("h3",{id:"16-16"},"16 16"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"int4 uint4")),(0,a.kt)("h3",{id:"16-16-1"},"16 16"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"long2 ulong2")),(0,a.kt)("h3",{id:"16-16-2"},"16 16"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"long3 ulong3")),(0,a.kt)("h3",{id:"32-32"},"32 32"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"long4 ulong4")),(0,a.kt)("h3",{id:"32-32-1"},"32 32"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u4e00\u534a 2 4 4")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u7c7b\u578b\u5927\u5c0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"}," \u5bf9\u9f50\u65b9\u5f0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"half3 8 8")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"\u534a 4 8 8")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"bfloat 2 4 4")),(0,a.kt)("p",null,"``bfloat3 8 8````"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"bfloat 4 8 8")),(0,a.kt)("p",null,"``float2 8 8````"),(0,a.kt)("p",null,"``float3 16 16````"),(0,a.kt)("p",null,"``float4 16 16````"),(0,a.kt)("h2",{id:"221-\u8bbf\u95ee\u5411\u91cf\u5206\u91cf"},"2.2.1 \u8bbf\u95ee\u5411\u91cf\u5206\u91cf"),(0,a.kt)("p",null,"\u4f60\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u7d22\u5f15\u6765\u8bbf\u95ee\u5411\u91cf\u5206\u91cf\u3002\u6570\u7ec4\u7d22\u5f15 0 \u6307\u5411\u91cf\u7684\u7b2c\u4e00\u4e2a\u5206\u91cf\uff0c\u7d22\u5f15 1 \u6307\u7b2c\u4e8c\u4e2a\u5206\u91cf\uff0c\u4f9d\u6b64\u7c7b\u63a8\u3002\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u4e86\u8bbf\u95ee\u6570\u7ec4\u7ec4\u4ef6\u7684\u5404\u79cd\u65b9\u6cd5\uff1a"),(0,a.kt)("p",null,"pos = float4(1.0f, 2.0f, 3.0f, 4.0f);"),(0,a.kt)("p",null,"\u6d6e\u70b9\u6570 x = pos","[0]","; // x = 1.0"),(0,a.kt)("p",null,"\u6d6e\u70b9\u6570 z = pos","[2]","; // z = 3.0"),(0,a.kt)("p",null,"float4 vA = float4(1.0f, 2.0f, 3.0f, 4.0f);"),(0,a.kt)("p",null,"\u6d6e\u70b9 4 vB\uff1b"),(0,a.kt)("p",null,"for (int i=0; i<4; i++)"),(0,a.kt)("p",null,"``` vB","[i]"," = vA","[i]"," ","*"," 2.0f // vB = (2.0, 4.0, 6.0, 8.0); ````"),(0,a.kt)("p",null,"Metal \u652f\u6301\u4f7f\u7528\u53e5\u70b9 (.) \u4f5c\u4e3a\u9009\u62e9\u8fd0\u7b97\u7b26\u6765\u8bbf\u95ee\u5411\u91cf\u5206\u91cf\uff0c\u4f7f\u7528\u53ef\u80fd\u6307\u793a\u5750\u6807\u6216\u989c\u8272\u6570\u636e\u7684\u5b57\u6bcd\uff1a"),(0,a.kt)("p",null,"<\u77e2\u91cf\u6570\u636e\u7c7b\u578b>.xyzw"),(0,a.kt)("p",null,"<\u77e2\u91cf\u6570\u636e\u7c7b\u578b>.rgba"),(0,a.kt)("p",null,"\u4ee5\u4e0b\u4ee3\u7801\u521d\u59cb\u5316\u5411\u91cf\u6d4b\u8bd5\uff0c\u7136\u540e\u4f7f\u7528 .xyzw \u6216 .rgba \u9009\u62e9\u8bed\u6cd5\u6765\u8bbf\u95ee\u5404\u4e2a\u7ec4\u4ef6\uff1a"),(0,a.kt)("p",null,"int4 \u6d4b\u8bd5 = int4(0, 1, 2, 3);"),(0,a.kt)("p",null,"int a = \u6d4b\u8bd5.x; // a = 0"),(0,a.kt)("p",null,"int b = \u6d4b\u8bd5.y; // b = 1"),(0,a.kt)("p",null,"int c = \u6d4b\u8bd5.z; // c = 2"),(0,a.kt)("p",null,"int d = \u6d4b\u8bd5.w; // d = 3"),(0,a.kt)("p",null,"int e = \u6d4b\u8bd5.r; // e = 0"),(0,a.kt)("p",null,"int f = \u6d4b\u8bd5.g; // f = 1"),(0,a.kt)("p",null,"int g = \u6d4b\u8bd5.b; // g = 2"),(0,a.kt)("p",null,"int h = \u6d4b\u8bd5.a; // h = 3"),(0,a.kt)("p",null,"\u7ec4\u4ef6\u9009\u62e9\u8bed\u6cd5\u5141\u8bb8\u9009\u62e9\u591a\u4e2a\u7ec4\u4ef6\uff1a"),(0,a.kt)("p",null,"\u6d6e\u52a8 4c;"),(0,a.kt)("p",null,"c.xyzw = float4(1.0f, 2.0f, 3.0f, 4.0f);"),(0,a.kt)("p",null,"c.z = 1.0f\uff1b"),(0,a.kt)("p",null,"c.xy = float2(3.0f, 4.0f);"),(0,a.kt)("p",null,"c.xyz = float3(3.0f, 4.0f, 5.0f);"),(0,a.kt)("p",null,"\u7ec4\u4ef6\u9009\u62e9\u8bed\u6cd5\u8fd8\u5141\u8bb8\u7ec4\u4ef6\u7684\u6392\u5217\u6216\u590d\u5236\uff1a"),(0,a.kt)("p",null,"float4 pos = float4(1.0f, 2.0f, 3.0f, 4.0f);"),(0,a.kt)("p",null,"float4 swiz = pos.upx; // swiz = (4.0f, 3.0f, 2.0f, 1.0f)"),(0,a.kt)("p",null,"float4 dup = pos.xxyy; // dup = (1.0f, 1.0f, 2.0f, 2.0f)"),(0,a.kt)("p",null,"\u7ec4\u4ef6\u7ec4\u8868\u793a\u6cd5\u53ef\u4ee5\u51fa\u73b0\u5728\u8868\u8fbe\u5f0f\u7684\u5de6\u4fa7\uff08\u5de6\u503c\uff09\u3002\u8981\u5f62\u6210\u5de6\u503c\uff0c\u4f60\u53ef\u4ee5\u5e94\u7528 swizzling\u3002\u751f\u6210\u7684\u5de6\u503c\u53ef\u4ee5\u662f\u6807\u91cf\u6216\u5411\u91cf\u7c7b\u578b\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u6307\u5b9a\u7684\u5206\u91cf\u6570\u91cf\u3002\u6bcf\u4e2a\u7ec4\u4ef6\u5fc5\u987b\u662f\u53d7\u652f\u6301\u7684\u6807\u91cf\u6216\u5411\u91cf\u7c7b\u578b\u3002\u5411\u91cf\u7c7b\u578b\u7684\u7ed3\u679c\u5de6\u503c\u4e0d\u5f97\u5305\u542b\u91cd\u590d\u7684\u7ec4\u4ef6\u3002"),(0,a.kt)("p",null,"float4 pos = float4(1.0f, 2.0f, 3.0f, 4.0f);"),(0,a.kt)("p",null,"// \u4f4d\u7f6e = (5.0, 2.0, 3.0, 6.0)"),(0,a.kt)("p",null,"pos.xw = float2(5.0f, 6.0f);"),(0,a.kt)("p",null,"// \u4f4d\u7f6e = (8.0, 2.0, 3.0, 7.0)"),(0,a.kt)("p",null,"pos.wx = float2(7.0f, 8.0f);"),(0,a.kt)("p",null,"// \u4f4d\u7f6e = (3.0, 5.0, 9.0, 7.0)"),(0,a.kt)("p",null,"pos.xyz = float3(3.0f, 5.0f, 9.0f);"),(0,a.kt)("p",null,"\u5c06\u6df7\u5408\u503c\u5206\u914d\u7ed9\u53d8\u91cf\u65f6\uff0cGPU \u53ef\u80fd\u9700\u8981\u8bfb\u53d6\u73b0\u6709\u503c\uff0c\u4fee\u6539\u5b83\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u5199\u56de\u3002\u4e0a\u4f8b\u4e2d\u5bf9 pos.xw \u7684\u8d4b\u503c\u5bfc\u81f4 GPU \u52a0\u8f7d float4 \u503c\uff0c\u5c06\u503c 5.0f \u548c 6.0f \u6df7\u6d17\u5230\u5176\u4e2d\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u56de pos\u3002\u5982\u679c\u4e24\u4e2a\u7ebf\u7a0b\u540c\u65f6\u5199\u5165\u5411\u91cf\u7684\u4e0d\u540c\u7ec4\u4ef6\uff0c\u5219\u7ed3\u679c\u662f\u4e0d\u786e\u5b9a\u7684\u3002"),(0,a.kt)("p",null,"\u4e0d\u5141\u8bb8\u4f7f\u7528\u4ee5\u4e0b\u5411\u91cf\u5206\u91cf\u8bbf\u95ee\u65b9\u6cd5\uff0c\u5e76\u4e14\u4f1a\u5bfc\u81f4\u7f16\u8bd1\u65f6\u9519\u8bef\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8bbf\u95ee\u8d85\u51fa\u4e3a\u5411\u91cf\u7c7b\u578b\u58f0\u660e\u7684\u7ec4\u4ef6\u662f\u9519\u8bef\u7684\u30022 - \u5206\u91cf\u5411\u91cf\u6570\u636e\u7c7b\u578b\u53ea\u80fd\u8bbf\u95ee .xy \u6216 .rg \u5143\u7d20\u30023 - \u5206\u91cf\u5411\u91cf\u6570\u636e\u7c7b\u578b\u53ea\u80fd\u8bbf\u95ee .xyz \u6216 .rgb \u5143\u7d20\u3002\u6d6e\u52a8 2 \u4f4d\u7f6e\uff1b // \u8fd9\u662f\u4e00\u4e2a 2 \u5206\u91cf\u5411\u91cf\u3002pos.x = 1.0f\uff1b // x \u662f\u5408\u6cd5\u7684\uff0cy \u4e5f\u662f\u5408\u6cd5\u7684\u3002\u4f4d\u7f6e z = 1.0f\uff1b // z \u662f\u975e\u6cd5\u7684\uff0cw \u4e5f\u662f\u975e\u6cd5\u7684\u3002z \u662f\u7b2c\u4e09\u4e2a\u5206\u91cf\u3002\u6d6e\u52a8 3 \u4f4d\u7f6e\uff1b // \u8fd9\u662f\u4e00\u4e2a 3 \u5206\u91cf\u5411\u91cf\u3002\u4f4d\u7f6e z = 1.0f\uff1b // z \u5bf9\u4e8e 3 \u5206\u91cf\u5411\u91cf\u662f\u5408\u6cd5\u7684\u3002\u4f4d\u7f6e w = 1.0f\uff1b // \u8fd9\u662f\u975e\u6cd5\u7684\u3002w \u662f\u7b2c\u56db\u4e2a\u5206\u91cf\u3002- \u5728\u5de6\u4fa7\u8bbf\u95ee\u540c\u4e00\u7ec4\u4ef6\u4e24\u6b21\u662f\u4e0d\u660e\u786e\u7684\u5e76\u4e14\u662f\u4e00\u4e2a\u9519\u8bef\uff1a")),(0,a.kt)("p",null,"``` // \u8fd9\u662f\u975e\u6cd5\u7684\uff0c\u56e0\u4e3a 'x' \u4f7f\u7528\u4e86\u4e24\u6b21\u3002pos.xx = float2(3.0f, 4.0f); ````"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8bbf\u95ee\u4e0d\u540c\u6570\u91cf\u7684\u7ec4\u4ef6\u4f1a\u51fa\u9519\uff1a")),(0,a.kt)("p",null,"``` // \u7531\u4e8e float2 \u548c float4 \u4e0d\u5339\u914d\uff0c\u8fd9\u662f\u975e\u6cd5\u7684\u3002pos.xy = float4(1.0f, 2.0f, 3.0f, 4.0f); ````"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5728\u4e00\u6b21\u8bbf\u95ee\u4e2d\u6df7\u5408\u4f7f\u7528 .rgba \u548c .xyzw \u8bed\u6cd5\u662f\u9519\u8bef\u7684\uff1a")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"float4 pos = float4(1.0f, 2.0f, 3.0f, 4.0f); pos.x = 1.0f; // \u597d\u7684 pos.g = 2.0f; // \u597d\u7684")),(0,a.kt)("p",null,"``` // \u7531\u4e8e\u6df7\u5408\u4e86 rgba \u548c xyzw \u5c5e\u6027\uff0c\u8fd9\u4e9b\u662f\u975e\u6cd5\u7684\u3002pos.xg = float2(3.0f, 4.0f); float3 \u5750\u6807 = pos.ryz; ````"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5bf9\u5e26\u6709 swizzles \u7684\u5411\u91cf\u7684\u6307\u9488\u6216\u5f15\u7528\u662f\u9519\u8bef\u7684\uff1a")),(0,a.kt)("p",null,"``` float4 pos = float4(1.0f, 2.0f, 3.0f, 4.0f); my_func(&pos.xy); // \u8fd9\u662f\u4e00\u4e2a\u6307\u5411 swizzle \u7684\u975e\u6cd5\u6307\u9488\u3002````"),(0,a.kt)("p",null,"\u5411\u91cf\u7c7b\u578b\u4e0a\u7684 sizeof \u8fd0\u7b97\u7b26\u8fd4\u56de\u5411\u91cf\u7684\u5927\u5c0f\uff0c\u4ee5\u5206\u91cf\u6570 ","*"," \u6bcf\u4e2a\u5206\u91cf\u7684\u5927\u5c0f\u7ed9\u51fa\u3002\u4f8b\u5982\uff0csizeof(float4) \u8fd4\u56de 16\uff0csizeof(half4) \u8fd4\u56de 8\u3002"),(0,a.kt)("h2",{id:"222-\u5411\u91cf\u6784\u9020\u51fd\u6570"},"2.2.2 \u5411\u91cf\u6784\u9020\u51fd\u6570"),(0,a.kt)("p",null,"\u4f60\u53ef\u4ee5\u4f7f\u7528\u6784\u9020\u51fd\u6570\u4ece\u4e00\u7ec4\u6807\u91cf\u6216\u5411\u91cf\u521b\u5efa\u5411\u91cf\u3002\u53c2\u6570\u7b7e\u540d\u51b3\u5b9a\u5982\u4f55\u6784\u9020\u548c\u521d\u59cb\u5316\u5411\u91cf\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4ec5\u4f7f\u7528\u5355\u4e2a\u6807\u91cf\u53c2\u6570\u521d\u59cb\u5316\u5411\u91cf\uff0c\u5219\u6784\u9020\u5411\u91cf\u7684\u6240\u6709\u5206\u91cf\u90fd\u5c06\u8bbe\u7f6e\u4e3a\u8be5\u6807\u91cf\u503c\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u4ece\u591a\u4e2a\u6807\u91cf\u3001\u4e00\u4e2a\u6216\u591a\u4e2a\u5411\u91cf\u6216\u8005\u6807\u91cf\u548c\u5411\u91cf\u7684\u6df7\u5408\u6784\u9020\u4e00\u4e2a\u5411\u91cf\uff0c\u5219\u8be5\u5411\u91cf\u7684\u5206\u91cf\u5c06\u6309\u7167\u53c2\u6570\u5206\u91cf\u7684\u987a\u5e8f\u6784\u9020\u3002\u53c2\u6570\u662f\u4ece\u5de6\u5230\u53f3\u6d88\u8017\u7684\u3002\u5728\u6d88\u8017\u4e0b\u4e00\u4e2a\u53c2\u6570\u7684\u4efb\u4f55\u7ec4\u4ef6\u4e4b\u524d\uff0c\u6bcf\u4e2a\u53c2\u6570\u90fd\u4f1a\u6309\u987a\u5e8f\u6d88\u8017\u5176\u6240\u6709\u7ec4\u4ef6\u3002"),(0,a.kt)("p",null,"\u8fd9\u662f float4 \u7684\u6784\u9020\u51fd\u6570\u5217\u8868\uff1a"),(0,a.kt)("p",null,"float4(\u6d6e\u70b9 x);"),(0,a.kt)("p",null,"float4(\u6d6e\u70b9 x, \u6d6e\u70b9 y, \u6d6e\u70b9 z, \u6d6e\u70b9 w);"),(0,a.kt)("p",null,"float4(float2 a, float2 b);"),(0,a.kt)("p",null,"float4(float2 a,float b,float c);"),(0,a.kt)("p",null,"float4\uff08\u6d6e\u70b9 a\uff0c\u6d6e\u70b9 b\uff0c\u6d6e\u70b9 2 c\uff09\uff1b"),(0,a.kt)("p",null,"float4\uff08\u6d6e\u70b9 a\uff0c\u6d6e\u70b9 2 b\uff0c\u6d6e\u70b9 c\uff09\uff1b"),(0,a.kt)("p",null,"float4(float3 a, float b);"),(0,a.kt)("p",null,"float4(float a, float3 b);"),(0,a.kt)("p",null,"\u6d6e\u70b9 4(\u6d6e\u70b9 4x);"),(0,a.kt)("p",null,"\u8fd9\u662f float3 \u7684\u6784\u9020\u51fd\u6570\u5217\u8868\uff1a"),(0,a.kt)("p",null,"\u6d6e\u70b9 3\uff08\u6d6e\u70b9 x\uff09\uff1b"),(0,a.kt)("p",null,"float3(\u6d6e\u70b9\u6570 x, \u6d6e\u70b9\u6570 y, \u6d6e\u70b9\u6570 z);"),(0,a.kt)("p",null,"float3(float a, float2 b);"),(0,a.kt)("p",null,"float3(float2 a,float b);"),(0,a.kt)("p",null,"float3(float3 x);"),(0,a.kt)("p",null,"\u8fd9\u662f float2 \u7684\u6784\u9020\u51fd\u6570\u5217\u8868\uff1a"),(0,a.kt)("p",null,"\u6d6e\u70b9 2\uff08\u6d6e\u70b9 x\uff09\uff1b"),(0,a.kt)("p",null,"float2(\u6d6e\u70b9\u6570 x, \u6d6e\u70b9\u6570 y);"),(0,a.kt)("p",null,"\u6d6e\u70b9 2(\u6d6e\u70b9 2x);"),(0,a.kt)("p",null,"\u4ee5\u4e0b\u793a\u4f8b\u8bf4\u660e\u4e86\u4e0a\u8ff0\u6784\u9020\u51fd\u6570\u7684\u7528\u6cd5\uff1a"),(0,a.kt)("p",null,"\u6d6e\u70b9\u6570 x = 1.0f\uff0cy = 2.0f\uff0cz = 3.0f\uff0cw = 4.0f\uff1b"),(0,a.kt)("p",null,"float4 a = float4(0.0f);"),(0,a.kt)("p",null,"float4 b = float4(x, y, z, w);"),(0,a.kt)("p",null,"float2 c = float2(5.0f, 6.0f);"),(0,a.kt)("p",null,"float2 a = float2(x, y);"),(0,a.kt)("p",null,"float2 b = float2(z, w);"),(0,a.kt)("p",null,"float4 x = float4(a.xy, b.xy);"),(0,a.kt)("p",null,"\u5411\u91cf\u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u4e0d\u8db3\u4f1a\u5bfc\u81f4\u7f16\u8bd1\u65f6\u9519\u8bef\u3002"),(0,a.kt)("h2",{id:"223-\u538b\u7f29\u5411\u91cf\u7c7b\u578b"},"2.2.3 \u538b\u7f29\u5411\u91cf\u7c7b\u578b"),(0,a.kt)("p",null,"\u4f60\u5fc5\u987b\u5c06\u7b2c 2.2 \u8282\u4e2d\u63cf\u8ff0\u7684\u5411\u91cf\u6570\u636e\u7c7b\u578b\u4e0e\u5411\u91cf\u7684\u5927\u5c0f\u5bf9\u9f50\u3002\u4f60\u8fd8\u53ef\u4ee5\u8981\u6c42\u5b83\u4eec\u7684\u77e2\u91cf\u6570\u636e\u7d27\u5bc6\u5305\u88c5\uff1b\u4f8b\u5982\uff0c\u9876\u70b9\u7ed3\u6784\u53ef\u80fd\u5305\u542b\u7d27\u5bc6\u5c01\u88c5\u7684\u4f4d\u7f6e\u3001\u6cd5\u7ebf\u3001\u5207\u7ebf\u5411\u91cf\u548c\u7eb9\u7406\u5750\u6807\uff0c\u5e76\u4f5c\u4e3a\u7f13\u51b2\u533a\u4f20\u9012\u7ed9\u9876\u70b9\u51fd\u6570\u3002"),(0,a.kt)("p",null,"\u652f\u6301\u7684\u6253\u5305\u5411\u91cf\u7c7b\u578b\u540d\u79f0\u4e3a\uff1a"),(0,a.kt)("p",null,"-packed_charn -packed_shortn -packed_intn -packed_ucharn -packed_ushortn -packed_uintn -packed_halfn -packed bfloatn\uff08\u4ece Metal 3 .1 \u5f00\u59cb\u652f\u6301\uff09 -packed_floatn -packed_longn\uff08\u4ece Metal 2.3 \u5f00\u59cb\u652f\u6301\uff09"),(0,a.kt)("p",null,"\u5176\u4e2d n \u4e3a 2\u30013 \u6216 4\uff0c\u5206\u522b\u8868\u793a 2 - \u3001 3 - \u6216 4 - \u5206\u91cf\u5411\u91cf\u7c7b\u578b\u3002\uff08packed_booln \u5411\u91cf\u7c7b\u578b\u540d\u79f0\u88ab\u4fdd\u7559\u3002\uff09"),(0,a.kt)("p",null,"Metal \u8fd8\u652f\u6301 Packed_vec\uff0c\u5176\u4e2d T \u662f\u6709\u6548\u7684\u6807\u91cf\u7c7b\u578b\uff0cn \u662f 2 \u3001 3 \u6216 4 \uff0c\u8868\u793a 2 - \u3001 3 - \u6216 4 - \u5206\u91cf\u6253\u5305\u5411\u91cf\u7c7b\u578b\u3002"),(0,a.kt)("p",null,"\u8868 2. 4 \u5217\u51fa\u4e86\u6253\u5305\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5927\u5c0f\u548c\u5bf9\u9f50\u65b9\u5f0f\u3002"),(0,a.kt)("h2",{id:"\u8868-24\u6253\u5305\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5927\u5c0f\u548c\u5bf9\u9f50\u65b9\u5f0f"},"\u8868 2.4\u3002\u6253\u5305\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u5927\u5c0f\u548c\u5bf9\u9f50\u65b9\u5f0f"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u7c7b\u578b\u5927\u5c0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u5bf9\u9f50\u65b9\u5f0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09")),(0,a.kt)("p",null,"\u6253\u5305","_","char2\u3001\u6253\u5305","_","uchar2"),(0,a.kt)("h3",{id:"2-1"},"2 1"),(0,a.kt)("p",null,"\u6253\u5305","_","char3\u3001\u6253\u5305","_","uchar3"),(0,a.kt)("h3",{id:"3-1"},"3 1"),(0,a.kt)("p",null,"\u6253\u5305","_","char4\u3001\u6253\u5305","_","uchar4"),(0,a.kt)("h3",{id:"4-1"},"4 1"),(0,a.kt)("p",null,"Packed_short2\u3001packed_ushort2"),(0,a.kt)("h3",{id:"4-2"},"4 2"),(0,a.kt)("p",null,"Packed_short3\u3001packed_ushort3"),(0,a.kt)("h3",{id:"6-2"},"6 2"),(0,a.kt)("p",null,"Packed_short4\u3001packed_ushort4"),(0,a.kt)("h3",{id:"8-2"},"8 2"),(0,a.kt)("p",null,"\u6253\u5305 int2\u3001\u6253\u5305 uint2"),(0,a.kt)("h3",{id:"8-4"},"8 4"),(0,a.kt)("p",null,"Packed_int3\u3001packed_uint3"),(0,a.kt)("h3",{id:"12-4"},"12 4"),(0,a.kt)("p",null,"\u6253\u5305 int4\u3001\u6253\u5305 uint4"),(0,a.kt)("h3",{id:"16-4"},"16 4"),(0,a.kt)("p",null,"\u6253\u5305","_","half2 4 2"),(0,a.kt)("p",null,"\u6253\u5305","_","half3 6 2"),(0,a.kt)("p",null,"\u6253\u5305","_","half4 8 2"),(0,a.kt)("p",null,"packed_bfloat2 4 2"),(0,a.kt)("p",null,"packed_bfloat3 6 2"),(0,a.kt)("p",null,"packed_bfloat4 8 2"),(0,a.kt)("p",null,"\u6253\u5305\u6d6e\u70b9 2 8 4"),(0,a.kt)("p",null,"packed_float3 12 4"),(0,a.kt)("p",null,"packed_float4 16 4"),(0,a.kt)("p",null,"\u6253\u5305\u957f 2 16 8"),(0,a.kt)("p",null,"\u6253\u5305\u957f 3 24 8"),(0,a.kt)("p",null,"packed_long4 32 8"),(0,a.kt)("p",null,"\u6253\u5305\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u901a\u5e38\u7528\u4f5c\u6570\u636e\u5b58\u50a8\u683c\u5f0f\u3002Metal \u652f\u6301\u6253\u5305\u5411\u91cf\u6570\u636e\u7c7b\u578b\u7684\u8d4b\u503c\u3001\u7b97\u672f\u3001\u903b\u8f91\u3001\u5173\u7cfb\u548c\u590d\u5236\u6784\u9020\u51fd\u6570\u8fd0\u7b97\u7b26\u3002Metal \u8fd8\u652f\u6301\u4ece\u6253\u5305\u5411\u91cf\u6570\u636e\u7c7b\u578b\u5230\u5bf9\u9f50\u5411\u91cf\u6570\u636e\u7c7b\u578b\u7684\u52a0\u8f7d\u548c\u5b58\u50a8\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002"),(0,a.kt)("p",null,"\u4f8b\u5b50\uff1a"),(0,a.kt)("p",null,"\u8bbe\u5907 float4 ","*","\u7f13\u51b2\u533a\uff1b"),(0,a.kt)("p",null,"\u8bbe\u5907 Packed_float4 ","*","packed_buffer;"),(0,a.kt)("p",null,"\u6574\u6570\u6211\uff1b"),(0,a.kt)("p",null,"Packed_float4 f ( \u7f13\u51b2\u533a ","[i]"," );"),(0,a.kt)("p",null,"pack_buffer","[i]"," = \u7f13\u51b2\u533a","[i]",";"),(0,a.kt)("p",null,"// \u7528\u4e8e\u4ece packed_float4 \u8f6c\u6362\u4e3a float4 \u7684\u8fd0\u7b97\u7b26\u3002"),(0,a.kt)("p",null,"buffer","[i]"," = float4(packed_buffer","[i]",");"),(0,a.kt)("p",null,"\u4f60\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u7d22\u5f15\u6765\u8bbf\u95ee\u6253\u5305\u5411\u91cf\u6570\u636e\u7c7b\u578b\u7684\u7ec4\u4ef6\u3002\u4ece Metal 2.1 \u5f00\u59cb\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 .xyzw \u6216 .rgba \u9009\u62e9\u8bed\u6cd5\u6765\u8bbf\u95ee\u6253\u5305\u77e2\u91cf\u6570\u636e\u7c7b\u578b\u7684\u7ec4\u4ef6\u3002\u6253\u5305\u5411\u91cf\u6570\u636e\u7c7b\u578b\u6df7\u5408\u65f6\u7684\u8bed\u4e49\u548c\u9650\u5236\u4e0e\u5411\u91cf\u7c7b\u578b\u76f8\u540c\u3002"),(0,a.kt)("p",null,"\u4f8b\u5b50\uff1a"),(0,a.kt)("p",null,"Packed_float4 f\uff1b"),(0,a.kt)("p",null,"f","[0]"," = 1.0f\uff1b // \u597d\u7684"),(0,a.kt)("p",null,"f.x = 1.0f\uff1b // \u4ece Metal 2.1 \u5f00\u59cb\u5c31\u53ef\u4ee5\u4e86"))}s.isMDXComponent=!0}}]);