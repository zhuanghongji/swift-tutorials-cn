(self.webpackChunkswift_tutorials_cn=self.webpackChunkswift_tutorials_cn||[]).push([[7993],{58065:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/heart_1.ce0ef75.640.png 640w,"+n.p+"assets/ideal-img/heart_1.9bdcb93.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/heart_1.ce0ef75.640.png",width:640,height:1387},{path:n.p+"assets/ideal-img/heart_1.9bdcb93.1030.png",width:1030,height:2233}],src:n.p+"assets/ideal-img/heart_1.ce0ef75.640.png",toString:function(){return n.p+"assets/ideal-img/heart_1.ce0ef75.640.png"},placeholder:void 0,width:640,height:1387},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABU0lEQVQokZVSwWrCQBTMf/Yveu0lh6hUI2ppe6hQ6sFPEGJRaqkUpBQS6EGCOQSLBYM9GDHSZt+Ut2STaIO0DxZ2Zmfn7TxWI6JTIvoGgPV6/ej7/omu67ee5/WZIyJeNxoR7RhwRVH0ttlsTMuy7pfL5Wsi5IKmAAChHFRRBgQ7ppiIBD9DCBHzPudI7KhuZVYFpR07zBe3TkGScG9xyTB5cFiU41RqCVarT4RhiO02QhAEqVg6CiHDYbH4QLN5hXb7Dp1OF7VaE7OZJ89Yo8VxLMFk8gLDOEe9fgHTbMEwqhgOR5lQOc7n79Kl0bhEq3WNSsXEdOpmwny60egJ5XINpVIVvV5//42H6cbjZwwGD7+Sa38ZD6k55omiYZNqfXi7aP+vT3FMKDn5zRL7lOCZ8VL/MOEFO34pUVFLxbPjWbIXvu+TbdtwHAeu68oGibj7A3iqSH7dYKTBAAAAAElFTkSuQmCC"}},5680:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/heart_2.02000ac.640.png 640w,"+n.p+"assets/ideal-img/heart_2.da631f9.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/heart_2.02000ac.640.png",width:640,height:1387},{path:n.p+"assets/ideal-img/heart_2.da631f9.1030.png",width:1030,height:2233}],src:n.p+"assets/ideal-img/heart_2.02000ac.640.png",toString:function(){return n.p+"assets/ideal-img/heart_2.02000ac.640.png"},placeholder:void 0,width:640,height:1387},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOElEQVQokY1SzU6EQAzmPX0Lr154AJ/AgzffAb2xgUXNGsB4IhIym/XCuiYggrBOazqZDgO7/nxJQ9v55ms71AGAUwDYIyLWde0LIU5c173M8/yacgBAduEAwCcFhK7rnpqmOfc876YsywdNJKDDASJKVmDAGEhSNDEASGpDSvlFvqUIpMi3RqkjcH47tEGlTaAnnBhBDWMHc4CV46lV0LYt9n2Pw7DHpvkw5IliXb9jFN3jahVjHD9iEES4272NpaVUr4CbzQv6foBheKuM/DwvDnusqkqpLJd3SnmxCHG7fZ0SmVwUQhFILcuepz3OpxNibUraZ/96HpiX/umxgUvPbx/z1fYw96C2hb+2x5xxjypBX/oBZLyHOi9JcWCSpWLUOU+KZ9qXQghIkgTTNMUsy1QBTb76BmGPVOcyJNLFAAAAAElFTkSuQmCC"}},98157:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/heart_3.0a245a9.640.png 640w,"+n.p+"assets/ideal-img/heart_3.fb579b0.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/heart_3.0a245a9.640.png",width:640,height:1387},{path:n.p+"assets/ideal-img/heart_3.fb579b0.1030.png",width:1030,height:2233}],src:n.p+"assets/ideal-img/heart_3.0a245a9.640.png",toString:function(){return n.p+"assets/ideal-img/heart_3.0a245a9.640.png"},placeholder:void 0,width:640,height:1387},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABW0lEQVQokZWSvUoDURCF9z0UsVNEEH2IiFYRBRWfwFIbC5sgWGmTNopgoaWt0UKwsBGFDWiRQMQFGwMihEDE7Mwns7s32WxCwAOXnZ9zz9yZHU9Vd1W1A9BsNu+DINgqFApn9Xr9xmKqaqfkqeqPOYZ2u/3SarWOy+XybaPReE6IBjznAOIUHLTniCl2fVUVe4aIhGanFNUU3a2e1BB4o5JpeKTehAiIWr3Y1iQXNeMcI2ShmintAm8f8PkF302ovvfIkWIYNQd+FeY3ILcN+R2YXoG7xzgXCh6d6KfAyRWM5WB2DWZWYXwRDk/jXCdMKT69wlQe5tZhYRMml+H6IVE0ouvQcHQOE0ux2l4x88ZMdxQv4aA00LmXntUAJDvHNDkaev+w6SudSWTtfy3FKGI3Z/vYXVD7igh23B4mcTHFX0caVtLFTXE/sSUIAvV9n0qlQq1Wiwok5Is/sjBFNQ7M53sAAAAASUVORK5CYII="}},57603:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/tap_1.f2fe889.640.png 640w,"+n.p+"assets/ideal-img/tap_1.44d2b15.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/tap_1.f2fe889.640.png",width:640,height:1387},{path:n.p+"assets/ideal-img/tap_1.44d2b15.1030.png",width:1030,height:2233}],src:n.p+"assets/ideal-img/tap_1.f2fe889.640.png",toString:function(){return n.p+"assets/ideal-img/tap_1.f2fe889.640.png"},placeholder:void 0,width:640,height:1387},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbElEQVQokZ2Sv0rDUBTG7zsIDg66uHVw8wUcBCs4CYKgS2cLrg6GWnBQB3FS1E3QPkHtIoKTKKTQxWLBiP9IFW0ITZrccz65bW4bSymtBz5yv3NPfjnn5gpmXmfmEAAcx7m2LGvZMIzTSqVyqXLMrHQkmNlXRoXneSXXdXfz+XzBtu37qFAFhDYASBN0cMeQIrY9M5Nqg4ikWseIrIj6rQ6qR4h+m/8rZNVf6wi6hD++NXVPBncRfR/wfcjAh0+NpryQUA+ARhgjysU5IDmLQmYJM6U0Fu7WkDh8wsgWsHLu4furCtuuQoSJcWBiDBepKYzezmPyKglhPECkgOmDOj4/3vDy+g5BO1kgm4GZ28Pm8wm2H4+RLthYzQH7NwFcp4afWm2YYUgCUoKJIDkSMSQBRLFhhjpHDPhnBr4U/Qrbe80eNVU9iQhK+h5GeVLEQBfFKG26ziviRrQmy7LYNE0Ui0WUy+XmB6Lis19fI0AxcEwuMAAAAABJRU5ErkJggg=="}},65885:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/tap_2.0da0494.640.png 640w,"+n.p+"assets/ideal-img/tap_2.637fa20.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/tap_2.0da0494.640.png",width:640,height:1387},{path:n.p+"assets/ideal-img/tap_2.637fa20.1030.png",width:1030,height:2233}],src:n.p+"assets/ideal-img/tap_2.0da0494.640.png",toString:function(){return n.p+"assets/ideal-img/tap_2.0da0494.640.png"},placeholder:void 0,width:640,height:1387},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABD0lEQVQokaVSMUrEUBD9d/AC4gE8kJZb2whWNjmAvSCLndh4gChYeAAhAauwKX6hRcoQNq5m3pNZ/ySb+F0VHwzzZv77bz7JOADHAN5Jsq7rB+/9YZIkl2VZ3moPgMaFA/CqhaJt26emac7SNL2rquoxCBV0VpAUczBgKEQd+xqA6DNEpFO+4Qh1tFuDVQRu2+E/hMBnTLki8EFo2bhIRLgpnl4MGDsul+TJETk7IF+eR85uNGZRkPt75O4Oeb/+g2TXTRzN9eaanJ+Tq9Uv3hjpuVFDs47SAH5w/Oabuq/z4vjTUmwT9me6j/2CahYRatgehr6o45uJYiOtr46ngYv3HlmWMc9zFkWxHhDEVx+ya1lXorXECwAAAABJRU5ErkJggg=="}},3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=l(n),d=r,h=u["".concat(p,".").concat(d)]||u[d]||g[d]||i;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[u]="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},86810:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>w,contentTitle:()=>A,default:()=>N,frontMatter:()=>m,metadata:()=>f,toc:()=>k});var a=n(87462),r=(n(67294),n(3905)),i=n(58065),o=n.n(i),s=n(5680),p=n.n(s),l=n(98157),c=n.n(l),u=n(57603),g=n.n(u),d=n(65885),h=n.n(d);const m={},A="\u8bc6\u522b\u70b9\u51fb\u624b\u52bf",f={unversionedId:"swiftui/event-handling/recognizing-tap-gestures/index",id:"swiftui/event-handling/recognizing-tap-gestures/index",title:"\u8bc6\u522b\u70b9\u51fb\u624b\u52bf",description:"onTapGesture(count)",source:"@site/docs/swiftui/event-handling/recognizing-tap-gestures/index.mdx",sourceDirName:"swiftui/event-handling/recognizing-tap-gestures",slug:"/swiftui/event-handling/recognizing-tap-gestures/",permalink:"/swift-tutorials-cn/docs/swiftui/event-handling/recognizing-tap-gestures/",draft:!1,editUrl:"https://github.com/zhuanghongji/swift-tutorials-cn/docs/swiftui/event-handling/recognizing-tap-gestures/index.mdx",tags:[],version:"current",lastUpdatedAt:1693122607,formattedLastUpdatedAt:"2023\u5e748\u670827\u65e5",frontMatter:{},sidebar:"swiftuiSidebar",previous:{title:"Grid",permalink:"/swift-tutorials-cn/docs/swiftui/viewlayout/grid/"},next:{title:"\u8bc6\u522b\u957f\u6309\u624b\u52bf",permalink:"/swift-tutorials-cn/docs/swiftui/event-handling/recognizing-long-press-gestures/"}},w={},k=[{value:"onTapGesture(count:perform:)",id:"ontapgesturecountperform",level:2},{value:"onTapGesture(count:coordinateSpace:perform:)",id:"ontapgesturecountcoordinatespaceperform",level:2},{value:"TapGesture",id:"tapgesture",level:2},{value:"SpatialTapGesture",id:"spatialtapgesture",level:2}],b=(v="ScreenshotBlock",function(e){return console.warn("Component "+v+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)});var v;const S={toc:k},C="wrapper";function N(e){let{components:t,...n}=e;return(0,r.kt)(C,(0,a.Z)({},S,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u8bc6\u522b\u70b9\u51fb\u624b\u52bf"},"\u8bc6\u522b\u70b9\u51fb\u624b\u52bf"),(0,r.kt)("h2",{id:"ontapgesturecountperform"},"onTapGesture(count:perform:)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"extension View {\n\n    // \u7ed9\u89c6\u56fe\u6dfb\u52a0\u4e00\u4e2a action\uff0c\u5728\u5176\u8bc6\u522b\u51fa\u70b9\u51fb\u624b\u52bf\u65f6\u6267\u884c\n    // - count: \u89e6\u53d1\u6267\u884c action \u95ed\u5305\u6240\u9700\u7684\u70b9\u51fb\u6b21\u6570\n    // - perform: \u8981\u6267\u884c\u7684\u64cd\u4f5c\n    public func onTapGesture(count: Int = 1,\n                             perform action: @escaping () -> Void\n    ) -> some View\n}\n")),(0,r.kt)("p",null,"\u5f53\u7528\u6237\u70b9\u51fb\u89c6\u56fe\u6216\u5bb9\u5668 ",(0,r.kt)("inlineCode",{parentName:"p"},"count")," \u6b21\u65f6\uff0c\u4f7f\u7528\u6b64\u65b9\u6cd5\u6267\u884c\u6307\u5b9a\u64cd\u4f5c\u3002"),(0,r.kt)("p",null,"\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6bcf\u5f53\u7528\u6237\u5355\u51fb\u89c6\u56fe\u65f6\uff0c\u5fc3\u5f62\u56fe\u50cf\u7684\u900f\u660e\u5ea6\u4f1a\u53d1\u751f\u53d8\u5316\uff1a"),(0,r.kt)(b,{mini:!0,src:o(),srcRight:p(),mdxType:"ScreenshotBlock"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'@State private var translucent = false\n\nvar body: some View {\n    Image(systemName: "heart.fill")\n        .resizable()\n        .frame(width: 200, height: 200)\n        .foregroundColor(.gray)\n        .opacity(translucent ? 0.5 : 1)\n        // highlight-start\n        .onTapGesture {\n            translucent.toggle()\n        }\n        // highlight-end\n}\n'))),(0,r.kt)("p",null,"\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6bcf\u5f53\u7528\u6237\u53cc\u51fb\u89c6\u56fe\u65f6\uff0c\u5fc3\u5f62\u56fe\u50cf\u7684\u989c\u8272\u4f1a\u53d1\u751f\u53d8\u5316\uff1a"),(0,r.kt)(b,{mini:!0,src:o(),srcRight:c(),mdxType:"ScreenshotBlock"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'let colors: [Color] = [.gray, .red,\n                       .orange, .yellow,\n                       .green, .blue,\n                       .purple, .pink]\n@State private var fgColor: Color = .gray\n\nvar body: some View {\n    Image(systemName: "heart.fill")\n        .resizable()\n        .frame(width: 200, height: 200)\n        .foregroundColor(fgColor)\n        // highlight-start\n        .onTapGesture(count: 2) {\n            fgColor = colors.randomElement()!\n        }\n        // highlight-end\n}\n'))),(0,r.kt)("p",null,'\u5728\u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u4f60 "\u5355\u51fb" \u89c6\u56fe\u65f6\u662f\u4e0d\u4f1a\u89e6\u53d1 ',(0,r.kt)("inlineCode",{parentName:"p"},"fgColor = colors.randomElement()!")," \u8fd9\u4e2a\u64cd\u4f5c\u7684\uff0c\u56e0\u4e3a\u4f60\u9650\u5b9a\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"count: 2"),'\u3002\u5982\u679c\u4f60\u60f3\u5728\u8be5\u793a\u4f8b\u4e0a\u8865\u5145\u4e0a\u4e0a\u793a\u4f8b\u4e2d\u7684 "\u900f\u660e\u5ea6\u5355\u51fb\u53d8\u5316" \u903b\u8f91\uff0c\u53ef\u4ee5\u8fd9\u6837\uff1a'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'let colors: [Color] = [.gray, .red,\n                       .orange, .yellow,\n                       .green, .blue,\n                       .purple, .pink]\n@State private var fgColor: Color = .gray\n// highlight-next-line\n@State private var translucent = false\n\nvar body: some View {\n    Image(systemName: "heart.fill")\n        .resizable()\n        .frame(width: 200, height: 200)\n        .foregroundColor(fgColor)\n        // highlight-next-line\n        .opacity(translucent ? 0.5 : 1)\n        .onTapGesture(count: 2) {\n            fgColor = colors.randomElement()!\n        }\n        // highlight-start\n        .onTapGesture {\n            translucent.toggle()\n        }\n        // highlight-end\n}\n')),(0,r.kt)("p",null,"\u6ce8\u610f\uff0c\u5355\u51fb\u65b9\u6cd5 ",(0,r.kt)("inlineCode",{parentName:"p"},".onTapGesture")," \u9700\u653e\u5728\u53cc\u51fb\u65b9\u6cd5 ",(0,r.kt)("inlineCode",{parentName:"p"},".onTapGesture(count: 2)"),' \u4e4b\u540e\u3002\u5426\u5219\uff0c\u524d\u8005\u4f1a\u63a5\u6536\u5e76\u6d88\u8017\u6389\u6240\u6709\u7684 "\u70b9\u51fb" \u4e8b\u4ef6\u800c\u65e0\u6cd5\u4f20\u9012\u7ed9\u540e\u8005\u3002\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5e94\u5c3d\u91cf\u907f\u514d\u8fd9\u79cd\u540c\u65f6\u54cd\u5e94\u5355\u51fb\u548c\u53cc\u51fb\u7684\u624b\u52bf\u573a\u666f\uff0c\u56e0\u4e3a\u5f53\u4f60\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\u8fdb\u884c "\u5355\u51fb" \u64cd\u4f5c\u65f6\uff0c',(0,r.kt)("inlineCode",{parentName:"p"},".onTapGesture"),' \u7684\u6267\u884c\u4f1a\u6709\u4e00\u70b9\u6ede\u540e\uff0c\u539f\u56e0\u662f SwiftUI \u9700\u786e\u4fdd "\u70b9\u51fb\u64cd\u4f5c" \u5e76\u975e\u662f ',(0,r.kt)("inlineCode",{parentName:"p"},".onTapGesture(count: 2)")," \u65f6\u624d\u4f1a\u5c06\u4e8b\u4ef6\u4f20\u9012\u7ed9 ",(0,r.kt)("inlineCode",{parentName:"p"},".onTapGesture"),"\u3002"),(0,r.kt)("h2",{id:"ontapgesturecountcoordinatespaceperform"},"onTapGesture(count:coordinateSpace:perform:)"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"onTapGesture(count:coordinateSpace:perform:)")," \u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"onTapGesture(count:perform:)")," \u7684\u4e00\u4e2a\u91cd\u8f7d\u65b9\u6cd5\uff0c\u5176 action \u95ed\u5305\u652f\u6301\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"GPoint")," \u53c2\u6570\u4ee5\u544a\u77e5\u4f60\u7528\u6237\u70b9\u51fb\u7684\u4f4d\u7f6e\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"extension View {\n\n    /// Adds an action to perform when this view recognizes a tap gesture,\n    /// and provides the action with the location of the interaction.\n    public func onTapGesture(count: Int = 1,\n                             coordinateSpace: some CoordinateSpaceProtocol = .local,\n                             perform action: @escaping (CGPoint) -> Void\n    ) -> some View\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"/// A frame of reference within the layout system.\npublic protocol CoordinateSpaceProtocol {\n\n    /// The resolved coordinate space.\n    var coordinateSpace: CoordinateSpace { get }\n}\n\n/// A resolved coordinate space created by `CoordinateSpaceProtocol`.\npublic enum CoordinateSpace {\n\n    /// The global coordinate space at the root of the view hierarchy.\n    case global\n\n    /// The local coordinate space of the current view.\n    case local\n\n    /// A named reference to a view's local coordinate space.\n    case named(AnyHashable)\n}\n")),(0,r.kt)("p",null,"\u793a\u4f8b\u5982\u4e0b\uff1a"),(0,r.kt)(b,{mini:!0,src:g(),mdxType:"ScreenshotBlock"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'HStack(spacing: 0) {\n    Color.red\n        .frame(width: 100, height: 100)\n    Color.green\n        .frame(width: 100, height: 100)\n    Color.blue\n        .frame(width: 100, height: 100)\n    Spacer()\n}\n.background(.gray.opacity(0.2))\n.onTapGesture { location in\n    print("location = \\(location)")\n    switch location.x {\n    case 0..<100:\n        print("tap red")\n    case 100..<200:\n        print("tap green")\n    case 200...300:\n        print("tap blue")\n    default:\n        print("tap background")\n    }\n}\n'))),(0,r.kt)("p",null,'\u5f53\u4f60\u4f9d\u6b21\u70b9\u51fb\u4e0a\u53f3\u56fe "\u7ea2\u8272"\u3001"\u7eff\u8272"\u3001"\u84dd\u8272"\u3001"\u7070\u8272" \u533a\u57df\u65f6\uff0c\u6253\u5370\u65e5\u5fd7\u5927\u81f4\u5982\u4e0b\uff1a'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"// location = (17.666656494140625, 55.666661580403684)\n// tap red\n// location = (109.66665649414062, 44.33333333333337)\n// tap green\n// location = (250.3333282470703, 47.666661580403684)\n// tap blue\n// location = (343.3333282470703, 59.999989827473996)\n// tap background\n")),(0,r.kt)("p",null,"\u4e0a\u9762\u65e5\u5fd7\u4e2d\u7684 location \u7684 x\u3001y \u5750\u6807\u662f\u9ed8\u8ba4 ",(0,r.kt)("inlineCode",{parentName:"p"},".local")," \u7684\uff0c\u662f\u57fa\u4e8e\u793a\u4f8b\u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"HStack")," \u7684 Frame \u7684\u3002\u5982\u679c\u60f3 location \u5750\u6807\u57fa\u4e8e\u624b\u673a\u5c4f\u5e55 frame\uff0c\u53ef\u4ee5\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"onTapGesture")," \u4e2d\u663e\u5f0f\u6307\u5b9a ",(0,r.kt)("inlineCode",{parentName:"p"},"coordinateSpace")," \u7684\u503c\u3002\u6bd4\u5982\uff0c\u57fa\u4e8e\u4e0a\u9762\u793a\u4f8b\u8c03\u6574\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"// ...\n\n.onTapGesture(coordinateSpace: .global) { location in\n    // ...\n}\n\n")),(0,r.kt)("p",null,'\u7136\u540e\u518d\u4f9d\u6b21\u70b9\u51fb\u4e0a\u53f3\u56fe "\u7ea2\u8272"\u3001"\u7eff\u8272"\u3001"\u84dd\u8272"\u3001"\u7070\u8272" \u533a\u57df\u65f6\uff0c\u6253\u5370\u65e5\u5fd7\u5927\u81f4\u5982\u4e0b\uff1a'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"// location = (34.33332824707031, 435.0)\n// tap red\n// location = (150.0, 440.6666564941406)\n// tap green\n// location = (237.3333282470703, 444.3333282470703)\n// tap blue\n// location = (325.3333282470703, 442.3333282470703)\n// tap background\n")),(0,r.kt)("h2",{id:"tapgesture"},"TapGesture"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/swiftui/tapgesture"},"TapGesture")," \u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u53ef\u7528\u4e8e\u8bc6\u522b\u4e00\u6b21\u6216\u591a\u6b21\u70b9\u51fb\u7684\u624b\u52bf\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"public struct TapGesture : Gesture {\n    // ...\n\n    /// The required number of tap events.\n    public var count: Int\n\n    /// Creates a tap gesture with the number of required taps.\n    public init(count: Int = 1)\n}\n")),(0,r.kt)("p",null,"\u53ef\u4ee5\u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"p"},"gesture(_:including:)")," \u4fee\u9970\u5668\u5c06\u5176\u6dfb\u52a0\u5230\u89c6\u56fe\u4e2d\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"extension View {\n    // ...\n\n    /// \u4ee5\u6bd4\u89c6\u56fe\u5b9a\u4e49\u7684\u624b\u52bf\u66f4\u4f4e\u7684\u4f18\u5148\u7ea7\u5c06\u624b\u52bf\u9644\u52a0\u5230\u89c6\u56fe\n    public func gesture<T>(_ gesture: T,\n                           including mask: GestureMask = .all\n    ) -> some View where T : Gesture\n}\n\n// \u63a7\u5236\u5c06\u624b\u52bf\u6dfb\u52a0\u5230\u89c6\u56fe\u65f6\uff0c\u5982\u4f55\u5f71\u54cd\u89c6\u56fe\u53ca\u5176\u5b50\u89c6\u56fe\u8bc6\u522b\u5176\u4ed6\u624b\u52bf\u7684\u9009\u9879\n@frozen public struct GestureMask : OptionSet {\n    // ...\n\n    /// Disable all gestures in the subview hierarchy, including the added\n    /// gesture.\n    public static let none: GestureMask\n\n    /// Enable the added gesture but disable all gestures in the subview\n    /// hierarchy.\n    public static let gesture: GestureMask\n\n    /// Enable all gestures in the subview hierarchy but disable the added\n    /// gesture.\n    public static let subviews: GestureMask\n\n    /// Enable both the added gesture as well as all other gestures on the view\n    /// and its subviews.\n    public static let all: GestureMask\n}\n")),(0,r.kt)("p",null,"\u6bd4\u5982\uff1a"),(0,r.kt)(b,{mini:!0,src:h(),mdxType:"ScreenshotBlock"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'@State private var tapped = false\n\nvar tap: some Gesture {\n    TapGesture(count: 1)\n        .onEnded { _ in self.tapped = !self.tapped }\n}\n\nvar body: some View {\n    Circle()\n        .fill(self.tapped ? Color.blue : Color.red)\n        .frame(width: 100, height: 100, alignment: .center)\n        .gesture(tap)\n}\n\n// \u70b9\u51fb\u53f3\u56fe Circle \u65f6\uff0c\u5728 "\u7ea2\u8272" \u4e0e "\u84dd\u8272" \u95f4\u5207\u6362\n'))),(0,r.kt)("h2",{id:"spatialtapgesture"},"SpatialTapGesture"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/swiftui/spatialtapgesture"},"SpatialTapGesture"),": \u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u53ef\u7528\u4e8e\u8bc6\u522b\u4e00\u6b21\u6216\u591a\u6b21\u70b9\u51fb\u5e76\u62a5\u544a\u5176\u4f4d\u7f6e\u7684\u624b\u52bf\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"public struct SpatialTapGesture : Gesture {\n    // ...\n\n    /// The attributes of a tap gesture.\n    public struct Value : Equatable, @unchecked Sendable {\n        // ...\n\n        /// The location of the tap gesture's current event.\n        public var location: CGPoint\n    }\n\n    /// The required number of tap events.\n    public var count: Int\n\n    /// The coordinate space in which to receive location values.\n    public var coordinateSpace: CoordinateSpace\n\n    public init(count: Int = 1, coordinateSpace: CoordinateSpace = .local)\n}\n")),(0,r.kt)(b,{mini:!0,src:h(),mdxType:"ScreenshotBlock"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'@State private var location: CGPoint = .zero\n\nvar tap: some Gesture {\n    SpatialTapGesture(count: 1)\n        .onEnded { event in\n            print("location = \\(location)")\n            self.location = event.location\n        }\n}\n\nvar body: some View {\n    Circle()\n        .fill(self.location.y > 50 ? Color.blue : Color.red)\n        .frame(width: 100, height: 100, alignment: .center)\n        .gesture(tap)\n}\n\n// \u70b9\u51fb Circle \u65f6\uff0c\u6253\u5370\u65e5\u5fd7\u5927\u81f4\u5982\u4e0b\uff1a\n// location = (40.666661580403655, 11.999989827473996)\n// location = (14.666661580403655, 51.999989827473996\n// location = (72.66666158040366, 56.666661580403684)\n'))),(0,r.kt)("p",null,"\u4ed4\u7ec6\u770b\u4e0a\u9762\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"onEnded")," \u5b9e\u73b0\u4f60\u53ef\u80fd\u4f1a\u611f\u89c9\u5230\u5f88\u5947\u602a\uff0c\u4e3a\u5565 ",(0,r.kt)("inlineCode",{parentName:"p"},"SpatialTapGesture")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"onEvent")," \u4f1a\u62a5\u544a\u5750\u6807\u800c ",(0,r.kt)("inlineCode",{parentName:"p"},"TapGesture")," \u7684\u5c31\u4e0d\u4f1a\uff1f\u5bf9\u6bd4\u4e24\u8005\u7684\u521d\u59cb\u5316\u5668\u53c2\u6570\u90fd\u662f\u4e00\u6837\u7684\u5440\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"TapGesture(count: 1)\n        .onEnded { _ in\n            // ...\n        }\n\nSpatialTapGesture(count: 1)\n        .onEnded { event in\n            // ...\n        }\n")),(0,r.kt)("p",null,"\u5ba2\u5b98\u522b\u6025\uff0c\u4f60\u770b\u4e0b\u9762\u7684\u5b9a\u4e49\u4ee3\u7801\u7684\u9ad8\u4eae\u884c\u548c\u5176\u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Value")," \u5173\u8054\u5173\u7cfb\u5c31\u61c2\u4e86\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},"public protocol Gesture<Value> {\n\n    /// The type representing the gesture's value.\n    // highlight-next-line\n    associatedtype Value\n\n    /// The type of gesture representing the body of `Self`.\n    associatedtype Body : Gesture\n\n    /// The content and behavior of the gesture.\n    var body: Self.Body { get }\n}\n\nextension Gesture {\n\n    /// Adds an action to perform when the gesture ends.\n    // highlight-start\n    public func onEnded(_ action: @escaping (Self.Value) -> Void)\n            -> _EndedGesture<Self>\n    // highlight-end\n}\n\npublic struct TapGesture : Gesture {\n    // ...\n\n    // highlight-next-line\n    public typealias Value = Void\n}\n\npublic struct SpatialTapGesture : Gesture {\n    // ...\n\n    // highlight-start\n    public struct Value : Equatable, @unchecked Sendable {\n\n        public var location: CGPoint\n\n        public static func == (a: SpatialTapGesture.Value,\n                               b: SpatialTapGesture.Value) -> Bool\n    }\n    // highlight-end\n}\n")))}N.isMDXComponent=!0}}]);